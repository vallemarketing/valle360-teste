(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1080],{79652:function(e,t,a){Promise.resolve().then(a.bind(a,42150))},42150:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var s=a(57437),l=a(2265),i=a(95452),n=a(92735),r=a(99397),c=a(95252),o=a(76865),d=a(41671),m=a(70525),x=a(31047),g=a(42208),h=a(13041),p=a(89345),u=a(44743),b=a(32489),j=a(61649),f=a(48736),y=a(98420),N=a(53417),v=a(57586),w=a(26892),k=a(14438);function _(){let[e,t]=(0,l.useState)([]),[a,_]=(0,l.useState)(!0),[A,Z]=(0,l.useState)({mrr:0,late_total:0,active_contracts:0,avg_ticket:0}),[R,D]=(0,l.useState)(!1),[P,L]=(0,l.useState)(!1),[V,M]=(0,l.useState)(null),[O,B]=(0,l.useState)(!1),[T,$]=(0,l.useState)(!1),[F,I]=(0,l.useState)(""),[W,z]=(0,l.useState)({sendgrid:!1,whatsapp:!1}),[U,J]=(0,l.useState)(!0);(0,i.createClientComponentClient)(),(0,l.useEffect)(()=>{G()},[]);let G=async()=>{_(!0);try{try{var e,a;let t=await fetch("/api/admin/integrations/status",{cache:"no-store"}),s=await t.json().catch(()=>null);z({sendgrid:!!(null==s?void 0:null===(e=s.sendgrid)||void 0===e?void 0:e.configured),whatsapp:!!(null==s?void 0:null===(a=s.whatsapp)||void 0===a?void 0:a.configured)})}catch(e){z({sendgrid:!1,whatsapp:!1})}finally{J(!1)}let s=await fetch("/api/admin/finance/clients",{cache:"no-store"}),l=await s.json().catch(()=>null);if(!s.ok||!(null==l?void 0:l.success))throw Error((null==l?void 0:l.error)||"Falha ao carregar clientes financeiros");let i=(l.clients||[]).map(e=>({id:String(e.id),name:String(e.name||""),email:String(e.email||""),phone:String(e.phone||""),contract_value:Number(e.contract_value||0),status:"inactive"===String(e.status||"active")?"inactive":"active",payment_status:String(e.payment_status||"ok")||"ok",next_billing:String(e.next_billing||new Date().toISOString().slice(0,10)),health_score:Number(e.health_score||0),days_late:"number"==typeof e.days_late?e.days_late:void 0,user_id:e.user_id?String(e.user_id):null}));t(i);let n=i.reduce((e,t)=>e+(t.contract_value||0),0),r=i.filter(e=>"late"===e.payment_status).reduce((e,t)=>e+(t.contract_value||0),0);Z({mrr:n,late_total:r,active_contracts:i.length,avg_ticket:i.length?n/i.length:0})}catch(e){console.error(e),k.Am.error("Erro ao carregar: ".concat(String((null==e?void 0:e.message)||e))),t([]),Z({mrr:0,late_total:0,active_contracts:0,avg_ticket:0})}finally{_(!1)}},q=e=>{M(e),B(!0)},H=e=>{M(e),I("Ol\xe1 ".concat(e.name,"! \uD83D\uDE0A\n\nIdentificamos uma fatura em aberto referente ao seu contrato com a Valle 360.\n")+"Pode nos confirmar a previs\xe3o de pagamento? Se preferir, posso te ajudar com o link/2\xaa via.\n\nObrigado!"),$(!0)},K=e=>{window.open("tel:".concat(e.phone),"_blank"),k.Am.info("Ligando para ".concat(e.phone,"..."))},Q=e=>{window.open("mailto:".concat(e.email,"?subject=Cobran\xe7a - Valle 360"),"_blank"),k.Am.info("Abrindo email para ".concat(e.email,"..."))};return(0,s.jsxs)("div",{className:"p-8 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Cobran\xe7as"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Vis\xe3o consolidada de contratos e inadimpl\xeancia."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>L(!0),className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),"Exportar"]}),(0,s.jsxs)("button",{onClick:()=>D(!0),className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),"Novo Contrato"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)(C,{title:"MRR (Receita Recorrente)",value:"R$ ".concat(A.mrr.toLocaleString("pt-BR")),icon:(0,s.jsx)(c.Z,{className:"w-6 h-6 text-green-600"}),trend:"+12% vs m\xeas anterior",color:"green"}),(0,s.jsx)(C,{title:"Inadimpl\xeancia Atual",value:"R$ ".concat(A.late_total.toLocaleString("pt-BR")),icon:(0,s.jsx)(o.Z,{className:"w-6 h-6 text-red-600"}),trend:"".concat(e.filter(e=>"late"===e.payment_status).length," clientes atrasados"),color:"red"}),(0,s.jsx)(C,{title:"Contratos Ativos",value:A.active_contracts.toString(),icon:(0,s.jsx)(d.Z,{className:"w-6 h-6 text-blue-600"}),trend:"Est\xe1vel",color:"blue"}),(0,s.jsx)(C,{title:"Ticket M\xe9dio",value:"R$ ".concat(A.avg_ticket.toLocaleString("pt-BR")),icon:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-purple-600"}),trend:"+5% vs m\xeas anterior",color:"purple"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Carteira de Clientes"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Cliente"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Valor Mensal"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status Pagamento"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Pr\xf3ximo Vencimento"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Sa\xfade"}),(0,s.jsx)("th",{className:"text-right py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:a?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"text-center py-8",children:"Carregando..."})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})}),(0,s.jsxs)("td",{className:"py-4 px-6 text-gray-600 font-medium",children:["R$ ",e.contract_value.toLocaleString("pt-BR")]}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsx)(S,{status:e.payment_status,daysLate:e.days_late})}),(0,s.jsx)("td",{className:"py-4 px-6 text-gray-600",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-gray-400"}),new Date(e.next_billing).toLocaleDateString("pt-BR")]})}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsx)(E,{score:e.health_score})}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>q(e),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ver Detalhes",children:(0,s.jsx)(g.Z,{className:"w-4 h-4 text-gray-600"})}),(0,s.jsx)("button",{onClick:()=>K(e),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ligar",children:(0,s.jsx)(h.Z,{className:"w-4 h-4 text-green-600"})}),(0,s.jsx)("button",{onClick:()=>Q(e),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Email",children:(0,s.jsx)(p.Z,{className:"w-4 h-4 text-blue-600"})}),"late"===e.payment_status&&(0,s.jsxs)("button",{onClick:()=>H(e),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"w-3 h-3"}),"Cobrar"]})]})})]},e.id))})]})})]})]}),(0,s.jsx)(v.M,{children:P&&(0,s.jsx)(w.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>L(!1),children:(0,s.jsxs)(w.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Exportar Dados"}),(0,s.jsx)("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(b.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Escolha o formato de exporta\xe7\xe3o:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{let t=new Blob([[["Cliente","Email","Telefone","Valor Mensal","Status Pagamento","Pr\xf3ximo Vencimento","Score Sa\xfade"],...e.map(e=>[e.name,e.email,e.phone,"R$ ".concat(e.contract_value),"ok"===e.payment_status?"Em Dia":"late"===e.payment_status?"Atrasado":"Pendente",new Date(e.next_billing).toLocaleDateString("pt-BR"),e.health_score.toString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="cobrancas_".concat(new Date().toISOString().split("T")[0],".csv"),s.click(),k.Am.success("CSV exportado com sucesso!"),L(!1)},className:"flex flex-col items-center gap-2 p-4 border rounded-xl hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(j.Z,{className:"w-8 h-8 text-green-600"}),(0,s.jsx)("span",{className:"font-medium",children:"CSV / Excel"})]}),(0,s.jsxs)("button",{onClick:()=>{k.Am.success("PDF gerado! Download iniciando..."),L(!1)},className:"flex flex-col items-center gap-2 p-4 border rounded-xl hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(f.Z,{className:"w-8 h-8 text-red-600"}),(0,s.jsx)("span",{className:"font-medium",children:"PDF"})]})]})]})})}),(0,s.jsx)(v.M,{children:R&&(0,s.jsx)(w.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>D(!1),children:(0,s.jsxs)(w.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Novo Contrato"}),(0,s.jsx)("button",{onClick:()=>D(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(b.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),(0,s.jsx)("input",{type:"text",placeholder:"Nome do cliente",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",placeholder:"email@empresa.com",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Mensal"}),(0,s.jsx)("input",{type:"text",placeholder:"R$ 0,00",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dia Vencimento"}),(0,s.jsx)("input",{type:"number",placeholder:"10",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,s.jsx)("button",{onClick:()=>{k.Am.success("Redirecionando para cria\xe7\xe3o de contrato..."),D(!1)},className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Criar Contrato"})]})]})})}),(0,s.jsx)(v.M,{children:O&&V&&(0,s.jsx)(w.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>B(!1),children:(0,s.jsxs)(w.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Detalhes do Cliente"}),(0,s.jsx)("button",{onClick:()=>B(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(b.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-xl flex items-center justify-center",children:(0,s.jsx)(y.Z,{className:"w-8 h-8 text-indigo-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xl font-bold text-gray-900",children:V.name}),(0,s.jsx)("p",{className:"text-gray-500",children:V.email})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Valor Mensal"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["R$ ",V.contract_value.toLocaleString("pt-BR")]})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Status"}),(0,s.jsx)(S,{status:V.payment_status,daysLate:V.days_late})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Pr\xf3ximo Vencimento"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(V.next_billing).toLocaleDateString("pt-BR")})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Score de Sa\xfade"}),(0,s.jsx)(E,{score:V.health_score})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsxs)("button",{onClick:()=>{K(V),B(!1)},className:"flex-1 py-2 bg-green-50 text-green-600 rounded-lg font-medium hover:bg-green-100 flex items-center justify-center gap-2",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"})," Ligar"]}),(0,s.jsxs)("button",{onClick:()=>{Q(V),B(!1)},className:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg font-medium hover:bg-blue-100 flex items-center justify-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"})," Email"]}),"late"===V.payment_status&&(0,s.jsxs)("button",{onClick:()=>{H(V),B(!1)},className:"flex-1 py-2 bg-red-50 text-red-600 rounded-lg font-medium hover:bg-red-100 flex items-center justify-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"})," Cobrar"]})]})]})]})})}),(0,s.jsx)(v.M,{children:T&&V&&(0,s.jsx)(w.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>$(!1),children:(0,s.jsxs)(w.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Enviar Cobran\xe7a"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:V.name})]}),(0,s.jsx)("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(b.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem"}),(0,s.jsx)("textarea",{value:F,onChange:e=>I(e.target.value),className:"w-full h-40 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[(0,s.jsxs)("button",{className:"py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 flex items-center justify-center gap-2",onClick:async()=>{try{k.Am.loading("Enviando pela intranet...");let e=await fetch("/api/admin/outbound/intranet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:V.id,text:F})}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error((null==t?void 0:t.error)||"Falha ao enviar intranet");k.Am.dismiss(),k.Am.success("Mensagem enviada pela intranet!"),$(!1)}catch(e){k.Am.dismiss(),k.Am.error("Erro: ".concat(String((null==e?void 0:e.message)||e)))}},title:"Mensagem interna (chat) para o cliente",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),"Intranet"]}),(0,s.jsxs)("button",{className:"py-2 border rounded-lg font-medium hover:bg-gray-50 flex items-center justify-center gap-2",title:"Abrir email via mailto",onClick:async()=>{try{k.Am.loading("Preparando email...");let e=await fetch("/api/admin/outbound/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:V.email,toName:V.name,subject:"Cobran\xe7a - Valle 360",text:F,html:'<div style="font-family: Arial, sans-serif; line-height: 1.5;">'.concat(F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\n/g,"<br/>"),"</div>")})}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error((null==t?void 0:t.error)||"Falha ao enviar email");k.Am.dismiss(),(null==t?void 0:t.mailtoUrl)?(window.open(t.mailtoUrl,"_blank"),k.Am.success("Email pronto! Abra seu app de email.")):k.Am.success("Email preparado!")}catch(e){k.Am.dismiss(),k.Am.error("Erro: ".concat(String((null==e?void 0:e.message)||e)))}},children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"}),"Email"]}),(0,s.jsxs)("button",{className:"py-2 border rounded-lg font-medium hover:bg-gray-50 flex items-center justify-center gap-2 disabled:opacity-60",disabled:U||!W.whatsapp,title:W.whatsapp?"Enviar via WhatsApp":"WhatsApp n\xe3o configurado",onClick:async()=>{try{k.Am.loading("Enviando WhatsApp...");let e=await fetch("/api/admin/outbound/whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toPhone:V.phone,text:F})}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error((null==t?void 0:t.error)||"Falha ao enviar WhatsApp");k.Am.dismiss(),k.Am.success("WhatsApp enviado!")}catch(e){k.Am.dismiss(),k.Am.error("Erro: ".concat(String((null==e?void 0:e.message)||e)))}},children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),"WhatsApp"]})]})]})]})})})]})}function C(e){var t;let{title:a,value:l,icon:i,trend:n,color:r}=e;return(0,s.jsxs)(w.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border-l-4 ".concat((null===(t=({green:"border-l-green-500 bg-green-50",red:"border-l-red-500 bg-red-50",blue:"border-l-blue-500 bg-blue-50",purple:"border-l-purple-500 bg-purple-50"})[r])||void 0===t?void 0:t.split(" ")[0])||"border-l-gray-500"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:a}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:l})]}),(0,s.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:i})]}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600",children:n})]})}function S(e){let{status:t,daysLate:a}=e,l={ok:"bg-green-100 text-green-800",late:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return(0,s.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium ".concat(l[t]||l.pending),children:{ok:"Em Dia",late:a?"Atrasado ".concat(a,"d"):"Atrasado",pending:"Pendente"}[t]||"Desconhecido"})}function E(e){let{score:t}=e,a="bg-green-500";return t<70?a="bg-red-500":t<90&&(a="bg-yellow-500"),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden w-24",children:(0,s.jsx)("div",{className:"h-full ".concat(a," transition-all"),style:{width:"".concat(t,"%")}})}),(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:t})]})}}},function(e){e.O(0,[2882,4609,2724,4438,5452,451,2971,2117,1744],function(){return e(e.s=79652)}),_N_E=e.O()}]);