(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5102],{89542:function(e,s,i){Promise.resolve().then(i.bind(i,8162))},8162:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return f}});var t=i(57437),a=i(2265),l=i(26892),n=i(57586),o=i(27648),r=i(70525),c=i(32096),d=i(58896),h=i(82023),m=i(32660),u=i(11239),x=i(10407),p=i(25846),v=i(93448);function g(e){return Number.isFinite(e)?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):"".concat(Math.round(e)):"0"}function f(){let[e,s]=(0,a.useState)(null),[i,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/client/dashboard/summary?days=30",{cache:"no-store"}),s=await e.json().catch(()=>null);e.ok&&(null==s?void 0:s.success)?f(s):f(null)}catch(e){f(null)}})()},[]);let b=(0,a.useMemo)(()=>{var e,s,t,a,l,n,o,m,u,x,p;let v=null==i?void 0:i.kpis,f=!!(null==i?void 0:null===(e=i.ads)||void 0===e?void 0:e.available),b=null==i?void 0:null===(t=i.client)||void 0===t?void 0:null===(s=t.segment)||void 0===s?void 0:s.trim(),j=null==i?void 0:null===(l=i.client)||void 0===l?void 0:null===(a=l.industry)||void 0===a?void 0:a.trim(),N=null!==(p=null==i?void 0:null===(n=i.client)||void 0===n?void 0:n.competitors_count)&&void 0!==p?p:0,y=(null==i?void 0:null===(o=i.insights)||void 0===o?void 0:o.available)?i.insights.new:0,w=(null==i?void 0:null===(m=i.insights)||void 0===m?void 0:m.available)?i.insights.latestTitles:[],k=[];f?k.push("Ads conectado: m\xe9tricas consolidadas (30d)"):k.push("Ads n\xe3o conectado: exibindo Social (30d)"),v&&k.push("Varia\xe7\xe3o semanal de impress\xf5es: ".concat(v.impressions.change>=0?"+":"").concat(v.impressions.change,"%"));let z=[];j&&z.push("Ind\xfastria: ".concat(j)),b&&z.push("Segmento: ".concat(b)),j||b||z.push("Defina seu setor/segmento para melhorar as recomenda\xe7\xf5es");let C=[];N>0?C.push("Concorrentes configurados: pronto para gerar comparativos"):C.push("Adicione concorrentes para gerar an\xe1lises e benchmarking");let S=w.length>0?w.slice(0,3):["Gere insights com fontes (Perplexity/Tavily) para receber recomenda\xe7\xf5es personalizadas"];return[{id:"desempenho",title:"Desempenho",description:"M\xe9tricas reais (Social + Ads quando conectado)",icon:r.Z,href:"/cliente/painel/desempenho",color:"from-[#1672d6] to-[#1260b5]",stats:[{label:"Impress\xf5es (30d)",value:v?g(v.impressions.value):"—",change:v?v.impressions.change:0},{label:f?"Cliques (ads)":"Visitas ao perfil",value:v?g(v.clicks.value):"—",change:v?v.clicks.change:0},{label:"Convers\xf5es",value:f&&v?g(v.conversions.value):"—"}],highlights:k},{id:"setor",title:"Seu Setor",description:"Not\xedcias e tend\xeancias baseadas no seu setor/segmento",icon:c.Z,href:"/cliente/painel/setor",color:"from-amber-500 to-amber-600",stats:[{label:"Ind\xfastria",value:j||"—"},{label:"Segmento",value:b||"—"},{label:"Atualiza\xe7\xe3o",value:"Hoje"}],highlights:z},{id:"concorrentes",title:"Concorrentes",description:"Monitoramento e compara\xe7\xe3o com seus principais concorrentes",icon:d.Z,href:"/cliente/painel/concorrentes",color:"from-purple-500 to-purple-600",stats:[{label:"Monitorados",value:N?String(N):"0"},{label:"Status",value:N?"Config.":"Pendente"},{label:"Comparativos",value:N?"Dispon\xedvel":"—"}],highlights:C},{id:"insights",title:"Insights IA",description:"Recomenda\xe7\xf5es da Val com fontes (cache di\xe1rio)",icon:h.Z,href:"/cliente/painel/insights",color:"from-emerald-500 to-emerald-600",stats:[{label:"Novos (hoje)",value:(null==i?void 0:null===(u=i.insights)||void 0===u?void 0:u.available)?String(y):"—"},{label:"Dispon\xedvel",value:(null==i?void 0:null===(x=i.insights)||void 0===x?void 0:x.available)?"Sim":"—"},{label:"A\xe7\xe3o",value:"Gerar"}],highlights:S}]},[i]);return(0,t.jsxs)("div",{className:"p-4 lg:p-6 space-y-6 max-w-7xl mx-auto",children:[(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(o.default,{href:"/cliente/dashboard",className:"p-2 rounded-lg bg-[#001533]/5 hover:bg-[#001533]/10 transition-colors",children:(0,t.jsx)(m.Z,{className:"size-5 text-[#001533] dark:text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#001533] dark:text-white",children:"Central de Intelig\xeancia do Cliente"})]}),(0,t.jsx)("p",{className:"text-[#001533]/60 dark:text-white/60 ml-12",children:"Todas as informa\xe7\xf5es inteligentes do seu neg\xf3cio organizadas em um s\xf3 lugar"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-full bg-[#1672d6]/10 text-[#1672d6]",children:[(0,t.jsx)(u.Z,{className:"size-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Atualizado agora"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map((i,a)=>{let r=i.icon,c=e===i.id;return(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:(0,v.cn)("rounded-2xl border-2 border-[#001533]/10 dark:border-white/10","bg-white dark:bg-[#001533]/50 overflow-hidden","transition-all duration-300",c&&"ring-2 ring-[#1672d6]/30"),children:[(0,t.jsxs)("div",{onClick:()=>s(c?null:i.id),className:"p-6 cursor-pointer hover:bg-[#001533]/5 dark:hover:bg-white/5 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:(0,v.cn)("p-3 rounded-xl bg-gradient-to-br shadow-lg",i.color),children:(0,t.jsx)(r,{className:"size-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#001533] dark:text-white",children:i.title}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60 mt-1",children:i.description})]})]}),(0,t.jsx)(l.E.div,{animate:{rotate:c?90:0},className:"p-2",children:(0,t.jsx)(x.Z,{className:"size-5 text-[#001533]/40 dark:text-white/40"})})]}),i.stats&&(0,t.jsx)("div",{className:"flex gap-4 mt-4 pt-4 border-t border-[#001533]/10 dark:border-white/10",children:i.stats.map((e,s)=>(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:e.label}),(0,t.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-[#001533] dark:text-white",children:e.value}),void 0!==e.change&&(0,t.jsxs)("span",{className:(0,v.cn)("text-xs font-medium",e.change>=0?"text-emerald-500":"text-red-500"),children:[e.change>=0?"+":"",e.change,"%"]})]})]},s))})]}),(0,t.jsx)(n.M,{children:c&&(0,t.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[i.highlights&&(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-[#001533]/5 dark:bg-white/5",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[#001533] dark:text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"size-4 text-[#1672d6]"}),"Destaques"]}),(0,t.jsx)("ul",{className:"space-y-2",children:i.highlights.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-2 text-sm text-[#001533]/70 dark:text-white/70",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#1672d6]"}),e]},s))})]}),(0,t.jsxs)(o.default,{href:i.href,className:(0,v.cn)("flex items-center justify-center gap-2 w-full py-3 rounded-xl","bg-gradient-to-r font-semibold text-white","hover:opacity-90 transition-opacity",i.color),children:["Ver Painel Completo",(0,t.jsx)(x.Z,{className:"size-4"})]})]})})})]},i.id)})}),(0,t.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-2xl bg-gradient-to-r from-[#001533] to-[#1672d6] p-6 text-white",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-white/20",children:(0,t.jsx)(h.Z,{className:"size-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Precisa de uma an\xe1lise personalizada?"}),(0,t.jsx)("p",{className:"text-white/70 mt-1",children:"Converse com a Val e receba insights exclusivos para seu neg\xf3cio"})]})]}),(0,t.jsxs)(o.default,{href:"/cliente/ia",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-white text-[#001533] font-semibold hover:bg-white/90 transition-colors",children:["Falar com Val",(0,t.jsx)(x.Z,{className:"size-4"})]})]})})]})}},93448:function(e,s,i){"use strict";i.d(s,{cn:function(){return l},x:function(){return n}});var t=i(61994),a=i(53335);function l(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return(0,a.m6)((0,t.W)(s))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[2882,6137,2972,1374,2971,2117,1744],function(){return e(e.s=89542)}),_N_E=e.O()}]);