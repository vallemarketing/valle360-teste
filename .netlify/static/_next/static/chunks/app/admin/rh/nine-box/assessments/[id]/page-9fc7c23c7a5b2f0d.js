(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7277],{28988:function(e,r,t){Promise.resolve().then(t.bind(t,38e3))},79205:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var s=t(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),n=e=>{let r=a(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},o=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:r,...c,width:l,height:l,stroke:t,strokeWidth:n?24*Number(a)/Number(l):a,className:i("lucide",d),...!u&&!o(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,s.forwardRef)((t,a)=>{let{className:o,...c}=t;return(0,s.createElement)(d,{ref:a,iconNode:r,className:i("lucide-".concat(l(n(e))),"lucide-".concat(e),o),...c})});return t.displayName=n(e),t}},32660:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},41671:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92735:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(79205).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},48736:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(79205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},82023:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(79205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},27648:function(e,r,t){"use strict";t.d(r,{default:function(){return l.a}});var s=t(72972),l=t.n(s)},99376:function(e,r,t){"use strict";var s=t(35475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},38e3:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var s=t(57437),l=t(2265),a=t(27648),n=t(99376),i=t(32660),o=t(48736),c=t(92735),d=t(82023),u=t(41671),m=t(12381),x=t(79820),v=t(69174),h=t(23675),f=t(17168);function g(e){var r,t,g,p,b;let{params:y}=e,j=(0,n.useRouter)(),N=String(y.id),[w,S]=(0,l.useState)(!0),[C,k]=(0,l.useState)(!1),[_,Z]=(0,l.useState)(null),[A,P]=(0,l.useState)(null),[R,z]=(0,l.useState)([]),[I,E]=(0,l.useState)({}),[M,O]=(0,l.useState)(""),[T,q]=(0,l.useState)(!1),[G,D]=(0,l.useState)(!1),[U,F]=(0,l.useState)(!1),[V,H]=(0,l.useState)(null),[J,L]=(0,l.useState)(null),[B,W]=(0,l.useState)(null);async function Y(e){let r=await fetch(e,{cache:"no-store"}),t=await r.json().catch(()=>({}));if(!r.ok)throw Error((null==t?void 0:t.error)||"Falha na requisi\xe7\xe3o");return t}async function $(e,r){let t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):"{}"}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error((null==s?void 0:s.error)||"Falha na requisi\xe7\xe3o");return s}async function Q(e,r){let t=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):"{}"}),s=await t.json().catch(()=>({}));if(!t.ok)throw Error((null==s?void 0:s.error)||"Falha na requisi\xe7\xe3o");return s}function X(e,r){E(t=>{var s;return{...t,[e]:{score:r,comment:(null===(s=t[e])||void 0===s?void 0:s.comment)||""}}})}function K(e,r){E(t=>{var s;return{...t,[e]:{score:(null===(s=t[e])||void 0===s?void 0:s.score)||3,comment:r}}})}let ee=(0,l.useMemo)(()=>R.filter(e=>"performance"===e.axis).sort((e,r)=>r.weight-e.weight),[R]),er=(0,l.useMemo)(()=>R.filter(e=>"potential"===e.axis).sort((e,r)=>r.weight-e.weight),[R]),et=(0,l.useMemo)(()=>{let e=[];for(let r of R){let t=I[r.id],s=Number((null==t?void 0:t.score)||0),l=String((null==t?void 0:t.comment)||"").trim();[1,2,5].includes(s)&&!l&&e.push(r.id)}return e},[R,I]);async function es(e){if(A)try{k(!0),Z(null);let r={status:e,notes:M,responses:R.map(e=>{var r,t;return{criterion_id:e.id,score:Number((null===(r=I[e.id])||void 0===r?void 0:r.score)||3),comment:String((null===(t=I[e.id])||void 0===t?void 0:t.comment)||"").trim()||null}})},t=await Q("/api/nine-box/assessments/".concat(encodeURIComponent(N)),r);P(e=>{var r;return{...e||t.assessment,...t.assessment,result:null!==(r=t.result)&&void 0!==r?r:null==e?void 0:e.result}})}catch(e){Z((null==e?void 0:e.message)||"Erro ao salvar")}finally{k(!1)}}async function el(){if(A)try{q(!0),Z(null);let e=await $("/api/nine-box/ai/suggest-scores",{cycle_id:A.cycle_id,assessment_id:A.id,employee_id:A.employee_id});H(e.output||null)}catch(e){Z((null==e?void 0:e.message)||"Erro IA (sugest\xe3o)")}finally{q(!1)}}async function ea(){if(A)try{D(!0),Z(null);let e=await $("/api/nine-box/ai/summarize",{assessment_id:A.id});L(e.output||null)}catch(e){Z((null==e?void 0:e.message)||"Erro IA (resumo)")}finally{D(!1)}}async function en(){if(A)try{var e;F(!0),Z(null);let r=await $("/api/nine-box/ai/suggest-actions",{cycle_id:A.cycle_id,employee_id:A.employee_id,assessment_id:A.id,quadrant:(null===(e=A.result)||void 0===e?void 0:e.quadrant)||void 0});W(r.output||null)}catch(e){Z((null==e?void 0:e.message)||"Erro IA (PDI)")}finally{F(!1)}}async function ei(e){if(A)try{Z(null);let r=Number((null==e?void 0:e.due_in_days)||30),t=new Date(Date.now()+864e5*Math.max(1,r)).toISOString().slice(0,10);await $("/api/nine-box/action-items",{cycle_id:A.cycle_id,employee_id:A.employee_id,result_id:null,title:String((null==e?void 0:e.title)||"A\xe7\xe3o sugerida"),description:String((null==e?void 0:e.description)||""),due_date:t,status:"open",metadata:{source:"ai",owner_role:(null==e?void 0:e.owner_role)||null,success_metric:(null==e?void 0:e.success_metric)||null}})}catch(e){Z((null==e?void 0:e.message)||"Erro ao criar item de PDI")}}(0,l.useEffect)(()=>{let e=!0;return(async()=>{S(!0),Z(null);try{var r;let t=await Y("/api/nine-box/assessments/".concat(encodeURIComponent(N)));if(!e)return;P(t.assessment),O(String((null===(r=t.assessment)||void 0===r?void 0:r.notes)||""));let s={};for(let e of t.responses||[])s[String(e.criterion_id)]={score:Number(e.score||3),comment:String(e.comment||"")};E(s);let l=String(t.assessment.cycle_id),a=await Y("/api/nine-box/criteria?cycle_id=".concat(encodeURIComponent(l)));if(!e)return;z(a.criteria||[])}catch(r){if(!e)return;Z((null==r?void 0:r.message)||"Erro ao carregar avalia\xe7\xe3o")}finally{if(!e)return;S(!1)}})(),()=>{e=!1}},[N]);let eo=String((null==A?void 0:null===(r=A.employee)||void 0===r?void 0:r.full_name)||(null==A?void 0:null===(t=A.employee)||void 0===t?void 0:t.name)||(null==A?void 0:A.employee_id)||"");return(0,s.jsx)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{type:"button",className:"p-2 rounded-xl border",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-primary)"},onClick:()=>j.push("/admin/rh/nine-box"),"aria-label":"Voltar",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Avalia\xe7\xe3o 9 Box"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:eo}),A?"submitted"===A.status?(0,s.jsx)(v.C,{className:"bg-emerald-500/10 text-emerald-700 border-emerald-500/30",children:"Finalizada"}):(0,s.jsx)(v.C,{className:"bg-amber-500/10 text-amber-700 border-amber-500/30",children:"Rascunho"}):null,(null==A?void 0:null===(g=A.result)||void 0===g?void 0:g.quadrant)?(0,s.jsx)(v.C,{className:"bg-blue-500/10 text-blue-700 border-blue-500/30",children:String(A.result.quadrant)}):null]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(null==A?void 0:A.cycle_id)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:"/api/nine-box/export/pdf?cycle_id=".concat(encodeURIComponent(A.cycle_id)),children:(0,s.jsxs)(m.z,{variant:"outline",className:"gap-2",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),"PDF"]})}),(0,s.jsx)("a",{href:"/api/nine-box/export/xlsx?cycle_id=".concat(encodeURIComponent(A.cycle_id)),children:(0,s.jsxs)(m.z,{variant:"outline",className:"gap-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),"XLSX"]})})]}):null,(0,s.jsx)(a.default,{href:"/admin/rh/nine-box",children:(0,s.jsx)(m.z,{variant:"outline",children:"Voltar ao ciclo"})})]})]}),_&&(0,s.jsx)("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:_}),w?(0,s.jsx)(x.Zb,{children:(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Carregando..."}),(0,s.jsx)(x.SZ,{children:"Buscando crit\xe9rios e respostas."})]})}):A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.ll,{children:"Notas e justificativas"}),(0,s.jsx)(x.SZ,{children:"Notas 1/2/5 exigem justificativa (a IA pode rascunhar, voc\xea valida)."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsxs)(m.z,{onClick:()=>el(),variant:"outline",className:"gap-2",disabled:T,children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),T?"IA...":"Sugerir notas (IA)"]}),(0,s.jsx)(m.z,{onClick:()=>es("draft"),disabled:C,variant:"outline",children:C?"Salvando...":"Salvar rascunho"}),(0,s.jsxs)(m.z,{onClick:async()=>{if(et.length){Z("Justificativa obrigat\xf3ria para todas as notas 1, 2 e 5.");return}await es("submitted")},disabled:C,className:"gap-2",style:{backgroundColor:"var(--success-600)"},children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"Finalizar"]})]})]}),(0,s.jsxs)(x.aY,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Desempenho"}),ee.map(e=>{let r=I[e.id],t=Number((null==r?void 0:r.score)||3),l=String((null==r?void 0:r.comment)||""),a=[1,2,5].includes(t)&&!l.trim();return(0,s.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-primary)"},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"font-medium truncate",style:{color:"var(--text-primary)"},children:e.label}),(0,s.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Peso: ",e.weight,"%"]}),e.description?(0,s.jsx)("div",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:e.description}):null]}),(0,s.jsx)("select",{className:"rounded-lg border px-2 py-1 text-sm",style:{borderColor:a?"var(--error-500)":"var(--border-light)"},value:String(t),onChange:r=>X(e.id,Number(r.target.value)),children:[1,2,3,4,5].map(e=>(0,s.jsx)("option",{value:String(e),children:e},e))})]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(h.g,{placeholder:a?"Justificativa obrigat\xf3ria para nota 1/2/5":"Justificativa (opcional)",value:l,onChange:r=>K(e.id,r.target.value)})})]},e.id)})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Potencial"}),er.map(e=>{let r=I[e.id],t=Number((null==r?void 0:r.score)||3),l=String((null==r?void 0:r.comment)||""),a=[1,2,5].includes(t)&&!l.trim();return(0,s.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-primary)"},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"font-medium truncate",style:{color:"var(--text-primary)"},children:e.label}),(0,s.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Peso: ",e.weight,"%"]}),e.description?(0,s.jsx)("div",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:e.description}):null]}),(0,s.jsx)("select",{className:"rounded-lg border px-2 py-1 text-sm",style:{borderColor:a?"var(--error-500)":"var(--border-light)"},value:String(t),onChange:r=>X(e.id,Number(r.target.value)),children:[1,2,3,4,5].map(e=>(0,s.jsx)("option",{value:String(e),children:e},e))})]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(h.g,{placeholder:a?"Justificativa obrigat\xf3ria para nota 1/2/5":"Justificativa (opcional)",value:l,onChange:r=>K(e.id,r.target.value)})})]},e.id)})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"text-sm font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Observa\xe7\xf5es gerais"}),(0,s.jsx)(h.g,{value:M,onChange:e=>O(e.target.value),placeholder:"Notas gerais sobre o colaborador neste ciclo..."})]})]})]}),(0,s.jsxs)(f.mQ,{defaultValue:"ai",children:[(0,s.jsxs)(f.dr,{className:"w-full justify-start",children:[(0,s.jsx)(f.SP,{value:"ai",children:"IA (copiloto)"}),(0,s.jsx)(f.SP,{value:"pdi",children:"Plano de a\xe7\xe3o"})]}),(0,s.jsx)(f.nU,{value:"ai",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.ll,{children:"Sugest\xf5es de notas"}),(0,s.jsx)(x.SZ,{children:"Gera sugest\xf5es com confian\xe7a e evid\xeancias (best-effort)."})]}),(0,s.jsxs)(m.z,{onClick:()=>el(),disabled:T,variant:"outline",className:"gap-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),T?"Gerando...":"Gerar"]})]}),(0,s.jsx)(x.aY,{className:"space-y-2",children:(null==V?void 0:null===(p=V.suggestions)||void 0===p?void 0:p.length)?V.suggestions.map((e,r)=>(0,s.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:String(e.key||e.criterion_id)}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(v.C,{className:"bg-blue-500/10 text-blue-700 border-blue-500/30",children:["Nota ",String(e.score)]}),(0,s.jsx)("button",{className:"text-sm underline",onClick:()=>{let r=String(e.criterion_id),t=Number(e.score||3);E(e=>{var s;return{...e,[r]:{score:t,comment:(null===(s=e[r])||void 0===s?void 0:s.comment)||""}}})},children:"Aplicar"})]})]}),e.reason?(0,s.jsx)("div",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:String(e.reason)}):null,Array.isArray(e.evidences)&&e.evidences.length?(0,s.jsx)("ul",{className:"mt-2 list-disc pl-5 text-xs",style:{color:"var(--text-secondary)"},children:e.evidences.slice(0,4).map((e,r)=>(0,s.jsx)("li",{children:String(e)},r))}):null]},r)):(0,s.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gere para ver sugest\xf5es."})})]}),(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.ll,{children:"Resumo executivo"}),(0,s.jsx)(x.SZ,{children:"Gera strengths, improvements, risks e next_step."})]}),(0,s.jsx)(m.z,{onClick:()=>ea(),disabled:G,variant:"outline",children:G?"Gerando...":"Gerar resumo"})]}),(0,s.jsx)(x.aY,{className:"space-y-2",children:J?(0,s.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)"},children:[J.summary?(0,s.jsx)("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:String(J.summary)}):null,Array.isArray(J.strengths)&&J.strengths.length?(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"text-xs font-semibold",style:{color:"var(--text-secondary)"},children:"Pontos fortes"}),(0,s.jsx)("ul",{className:"list-disc pl-5 text-sm",children:J.strengths.slice(0,6).map((e,r)=>(0,s.jsx)("li",{children:String(e)},r))})]}):null,Array.isArray(J.improvements)&&J.improvements.length?(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"text-xs font-semibold",style:{color:"var(--text-secondary)"},children:"Melhorias"}),(0,s.jsx)("ul",{className:"list-disc pl-5 text-sm",children:J.improvements.slice(0,6).map((e,r)=>(0,s.jsx)("li",{children:String(e)},r))})]}):null,J.next_step?(0,s.jsxs)("div",{className:"mt-3 text-sm",style:{color:"var(--text-primary)"},children:[(0,s.jsx)("span",{className:"font-semibold",children:"Pr\xf3ximo passo: "}),String(J.next_step)]}):null]}):(0,s.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gere para ver o resumo."})})]})]})}),(0,s.jsx)(f.nU,{value:"pdi",children:(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.ll,{children:"PDI (Plano de a\xe7\xe3o)"}),(0,s.jsx)(x.SZ,{children:"Gere a\xe7\xf5es com IA e crie itens automaticamente."})]}),(0,s.jsxs)(m.z,{onClick:()=>en(),disabled:U,className:"gap-2",style:{backgroundColor:"var(--primary-500)"},children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),U?"Gerando...":"Gerar PDI (IA)"]})]}),(0,s.jsx)(x.aY,{className:"space-y-2",children:(null==B?void 0:null===(b=B.actions)||void 0===b?void 0:b.length)?B.actions.map((e,r)=>(0,s.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:String(e.title)}),(0,s.jsx)("button",{className:"text-sm underline",onClick:()=>ei(e),children:"Criar item"})]}),e.description?(0,s.jsx)("div",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:String(e.description)}):null,(0,s.jsxs)("div",{className:"mt-2 text-xs",style:{color:"var(--text-secondary)"},children:["Dono: ",String(e.owner_role||"—")," • Prazo: ",String(e.due_in_days||"—")," dias • M\xe9trica: ",String(e.success_metric||"—")]})]},r)):(0,s.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gere o PDI para ver sugest\xf5es acion\xe1veis."})})]})})]})]}):(0,s.jsx)(x.Zb,{children:(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Avalia\xe7\xe3o n\xe3o encontrada"}),(0,s.jsx)(x.SZ,{children:"Verifique o link ou volte ao ciclo."})]})})]})})}},69174:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var s=t(57437);t(2265);var l=t(90535),a=t(93448);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...l}=e;return(0,s.jsx)("div",{className:(0,a.cn)(n({variant:t}),r),...l})}},12381:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var s=t(57437),l=t(2265),a=t(90535),n=t(93448);let i=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,r)=>{let{className:t,variant:l,size:a,...o}=e;return(0,s.jsx)("button",{className:(0,n.cn)(i({variant:l,size:a,className:t})),ref:r,...o})});o.displayName="Button"},79820:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return o}});var s=t(57437),l=t(2265),a=t(93448);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",t),...l})});n.displayName="Card";let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("h3",{ref:r,className:(0,a.cn)("font-semibold leading-none tracking-tight text-lg",t),...l})});o.displayName="CardTitle";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-foreground/70",t),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...l})});d.displayName="CardContent",l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},17168:function(e,r,t){"use strict";t.d(r,{SP:function(){return c},dr:function(){return o},mQ:function(){return i},nU:function(){return d}});var s=t(57437),l=t(2265),a=t(93448);let n=l.createContext(void 0);function i(e){var r;let{defaultValue:t,value:i,onValueChange:o,children:c,className:d}=e;if(void 0===i&&void 0===t)throw Error("Tabs requires either `value` (controlled) or `defaultValue` (uncontrolled).");let u=null!==(r=null!=i?i:t)&&void 0!==r?r:"",[m,x]=l.useState(u);return l.useEffect(()=>{void 0!==i&&x(i)},[i]),(0,s.jsx)(n.Provider,{value:{activeTab:m,setActiveTab:e=>{void 0===i&&x(e),null==o||o(e)}},children:(0,s.jsx)("div",{className:(0,a.cn)("",d),children:c})})}function o(e){let{children:r,className:t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 p-1 text-gray-600 dark:text-gray-400",t),children:r})}function c(e){let{value:r,children:t,className:i}=e,o=l.useContext(n);if(!o)throw Error("TabsTrigger must be used within Tabs");let{activeTab:c,setActiveTab:d}=o,u=c===r;return(0,s.jsx)("button",{type:"button",onClick:()=>d(r),className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",i),children:t})}function d(e){let{value:r,children:t,className:i}=e,o=l.useContext(n);if(!o)throw Error("TabsContent must be used within Tabs");let{activeTab:c}=o;return c!==r?null:(0,s.jsx)("div",{className:(0,a.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",i),children:t})}},23675:function(e,r,t){"use strict";t.d(r,{g:function(){return n}});var s=t(57437),l=t(2265),a=t(93448);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l})});n.displayName="Textarea"},93448:function(e,r,t){"use strict";t.d(r,{cn:function(){return a},x:function(){return n}});var s=t(61994),l=t(53335);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.m6)((0,s.W)(r))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},90535:function(e,r,t){"use strict";t.d(r,{j:function(){return n}});var s=t(61994);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,n=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(e=>{let r=null==t?void 0:t[e],s=null==i?void 0:i[e];if(null===r)return null;let a=l(r)||l(s);return n[e][a]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return a(e,o,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...l}=r;return Object.entries(l).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...c}[r]):({...i,...c})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},function(e){e.O(0,[6137,2972,2971,2117,1744],function(){return e(e.s=28988)}),_N_E=e.O()}]);