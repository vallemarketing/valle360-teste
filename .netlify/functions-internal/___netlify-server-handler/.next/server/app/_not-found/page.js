(()=>{var e={};e.id=87409,e.ids=[87409],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},40317:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(7352),r(35866),r(49991);var t=r(23191),s=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(a,l);let d=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=[],u="/_not-found/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90768:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},7960:(e,a,r)=>{Promise.resolve().then(r.bind(r,74840)),Promise.resolve().then(r.bind(r,17938))},74840:(e,a,r)=>{"use strict";r.d(a,{ToasterProvider:()=>i});var t=r(10326),s=r(85999);function i(){return t.jsx(s.x7,{richColors:!0,position:"top-right",closeButton:!0,duration:4500})}},17938:(e,a,r)=>{"use strict";r.d(a,{AppProvider:()=>l});var t=r(10326),s=r(17577),i=r(2777);let n={super_admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","rh_dashboard","rh_tests","rh_recruitment","integrations","intelligence_center","social_scheduling","nps_dashboard","team_management","client_portal","val_ai","reports","settings"],admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","nps_dashboard","team_management","val_ai","reports","settings"],head_marketing:["dashboard","kanban","messages","gamification","approvals","team_management","val_ai","reports","nps_dashboard"],financeiro:["dashboard","messages","gamification","financial_dashboard","val_ai","reports","nps_dashboard"],comercial:["dashboard","kanban","messages","gamification","commercial_dashboard","val_ai","reports"],rh:["dashboard","messages","gamification","rh_dashboard","rh_tests","rh_recruitment","val_ai","reports"],trafego:["dashboard","kanban","messages","gamification","approvals","val_ai"],social_media:["dashboard","kanban","messages","gamification","approvals","social_scheduling","val_ai"],designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],web_designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],video_maker:["dashboard","kanban","messages","gamification","approvals","val_ai"],employee:["dashboard","kanban","messages","gamification","val_ai"]},o=(0,s.createContext)(void 0);function l({children:e}){let[a,r]=(0,s.useState)(null),[l,d]=(0,s.useState)(!0),[c,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1),[_,f]=(0,s.useState)(!0),[g,h]=(0,s.useState)(!1),v=(0,s.useCallback)(async()=>{try{let{data:{user:e}}=await i.O.auth.getUser();if(!e){r(null),d(!1);return}let{data:a}=await i.O.from("user_profiles").select("*").eq("user_id",e.id).single(),{data:t}=await i.O.from("employees").select("*").eq("user_id",e.id).single(),s=t?.area_of_expertise||t?.department||a?.role||"employee";r({id:e.id,email:e.email||"",fullName:a?.full_name||t?.full_name||"Usu\xe1rio",avatar:t?.avatar||a?.avatar_url,role:{super_admin:"super_admin",superadmin:"super_admin",admin:"admin",administrador:"admin",head_marketing:"head_marketing",head:"head_marketing",financeiro:"financeiro",finance:"financeiro",comercial:"comercial",commercial:"comercial",vendas:"comercial",sales:"comercial",rh:"rh",recursos_humanos:"rh",hr:"rh",trafego:"trafego",trafego_pago:"trafego",traffic:"trafego",gestor_de_trafego:"trafego",social_media:"social_media",social:"social_media",designer:"designer",designer_grafico:"designer",graphic_designer:"designer",web_designer:"web_designer",webdesigner:"web_designer",video_maker:"video_maker",videomaker:"video_maker",editor:"video_maker",employee:"employee",colaborador:"employee"}[(a?.user_type||a?.role||s).toLowerCase().replace(/\s+/g,"_").replace(/-/g,"_")]||"employee",area:s,department:t?.department})}catch(e){console.error("Erro ao carregar usu\xe1rio:",e),r(null)}finally{d(!1)}},[]);(0,s.useCallback)(async()=>{if(a)try{let{data:e}=await i.O.from("notifications").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(50);e&&u(e.map(e=>({id:e.id,type:e.type,title:e.title,message:e.message,read:!!e.is_read,createdAt:new Date(e.created_at),actionUrl:e.link,metadata:e.metadata})))}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}},[a]);let b=(0,s.useCallback)(e=>{var r;return!!a&&(r=a.role,n[r]?.includes(e)||!1)},[a]),x=(0,s.useCallback)(async e=>{a&&(await i.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e).eq("user_id",a.id),u(a=>a.map(a=>a.id===e?{...a,read:!0}:a)))},[a]),P=(0,s.useCallback)(async()=>{a&&(await i.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",a.id).eq("is_read",!1),u(e=>e.map(e=>({...e,read:!0}))))},[a]),y=(0,s.useCallback)(async()=>{await i.O.auth.signOut(),r(null),u([])},[]),k={user:a,loading:l,isAuthenticated:!!a,hasPermission:b,notifications:c,unreadCount:c.filter(e=>!e.read).length,markAsRead:x,markAllAsRead:P,isConnected:m,refreshUser:v,logout:y,sidebarOpen:_,setSidebarOpen:f,valChatOpen:g,setValChatOpen:h};return t.jsx(o.Provider,{value:k,children:e})}},2777:(e,a,r)=>{"use strict";r.d(a,{O:()=>n});var t=r(70041);let s="https://ikjgsqtykkhqimypacro.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";s&&i||console.error("âŒ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let n=(0,t.eI)(s||"https://setup-missing.supabase.co",i||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},16399:(e,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{isNotFoundError:function(){return s},notFound:function(){return t}});let r="NEXT_NOT_FOUND";function t(){let e=Error(r);throw e.digest=r,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},7352:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{PARALLEL_ROUTE_DEFAULT_PATH:function(){return s},default:function(){return i}});let t=r(16399),s="next/dist/client/components/parallel-route-default.js";function i(){(0,t.notFound)()}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},49991:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c,dynamic:()=>o,metadata:()=>l,viewport:()=>d});var t=r(19510);r(5023),r(90327);var s=r(68570);let i=(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#AppProvider`);(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#useApp`),(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermission`),(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermissions`);let n=(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\components\providers\ToasterProvider.tsx#ToasterProvider`),o="force-dynamic",l={title:"Valle 360 - Portal Integrado",description:"Plataforma interna e portal do cliente",manifest:"/manifest.json"},d={themeColor:"#0b1220"};function c({children:e}){return(0,t.jsxs)("html",{lang:"pt-BR",children:[(0,t.jsxs)("head",{children:[t.jsx("link",{rel:"icon",href:"/icons/valle360-icon.png"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/valle360-icon.png"})]}),t.jsx("body",{children:(0,t.jsxs)(i,{children:[e,t.jsx(n,{})]})})]})}},5023:()=>{},90327:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[89276,54267],()=>r(40317));module.exports=t})();