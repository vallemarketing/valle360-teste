(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1361],{8172:function(e,a,r){Promise.resolve().then(r.bind(r,95343))},31047:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},10407:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},41671:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71533:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},42208:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},13041:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},99397:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},97869:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},89688:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]])},82431:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},73247:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},82023:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},15868:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},86595:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},58896:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},18930:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},70525:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});let s=(0,r(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},95343:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return H}});var s=r(57437),t=r(2265),l=r(26892),i=r(57586),o=r(82023),n=r(99397),c=r(32489),d=r(78867),m=r(73247),x=r(89345),h=r(13041),p=r(31047),u=r(10407),y=r(71533),v=r(42208),b=r(15868),g=r(82431),f=r(97869),j=r(89688),N=r(18930),w=r(58896),k=r(86595),C=r(41671),Z=r(76865),E=r(70525),M=r(99376),S=r(13164),A=r(27648),z=r(12381),T=r(69174),D=r(7204),P=r(93448),F=r(5526),L=r(14438);function H(){let e=(0,M.useRouter)(),[a,r]=(0,t.useState)(""),[H,O]=(0,t.useState)("all"),[R,U]=(0,t.useState)(null),[V,q]=(0,t.useState)(!1),[_,B]=(0,t.useState)(!1),[I,G]=(0,t.useState)(null),[J,K]=(0,t.useState)(null),[$,Q]=(0,t.useState)(null),[W,X]=(0,t.useState)(null),[Y,ee]=(0,t.useState)(!1),[ea,er]=(0,t.useState)(null),[es,et]=(0,t.useState)(!1),[el,ei]=(0,t.useState)(null),[eo,en]=(0,t.useState)(!1),[ec,ed]=(0,t.useState)(null),em=e=>{U(e),q(!0)},ex=a=>{e.push("/admin/colaboradores/".concat(a.id,"/editar")),X(null)},eh=e=>{er(e),ee(!0),X(null)},ep=async()=>{if(ea)try{et(!0);let e=await ej(),a=await fetch("/api/admin/employees/".concat(ea.id),{method:"DELETE",headers:e}),r=await a.json().catch(()=>null);if(!a.ok)throw Error((null==r?void 0:r.error)||"Falha ao excluir colaborador");L.Am.success("Colaborador exclu\xeddo com sucesso!"),ee(!1),er(null),await eZ()}catch(e){L.Am.error((null==e?void 0:e.message)||"Erro ao excluir colaborador")}finally{et(!1)}},eu=async e=>{try{let a="active"===e.status?"inactive":"active",r=await ej(),s=await fetch("/api/admin/employees/".concat(e.id,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json",...r},body:JSON.stringify({status:a})}),t=await s.json().catch(()=>null);if(!s.ok)throw Error((null==t?void 0:t.error)||"Falha ao atualizar status");L.Am.success("Colaborador ".concat("active"===a?"ativado":"desativado"," com sucesso!")),X(null),await eZ()}catch(e){L.Am.error((null==e?void 0:e.message)||"Erro ao atualizar status")}},ey=async e=>{try{ei(e.id);let a=await ej(),r=e.employeeId||e.id,s=await fetch("/api/admin/resend-welcome",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({employeeId:r,userId:e.id,tipo:"colaborador"})}),t=await s.json().catch(()=>null);if(null==t?void 0:t.success)L.Am.success("Email enviado via ".concat(t.provider||"webhook","!")),t.credentials&&(ed({email:t.credentials.email,senha:t.credentials.senha,nome:e.fullName,emailEnviado:!0,provider:t.provider,mailtoUrl:t.mailtoUrl}),en(!0));else if(null==t?void 0:t.fallbackMode)L.Am.warning("Falha no envio autom\xe1tico. Use o bot\xe3o mailto no modal."),ed({email:t.credentials.email,senha:t.credentials.senha,nome:e.fullName,emailEnviado:!1,mailtoUrl:t.mailtoUrl}),en(!0);else throw Error((null==t?void 0:t.error)||"Falha ao enviar email");X(null)}catch(e){L.Am.error((null==e?void 0:e.message)||"Erro ao reenviar email")}finally{ei(null)}},[ev,eb]=(0,t.useState)([]),[eg,ef]=(0,t.useState)(!0),ej=async()=>{try{var e;let{data:a}=await F.supabase.auth.getSession(),r=null===(e=a.session)||void 0===e?void 0:e.access_token;return r?{Authorization:"Bearer ".concat(r)}:{}}catch(e){return{}}},eN=async()=>{try{B(!0);let e=await ej(),a=await fetch("/api/admin/provision-test-employees",{method:"POST",headers:{"Content-Type":"application/json",...e}}),r=await a.json().catch(()=>null);if(!a.ok)throw Error((null==r?void 0:r.error)||"Falha ao criar colaboradores de teste");let s=String((null==r?void 0:r.password)||"Valle@Teste2024"),t=Array.isArray(null==r?void 0:r.credentials)?r.credentials:null,l=Array.isArray(null==r?void 0:r.warnings)?r.warnings:null;if(K((null==l?void 0:l.map(e=>({email:String(e.email||""),warning:String(e.warning||"")})))||null),t&&t.length>0)G(t.map(e=>({email:String(e.email),password:String(e.password||s),type:"client"===e.type?"client":"employee"})));else{let e=Array.isArray(null==r?void 0:r.users)?r.users:[];G(e.map(e=>({email:String(e.email),password:s,type:"employee"})))}await eZ()}catch(e){L.Am.error((null==e?void 0:e.message)||"Erro ao criar colaboradores de teste")}finally{B(!1)}},ew=()=>{G(null),K(null),Q(null)},ek=(0,t.useMemo)(()=>{if(!I)return null;let e=[...I];return e.sort((e,a)=>{let r="client"===e.type?0:1,s="client"===a.type?0:1;return r!==s?r-s:e.email.localeCompare(a.email)}),e},[I]),eC=async(e,a)=>{try{await navigator.clipboard.writeText(e),Q(a),window.setTimeout(()=>Q(e=>e===a?null:e),1200)}catch(e){}},eZ=async()=>{try{ef(!0);let e=await ej(),a=await fetch("/api/admin/employees",{headers:e}),r=await a.json().catch(()=>null);if(!a.ok)throw Error((null==r?void 0:r.error)||"Falha ao carregar colaboradores");eb(Array.isArray(null==r?void 0:r.employees)?r.employees:[])}catch(e){eb([])}finally{ef(!1)}};(0,t.useEffect)(()=>{eZ()},[]);let eE=ev.filter(e=>{let r=e.fullName.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.position.toLowerCase().includes(a.toLowerCase()),s="all"===H||e.department===H;return r&&s}),eM=e=>({active:{bg:"var(--success-50)",text:"var(--success-700)",label:"Ativo"},inactive:{bg:"var(--error-50)",text:"var(--error-700)",label:"Inativo"},vacation:{bg:"var(--warning-50)",text:"var(--warning-700)",label:"F\xe9rias"}})[e],eS=e=>e>=90?"var(--success-500)":e>=70?"var(--primary-500)":e>=50?"var(--warning-500)":"var(--error-500)";return(0,s.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Colaboradores"}),(0,s.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Gerencie a equipe da Valle 360"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:eN,disabled:_,className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium border shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)",opacity:_?.7:1},children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),_?"Criando testes…":"Criar testes (Equipe + Cliente)"]}),(0,s.jsx)(A.default,{href:"/admin/colaboradores/vincular",children:(0,s.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium border shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:"Vincular existente"})}),(0,s.jsx)(A.default,{href:"/admin/colaboradores/novo",children:(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium text-white shadow-md",style:{backgroundColor:"var(--primary-500)"},children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),"Novo Colaborador"]})})]})]}),(0,s.jsx)(i.M,{children:ek&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:ew}),(0,s.jsx)(l.E.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"w-full max-w-2xl rounded-2xl border shadow-2xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"p-4 sm:p-6 border-b",style:{borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["Acessos de teste (",ek.length,")"]}),(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Use para testes provis\xf3rios. Depois voc\xeas podem excluir."})]}),(0,s.jsx)("button",{onClick:ew,className:"p-2 rounded-lg shrink-0",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},"aria-label":"Fechar",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:["Senha padr\xe3o: ",(0,s.jsx)("span",{className:"font-mono",style:{color:"var(--text-primary)"},children:"Valle@Teste2024"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsxs)(z.z,{variant:"outline",onClick:()=>{eC(ek.map(e=>"".concat("client"===e.type?"Cliente":"Colaborador","\nEmail: ").concat(e.email,"\nSenha: ").concat(e.password)).join("\n\n"),"all")},children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"all"===$?"Copiado!":"Copiar tudo"]}),(0,s.jsx)(z.z,{onClick:ew,children:"Fechar"})]})]}),J&&J.length>0&&(0,s.jsxs)("div",{className:"mt-3 rounded-xl border p-3 text-xs",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[(0,s.jsx)("div",{className:"font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Avisos"}),(0,s.jsx)("div",{className:"max-h-20 overflow-y-auto space-y-1 pr-1",children:J.map(e=>(0,s.jsxs)("div",{className:"break-words",children:[(0,s.jsx)("span",{className:"font-mono",children:e.email}),": ",e.warning]},"".concat(e.email,":").concat(e.warning)))})]})]}),(0,s.jsx)("div",{className:"p-4 sm:p-6",children:(0,s.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-1 space-y-2",children:ek.map(e=>{let a="client"===e.type?"Cliente":"Colaborador",r="row:".concat(e.email);return(0,s.jsx)("div",{className:"rounded-xl border p-3 sm:p-4",style:{borderColor:"var(--border-light)"},children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"mb-2 text-[11px] inline-flex items-center rounded-full border px-2 py-0.5",style:{borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:a}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Email"}),(0,s.jsx)("div",{className:"font-mono text-sm break-all",style:{color:"var(--text-primary)"},children:e.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Senha"}),(0,s.jsx)("div",{className:"font-mono text-sm",style:{color:"var(--text-primary)"},children:e.password})]})]})]}),(0,s.jsxs)(z.z,{variant:"outline",className:"shrink-0",onClick:()=>eC("".concat(e.email,"\n").concat(e.password),r),children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),$===r?"Copiado!":"Copiar"]})]})},e.email)})})})]})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Total Colaboradores"}),(0,s.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:eE.length})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Ativos"}),(0,s.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--success-600)"},children:ev.filter(e=>"active"===e.status).length})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Performance M\xe9dia"}),(0,s.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--primary-500)"},children:ev.length>0?"".concat(Math.round(ev.reduce((e,a)=>e+a.performanceScore,0)/ev.length),"%"):"—"})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Departamentos"}),(0,s.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--purple-500)"},children:new Set(ev.map(e=>e.department)).size})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"var(--text-tertiary)"}}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por nome, email ou cargo...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,s.jsxs)("select",{value:H,onChange:e=>O(e.target.value),className:"px-4 py-3 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[(0,s.jsx)("option",{value:"all",children:"Todos os Departamentos"}),(0,s.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,s.jsx)("option",{value:"Design",children:"Design"}),(0,s.jsx)("option",{value:"Comercial",children:"Comercial"}),(0,s.jsx)("option",{value:"Financeiro",children:"Financeiro"}),(0,s.jsx)("option",{value:"RH",children:"RH"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:eE.map((e,a)=>{let r=eM(e.status);return(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"rounded-xl p-6 shadow-sm border hover:shadow-md transition-all",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("img",{src:e.avatar,alt:e.fullName,className:"w-16 h-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:e.fullName}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:r.bg,color:r.text},children:r.label})]}),(0,s.jsxs)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[e.position," • ",e.department]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"truncate",title:e.email,children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"truncate",title:e.phone,children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"truncate",title:new Date(e.hireDate).toLocaleDateString("pt-BR",{month:"short",year:"numeric"}),children:["Desde ",new Date(e.hireDate).toLocaleDateString("pt-BR",{month:"short",year:"numeric"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center font-bold text-lg border-4",style:{borderColor:eS(e.performanceScore),color:eS(e.performanceScore)},children:e.performanceScore}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Performance"})]}),(0,s.jsxs)(l.E.button,{onClick:()=>em(e),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",style:{backgroundColor:"var(--primary-50)",color:"var(--primary-600)"},children:["Ver Detalhes",(0,s.jsx)(u.Z,{className:"w-4 h-4"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),X(W===e.id?null:e.id)},className:"p-2 rounded-lg hover:bg-opacity-50 transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:(0,s.jsx)(y.Z,{className:"w-5 h-5",style:{color:"var(--text-tertiary)"}})}),(0,s.jsx)(i.M,{children:W===e.id&&(0,s.jsx)(l.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 z-50 w-56 rounded-xl shadow-xl border overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),em(e),X(null)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 text-blue-500"}),(0,s.jsx)("span",{style:{color:"var(--text-primary)"},children:"Ver Detalhes"})]}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),ex(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 text-amber-500"}),(0,s.jsx)("span",{style:{color:"var(--text-primary)"},children:"Editar Colaborador"})]}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),ey(e)},disabled:el===e.id,className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:[el===e.id?(0,s.jsx)(g.Z,{className:"w-4 h-4 text-green-500 animate-spin"}):(0,s.jsx)(x.Z,{className:"w-4 h-4 text-green-500"}),(0,s.jsx)("span",{style:{color:"var(--text-primary)"},children:el===e.id?"Enviando...":"Reenviar Credenciais"})]}),(0,s.jsx)("div",{className:"my-2 border-t",style:{borderColor:"var(--border-primary)"}}),(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),eu(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"active"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 text-orange-500"}),(0,s.jsx)("span",{style:{color:"var(--text-primary)"},children:"Desativar Colaborador"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 text-green-500"}),(0,s.jsx)("span",{style:{color:"var(--text-primary)"},children:"Ativar Colaborador"})]})}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),eh(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-600",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Excluir Colaborador"})]})]})})})]})]})]})},e.id)})}),eg?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Carregando colaboradores..."})}):0===eE.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Nenhum colaborador encontrado"})})]}),(0,s.jsx)(i.M,{children:V&&R&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>q(!1),children:(0,s.jsxs)(l.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("img",{src:R.avatar,alt:R.fullName,className:"w-16 h-16 rounded-full border-4 border-[#1672d6]/30"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-[#001533] dark:text-white",children:R.fullName}),(0,s.jsx)("p",{className:"text-gray-500",children:R.position}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(T.C,{variant:"outline",children:R.department}),(e=>{switch(e){case"reter":return(0,s.jsx)(T.C,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30",children:"Reter"});case"melhorar":return(0,s.jsx)(T.C,{className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:"Melhorar"});case"aten\xe7\xe3o":return(0,s.jsx)(T.C,{className:"bg-red-500/10 text-red-600 border-red-500/30",children:"Aten\xe7\xe3o"});default:return null}})(R.retentionStatus)]})]})]}),(0,s.jsx)("button",{onClick:()=>q(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-[#1672d6]/10 to-[#001533]/5 border border-[#1672d6]/20",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Performance Geral"]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:(0,P.cn)("w-24 h-24 rounded-full flex items-center justify-center text-3xl font-bold border-4",R.performanceScore>=90?"border-emerald-500 text-emerald-500":R.performanceScore>=70?"border-[#1672d6] text-[#1672d6]":R.performanceScore>=50?"border-amber-500 text-amber-500":"border-red-500 text-red-500"),children:[R.performanceScore,"%"]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Entregas no Prazo"}),(0,s.jsxs)("span",{className:"font-medium",children:[R.deliveriesOnTime,"/",R.totalDeliveries]})]}),(0,s.jsx)(D.E,{value:R.deliveriesOnTime/R.totalDeliveries*100,className:"h-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,s.jsxs)("div",{className:"text-center p-3 rounded-lg bg-white dark:bg-[#001533]/50",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#1672d6]",children:R.clientsAssigned}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Clientes Atribu\xeddos"})]}),(0,s.jsxs)("div",{className:"text-center p-3 rounded-lg bg-white dark:bg-[#001533]/50",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-emerald-500",children:[Math.round(R.deliveriesOnTime/R.totalDeliveries*100),"%"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Taxa de Entrega"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-[#001533]/30",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-[#1672d6]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"E-mail"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:R.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-[#001533]/30",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 text-[#1672d6]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Telefone"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:R.phone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,s.jsx)(k.Z,{className:"w-5 h-5 text-amber-500"}),"Hist\xf3rico de Feedbacks"]}),(0,s.jsx)("div",{className:"space-y-2",children:R.feedbackHistory.map((e,a)=>(0,s.jsxs)("div",{className:(0,P.cn)("p-3 rounded-lg border-l-4","positive"===e.type?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10":"negative"===e.type?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-300 bg-gray-50 dark:bg-gray-900/10"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("pt-BR")}),"positive"===e.type&&(0,s.jsx)(C.Z,{className:"w-4 h-4 text-emerald-500"}),"negative"===e.type&&(0,s.jsx)(Z.Z,{className:"w-4 h-4 text-red-500"})]}),(0,s.jsx)("p",{className:"text-sm",children:e.comment})]},a))})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,s.jsxs)(z.z,{variant:"outline",className:"flex-1",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Enviar Mensagem"]}),(0,s.jsxs)(z.z,{className:"flex-1 bg-[#1672d6] hover:bg-[#1260b5]",children:[(0,s.jsx)(E.Z,{className:"w-4 h-4 mr-2"}),"Ver Performance Completa"]})]})]})]})})}),(0,s.jsx)(i.M,{children:Y&&ea&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/60 flex items-center justify-center p-4",onClick:()=>{es||(ee(!1),er(null))},children:(0,s.jsxs)(l.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),className:"rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[(0,s.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,s.jsx)(N.Z,{className:"w-6 h-6 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Excluir Colaborador"}),(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("p",{style:{color:"var(--text-secondary)"},children:["Tem certeza que deseja excluir o colaborador"," ",(0,s.jsx)("strong",{style:{color:"var(--text-primary)"},children:ea.fullName}),"?"]}),(0,s.jsx)("p",{className:"mt-2 text-sm",style:{color:"var(--text-tertiary)"},children:"Todos os dados associados a este colaborador ser\xe3o removidos permanentemente, incluindo:"}),(0,s.jsxs)("ul",{className:"mt-2 text-sm space-y-1",style:{color:"var(--text-tertiary)"},children:[(0,s.jsx)("li",{children:"• Hist\xf3rico de tarefas no Kanban"}),(0,s.jsx)("li",{children:"• Mensagens e conversas"}),(0,s.jsx)("li",{children:"• Atribui\xe7\xf5es de clientes"}),(0,s.jsx)("li",{children:"• Registro de performance"})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-primary)"},children:[(0,s.jsx)(z.z,{variant:"outline",className:"flex-1",onClick:()=>{ee(!1),er(null)},disabled:es,children:"Cancelar"}),(0,s.jsx)(z.z,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:ep,disabled:es,children:es?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluindo..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Excluir Colaborador"]})})]})]})})}),W&&(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>X(null)}),ec&&(0,s.jsx)(S.$,{isOpen:eo,onClose:()=>{en(!1),ed(null)},credentials:{email:ec.email,senha:ec.senha,webmailUrl:"https://webmail.vallegroup.com.br/",loginUrl:"".concat(window.location.origin,"/login"),mailtoUrl:ec.mailtoUrl},nome:ec.nome,tipo:"colaborador",emailEnviado:ec.emailEnviado,provider:ec.provider})]})}},69174:function(e,a,r){"use strict";r.d(a,{C:function(){return o}});var s=r(57437);r(2265);var t=r(90535),l=r(93448);let i=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:r,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)(i({variant:r}),a),...t})}},7204:function(e,a,r){"use strict";r.d(a,{E:function(){return i}});var s=r(57437),t=r(2265),l=r(93448);let i=t.forwardRef((e,a)=>{let{className:r,value:t,max:i=100,variant:o="default",...n}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("relative h-2 w-full overflow-hidden rounded-full bg-valle-navy/30",r),...n,children:(0,s.jsx)("div",{className:(0,l.cn)("h-full transition-all duration-500 ease-out",{default:"bg-valle-blue",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"}[o]),style:{width:"".concat(Math.min(Math.max(t/i*100,0),100),"%")}})})});i.displayName="Progress"}},function(e){e.O(0,[2882,6137,4609,2724,4438,2972,4949,9286,2971,2117,1744],function(){return e(e.s=8172)}),_N_E=e.O()}]);