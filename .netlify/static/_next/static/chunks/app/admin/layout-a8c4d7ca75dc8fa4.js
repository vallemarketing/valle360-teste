(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{85258:function(e,a,i){Promise.resolve().then(i.bind(i,67770))},67770:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return ep}});var s=i(57437),r=i(2265),t=i(99376),n=i(27648),l=i(58293),o=i(14938),c=i(10407),d=i(73247),m=i(85929),h=i(97226),x=i(92369),f=i(98728),u=i(47692),b=i(93448),p=i(12381),g=i(40279),j=i(96246),v=i(32060),N=i(91032),w=i(33145),y=i(57586),Z=i(26892),C=i(25466),k=i(82023),I=i(64972),S=i(53417),z=i(63307),A=i(5005),D=i(95805),E=i(58896),P=i(53121),R=i(48736),_=i(42488),O=i(49724),F=i(31047),V=i(43044),M=i(88226),T=i(71621),q=i(40370),L=i(60044),G=i(98617),H=i(70525),U=i(45575),B=i(4948),J=i(96215),Q=i(37760),X=i(11239),$=i(92934),K=i(71947),W=i(84502),Y=i(98420),ee=i(42042),ea=i(38866),ei=i(98335),es=i(88906),er=i(94766),et=i(92451),en=i(40875),el=i(69174);let eo=[{id:"principal",label:"Principal",icon:C.Z,items:[{id:"dashboard",label:"Dashboard",href:"/admin/dashboard",icon:C.Z},{id:"predictions",label:"Predi\xe7\xf5es IA",href:"/admin/predictions",icon:k.Z},{id:"intelligence",label:"Centro de Intelig\xeancia",href:"/admin/centro-inteligencia",icon:I.Z},{id:"messages",label:"Mensagens",href:"/admin/mensagens",icon:S.Z},{id:"kanban",label:"Kanban Geral",href:"/admin/kanban-app",icon:z.Z}]},{id:"comercial",label:"Comercial",icon:A.Z,items:[{id:"clients",label:"Clientes",href:"/admin/clientes",icon:D.Z},{id:"prospecting",label:"Prospec\xe7\xe3o IA",href:"/admin/prospeccao",icon:E.Z,badge:12},{id:"proposals",label:"Propostas",href:"/admin/comercial/propostas",icon:P.Z,badge:3},{id:"contracts",label:"Contratos",href:"/admin/contratos",icon:R.Z},{id:"services",label:"Servi\xe7os",href:"/admin/comercial/servicos",icon:E.Z},{id:"radar",label:"Radar de Vendas",href:"/admin/comercial/radar",icon:_.Z,badge:5}]},{id:"operacoes",label:"Opera\xe7\xf5es",icon:O.Z,items:[{id:"employees",label:"Colaboradores",href:"/admin/colaboradores",icon:O.Z},{id:"goals",label:"Metas IA",href:"/admin/metas",icon:E.Z},{id:"schedules",label:"Agendas",href:"/admin/agendas",icon:F.Z},{id:"meetings",label:"Reuni\xf5es",href:"/admin/reunioes",icon:S.Z,badge:3},{id:"materials",label:"Solicita\xe7\xf5es",href:"/admin/solicitacoes-material",icon:V.Z,badge:5}]},{id:"financeiro",label:"Financeiro",icon:M.Z,items:[{id:"financial",label:"Faturamento",href:"/admin/financeiro",icon:T.Z},{id:"billing",label:"Cobran\xe7as",href:"/admin/financeiro/clientes",icon:M.Z},{id:"reports",label:"Relat\xf3rios",href:"/admin/relatorios",icon:q.Z}]},{id:"diretoria",label:"Diretoria Virtual",icon:L.Z,items:[{id:"csuite",label:"C-Suite IA",href:"/admin/diretoria",icon:L.Z},{id:"csuite-history",label:"Hist\xf3rico & Decis\xf5es",href:"/admin/diretoria/historico",icon:R.Z},{id:"csuite-memory",label:"Mem\xf3ria & Conhecimento",href:"/admin/diretoria/memoria",icon:I.Z},{id:"ceo",label:"CEO (Estrat\xe9gia)",href:"/admin/diretoria/ceo",icon:G.Z},{id:"cfo",label:"CFO (Financeiro)",href:"/admin/diretoria/cfo",icon:M.Z},{id:"cto",label:"CTO (Opera\xe7\xf5es)",href:"/admin/diretoria/cto",icon:f.Z},{id:"cmo",label:"CMO (Clientes)",href:"/admin/diretoria/cmo",icon:H.Z},{id:"chro",label:"CHRO (Pessoas)",href:"/admin/diretoria/chro",icon:D.Z},{id:"coo",label:"COO (Entrega)",href:"/admin/diretoria/coo",icon:U.Z},{id:"cco",label:"CCO (Clientes & Reten\xe7\xe3o)",href:"/admin/diretoria/cco",icon:B.Z},{id:"solicitacoes",label:"Solicita\xe7\xf5es",href:"/admin/solicitacoes",icon:F.Z,badge:3}]},{id:"inteligencia",label:"Intelig\xeancia",icon:k.Z,items:[{id:"insights",label:"Insights IA",href:"/admin/inteligencia",icon:I.Z},{id:"preditivo",label:"Analytics Preditivo",href:"/admin/analytics/preditivo",icon:I.Z},{id:"sentiment",label:"An\xe1lise Sentimento",href:"/admin/configuracoes/sentimento",icon:S.Z},{id:"sentiment-monitor",label:"Monitor Sentimento",href:"/admin/monitoramento-sentimento",icon:_.Z},{id:"performance",label:"Performance",href:"/admin/performance",icon:J.Z},{id:"traffic",label:"Tr\xe1fego",href:"/admin/trafego-comparativo",icon:H.Z},{id:"competitor",label:"Concorr\xeancia",href:"/admin/inteligencia-concorrencia",icon:E.Z}]},{id:"social",label:"Social",icon:Q.Z,items:[{id:"social-command",label:"Command Center",href:"/admin/social-media/command-center",icon:X.Z},{id:"social-approvals",label:"Aprova\xe7\xf5es",href:"/admin/social-media/approvals",icon:$.Z},{id:"social-upload",label:"Agendar Postagem",href:"/admin/social-media/upload",icon:Q.Z},{id:"social-gestao",label:"Gest\xe3o de Posts",href:"/admin/social-media/gestao",icon:F.Z}]},{id:"crewai",label:"\uD83D\uDE80 CrewAI Robusto",icon:k.Z,items:[{id:"crew-test",label:"Testes do Sistema",href:"/admin/crew/test",icon:K.Z}]},{id:"juridico",label:"Jur\xeddico",icon:W.Z,items:[{id:"contracts-legal",label:"Contratos",href:"/admin/contratos",icon:R.Z},{id:"contract-templates",label:"Templates de Contrato",href:"/admin/contratos/templates",icon:K.Z},{id:"documents",label:"Documentos",href:"/admin/documentos",icon:P.Z}]},{id:"gestao",label:"Gest\xe3o",icon:Y.Z,items:[{id:"franqueados",label:"Franqueados",href:"/admin/franqueados",icon:Y.Z},{id:"rh",label:"Gest\xe3o RH",href:"/admin/rh",icon:O.Z},{id:"rh-inteligencia",label:"RH Intelig\xeancia",href:"/admin/rh/inteligencia",icon:I.Z},{id:"linkedin",label:"Vagas LinkedIn",href:"/admin/rh/vagas/linkedin",icon:A.Z}]},{id:"sistema",label:"Sistema",icon:f.Z,items:[{id:"readiness",label:"Prontid\xe3o",href:"/admin/prontidao",icon:$.Z},{id:"flows",label:"Fluxos",href:"/admin/fluxos",icon:ee.Z},{id:"feature-flags",label:"Feature Flags",href:"/admin/feature-flags",icon:ea.Z},{id:"integrations",label:"Integra\xe7\xf5es",href:"/admin/integracoes",icon:ei.Z},{id:"n8n",label:"N8N Workflows",href:"/admin/integracoes/n8n",icon:_.Z},{id:"api",label:"Central de APIs",href:"/admin/integracoes/api",icon:es.Z},{id:"audit",label:"Auditoria",href:"/admin/auditoria",icon:es.Z},{id:"alert-recipients",label:"Destinat\xe1rios de Alertas",href:"/admin/configuracoes/alertas",icon:er.Z},{id:"settings",label:"Configura\xe7\xf5es",href:"/admin/configuracoes",icon:f.Z}]}];function ec(e){let{collapsed:a=!1,onCollapsedChange:l}=e,o=(0,t.usePathname)(),[d,m]=(0,r.useState)(["principal","comercial"]),h=e=>{m(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},x=e=>o===e,f=e=>e.some(e=>o===e.href);return(0,s.jsxs)("aside",{className:(0,b.cn)("fixed left-0 top-0 h-screen z-40","bg-[#001533] border-r border-white/10","transition-all duration-300 flex flex-col",a?"w-[70px]":"w-[280px]"),children:[(0,s.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(n.default,{href:"/admin/dashboard",className:"flex items-center gap-3",children:a?(0,s.jsx)(w.default,{src:"/icons/valle360-icon.png",alt:"Valle 360",width:36,height:36,className:"object-contain"}):(0,s.jsx)(w.default,{src:"/Logo/valle360-logo.png",alt:"Valle 360",width:140,height:40,className:"object-contain"})}),!a&&(0,s.jsx)("button",{onClick:()=>null==l?void 0:l(!a),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:(0,s.jsx)(et.Z,{className:"size-4 text-white/60"})})]}),!a&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-xl bg-[#1672d6]/20 border border-[#1672d6]/30",children:[(0,s.jsxs)("p",{className:"text-white text-sm",children:["Ol\xe1, ",(0,s.jsx)("span",{className:"font-semibold",children:"Guilherme Valle"}),"!"]}),(0,s.jsx)("p",{className:"text-white/60 text-xs mt-0.5",children:"Seja bem vindo."})]})]}),(0,s.jsx)("nav",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:eo.map(e=>{let i=e.icon,r=d.includes(e.id),t=f(e.items);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>!a&&h(e.id),className:(0,b.cn)("w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all",t?"bg-[#1672d6]/20 text-white":"text-white/70 hover:bg-white/5 hover:text-white",a&&"justify-center"),children:[(0,s.jsx)(i,{className:"size-5 flex-shrink-0"}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1 text-left text-sm font-medium",children:e.label}),(0,s.jsx)(en.Z,{className:(0,b.cn)("size-4 transition-transform",r&&"rotate-180")})]})]}),(0,s.jsx)(y.M,{children:!a&&r&&(0,s.jsx)(Z.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,s.jsx)("div",{className:"pl-4 mt-1 space-y-0.5",children:e.items.map(e=>{let a=e.icon,i=x(e.href);return(0,s.jsxs)(n.default,{href:e.href,className:(0,b.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-all text-sm",i?"bg-[#1672d6] text-white shadow-lg shadow-[#1672d6]/30":"text-white/60 hover:bg-white/5 hover:text-white"),children:[(0,s.jsx)(a,{className:"size-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"flex-1",children:e.label}),e.badge&&(0,s.jsx)(el.C,{className:"bg-red-500 text-white text-[10px] px-1.5 py-0 h-4",children:e.badge})]},e.id)})})})})]},e.id)})}),a&&(0,s.jsx)("div",{className:"p-3 border-t border-white/10",children:(0,s.jsx)("button",{onClick:()=>null==l?void 0:l(!a),className:"w-full p-2.5 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:(0,s.jsx)(c.Z,{className:"size-5 text-white/60 mx-auto"})})}),!a&&(0,s.jsxs)("div",{className:"p-3 border-t border-white/10 space-y-3",children:[(0,s.jsxs)("button",{onClick:()=>{Promise.resolve().then(i.bind(i,5526)).then(e=>{let{supabase:a}=e;a.auth.signOut().then(()=>{window.location.href="/login"})})},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 transition-all border border-red-500/30",children:[(0,s.jsx)(u.Z,{className:"size-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Sair"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-white/40 text-xs",children:"Valle 360 Admin"}),(0,s.jsx)("p",{className:"text-white/30 text-[10px]",children:"v2.0.0"})]})]})]})}var ed=i(53002),em=i(68123),eh=i(5526),ex=i(22501),ef=i(24076),eu=i(46525);let eb={"/admin/dashboard":"Dashboard","/admin/centro-inteligencia":"Centro de Intelig\xeancia","/admin/clientes":"Clientes","/admin/colaboradores":"Colaboradores","/admin/comercial":"Comercial","/admin/comercial/propostas":"Propostas","/admin/comercial/servicos":"Servi\xe7os","/admin/comercial/radar":"Radar de Vendas","/admin/contratos":"Contratos","/admin/financeiro":"Financeiro","/admin/integracoes":"Integra\xe7\xf5es","/admin/kanban-app":"Kanban","/admin/fluxos":"Fluxos","/admin/prontidao":"Prontid\xe3o","/admin/performance":"Performance","/admin/configuracoes":"Configura\xe7\xf5es","/admin/agendas":"Agendas","/admin/reunioes":"Reuni\xf5es","/admin/auditoria":"Auditoria","/admin/relatorios":"Relat\xf3rios"};function ep(e){let{children:a}=e,i=(0,t.useRouter)(),w=(0,t.usePathname)(),[y,Z]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[I,S]=(0,r.useState)(!1),[z,A]=(0,r.useState)({name:"Guilherme Valle",email:"admin@valle360.com",avatar:""});(0,r.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await eh.supabase.auth.getUser();if(e){let{data:a}=await eh.supabase.from("user_profiles").select("full_name, avatar, email").eq("user_id",e.id).single();a&&A({name:a.full_name||"Admin",email:a.email||e.email||"",avatar:a.avatar||""})}}catch(e){console.error("Erro ao carregar dados:",e)}})()},[]),(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;S(e),document.documentElement.classList.toggle("dark",e)},[]);let D=async()=>{try{await (0,em.w7)(),i.push("/login")}catch(e){console.error("Logout error:",e)}},E=eb[w]||"P\xe1gina",P=z.name.split(" ")[0];return(0,s.jsx)(ed.i,{allowedRoles:["super_admin"],redirectTo:"/login",children:(0,s.jsxs)("div",{className:"min-h-screen bg-white dark:bg-[#0a0f1a]",children:[(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)(ec,{collapsed:y,onCollapsedChange:Z})}),(0,s.jsx)(N.yo,{open:C,onOpenChange:k,children:(0,s.jsx)(N.ue,{side:"left",className:"p-0 w-[280px] bg-[#001533] border-r border-white/10",children:(0,s.jsx)(ec,{collapsed:!1})})}),(0,s.jsxs)("div",{className:(0,b.cn)("transition-all duration-300",y?"lg:ml-[70px]":"lg:ml-[280px]"),children:[(0,s.jsx)("header",{className:"sticky top-0 z-30 h-16 border-b border-[#001533]/10 dark:border-white/10 bg-white/95 dark:bg-[#0a0f1a]/95 backdrop-blur",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-full px-4 lg:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(p.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>k(!0),children:(0,s.jsx)(l.Z,{className:"size-5"})}),(0,s.jsxs)("nav",{className:"hidden sm:flex items-center gap-2 text-sm",children:[(0,s.jsx)(n.default,{href:"/admin/dashboard",className:"text-[#001533]/60 dark:text-white/60 hover:text-[#1672d6] transition-colors",children:(0,s.jsx)(o.Z,{className:"size-4"})}),"/admin/dashboard"!==w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"size-3 text-[#001533]/40 dark:text-white/40"}),(0,s.jsx)("span",{className:"font-medium text-[#001533] dark:text-white",children:E})]})]}),(0,s.jsx)("span",{className:"sm:hidden font-semibold text-[#001533] dark:text-white",children:E})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"hidden md:flex relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-[#001533]/40"}),(0,s.jsx)(g.II,{placeholder:"Buscar...",className:"pl-9 w-64 bg-[#001533]/5 border-[#001533]/10"})]}),(0,s.jsx)(p.z,{variant:"ghost",size:"icon",onClick:()=>{S(!I),document.documentElement.classList.toggle("dark")},className:"text-[#001533]/70 dark:text-white/70 hover:bg-[#001533]/5 dark:hover:bg-white/10",children:I?(0,s.jsx)(m.Z,{className:"size-5"}):(0,s.jsx)(h.Z,{className:"size-5"})}),(0,s.jsx)(ef.L,{}),(0,s.jsx)("div",{className:"w-px h-6 bg-[#001533]/10 dark:bg-white/10 mx-1"}),(0,s.jsxs)(v.h_,{children:[(0,s.jsx)(v.$F,{asChild:!0,children:(0,s.jsxs)(p.z,{variant:"ghost",className:"flex items-center gap-2 px-2 hover:bg-[#001533]/5 dark:hover:bg-white/10",children:[(0,s.jsxs)(j.qE,{className:"h-8 w-8 border-2 border-[#1672d6]/30",children:[(0,s.jsx)(j.F$,{src:z.avatar}),(0,s.jsx)(j.Q5,{className:"bg-[#1672d6] text-white text-sm font-semibold",children:z.name.split(" ").map(e=>e[0]).join("").slice(0,2)})]}),(0,s.jsxs)("div",{className:"hidden md:block text-left",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[#001533] dark:text-white leading-none",children:P}),(0,s.jsx)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:"Super Admin"})]})]})}),(0,s.jsxs)(v.AW,{align:"end",className:"w-56",children:[(0,s.jsxs)("div",{className:"px-2 py-1.5",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:z.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:z.email})]}),(0,s.jsx)(v.VD,{}),(0,s.jsx)(v.Xi,{asChild:!0,children:(0,s.jsxs)(n.default,{href:"/admin/configuracoes",className:"cursor-pointer",children:[(0,s.jsx)(x.Z,{className:"size-4 mr-2"}),"Meu Perfil"]})}),(0,s.jsx)(v.Xi,{asChild:!0,children:(0,s.jsxs)(n.default,{href:"/admin/configuracoes",className:"cursor-pointer",children:[(0,s.jsx)(f.Z,{className:"size-4 mr-2"}),"Configura\xe7\xf5es"]})}),(0,s.jsx)(v.VD,{}),(0,s.jsxs)(v.Xi,{onClick:D,className:"text-red-600 cursor-pointer",children:[(0,s.jsx)(u.Z,{className:"size-4 mr-2"}),"Sair"]})]})]})]})]})}),(0,s.jsx)("main",{className:"min-h-[calc(100vh-4rem)] p-4 lg:p-6",children:a})]}),(0,s.jsx)(ex.t,{userName:P}),(0,s.jsx)(eu.B,{variant:"admin"})]})})}},24076:function(e,a,i){"use strict";i.d(a,{L:function(){return m}});var s=i(57437),r=i(2265),t=i(99376),n=i(57586),l=i(26892),o=i(94766),c=i(68429),d=i(66916);function m(e){let a=(null==e?void 0:e.context)||"admin",[i,m]=(0,r.useState)([]),[h,x]=(0,r.useState)(!1),[f,u]=(0,r.useState)(!0),b=(0,t.useRouter)();(0,r.useEffect)(()=>{p();let e=setInterval(p,3e4);return()=>clearInterval(e)},[]);let p=async()=>{try{let e=await fetch("/api/notifications?limit=10"),a=await e.json();a.notifications&&m(a.notifications)}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}finally{u(!1)}},g=async e=>{try{await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notificationId:e})}),m(a=>a.map(a=>a.id===e?{...a,read:!0}:a))}catch(e){console.error("Erro ao marcar como lida:",e)}},j=async()=>{try{await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read"})}),m(e=>e.map(e=>({...e,read:!0})))}catch(e){console.error("Erro ao marcar todas como lidas:",e)}},v=i.filter(e=>!e.read).length,N=e=>{switch(e){case"task_completed":return"✅";case"task_assigned":return"\uD83D\uDCCB";case"mention":return"\uD83D\uDC64";case"system":return"⚙️";default:return"\uD83D\uDD14"}},w=e=>{let i=e.metadata||{},s=null==i?void 0:i.board_id,r=null==i?void 0:i.task_id;if(s&&r)return"colaborador"===a?"/colaborador/kanban?boardId=".concat(encodeURIComponent(s),"&taskId=").concat(encodeURIComponent(r)):"cliente"===a?"/cliente/producao":"/admin/meu-kanban?boardId=".concat(encodeURIComponent(s),"&taskId=").concat(encodeURIComponent(r));if(e.link)return e.link;let t=null==i?void 0:i.workflow_transition_id;return t&&"admin"===a?"/admin/fluxos?tab=transitions&q=".concat(encodeURIComponent(t)):null},y=async e=>{try{e.read||await g(e.id)}finally{let a=w(e);a&&(x(!1),b.push(a))}};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>x(!h),className:"relative p-2 rounded-lg hover:bg-opacity-80 transition-all",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,s.jsx)(o.Z,{className:"w-5 h-5",style:{color:"var(--text-primary)"}}),v>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center font-bold text-white",style:{backgroundColor:"var(--error-500)"},children:v>9?"9+":v})]}),(0,s.jsx)(n.M,{children:h&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-96 rounded-xl shadow-2xl border overflow-hidden z-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-light)"},children:[(0,s.jsx)("h3",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Notifica\xe7\xf5es"}),v>0&&(0,s.jsx)("button",{onClick:j,className:"text-xs px-3 py-1 rounded-lg transition-all",style:{backgroundColor:"var(--primary-100)",color:"var(--primary-700)"},children:"Marcar todas como lidas"})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:f?(0,s.jsx)("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"Carregando..."}):0===i.length?(0,s.jsx)("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"Nenhuma notifica\xe7\xe3o"}):i.map(e=>(0,s.jsx)("div",{className:"p-4 border-b transition-all hover:bg-opacity-50 cursor-pointer ".concat(e.read?"":"bg-opacity-30"),style:{borderColor:"var(--border-light)",backgroundColor:e.read?"transparent":"var(--primary-50)"},onClick:()=>y(e),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"text-2xl flex-shrink-0",children:N(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)("p",{className:"text-sm font-semibold ".concat(e.read?"":"font-bold"),style:{color:"var(--text-primary)"},children:e.title}),!e.read&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full flex-shrink-0 mt-1",style:{backgroundColor:"var(--primary-500)"}})]}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.message}),(0,s.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-tertiary)"},children:(0,c.Q)(new Date(e.created_at),{addSuffix:!0,locale:d.F})})]})]})},e.id))}),i.length>0&&(0,s.jsx)("div",{className:"p-3 text-center border-t",style:{borderColor:"var(--border-light)"},children:(0,s.jsx)("button",{onClick:()=>{"colaborador"===a?b.push("/colaborador/notificacoes"):"cliente"===a?b.push("/cliente/dashboard"):b.push("/admin/fluxos"),x(!1)},className:"text-sm font-medium transition-colors",style:{color:"var(--primary-600)"},children:"Ver todas as notifica\xe7\xf5es"})})]})})]})}},96246:function(e,a,i){"use strict";i.d(a,{F$:function(){return o},Q5:function(){return c},qE:function(){return l}});var s=i(57437),r=i(2265),t=i(30102),n=i(93448);let l=r.forwardRef((e,a)=>{let{className:i,...r}=e;return(0,s.jsx)(t.fC,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",i),...r})});l.displayName=t.fC.displayName;let o=r.forwardRef((e,a)=>{let{className:i,...r}=e;return(0,s.jsx)(t.Ee,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",i),...r})});o.displayName=t.Ee.displayName;let c=r.forwardRef((e,a)=>{let{className:i,...r}=e;return(0,s.jsx)(t.NY,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",i),...r})});c.displayName=t.NY.displayName}},function(e){e.O(0,[2882,6137,4609,2724,2972,3828,86,1862,3145,8429,3174,5430,2452,140,2971,2117,1744],function(){return e(e.s=85258)}),_N_E=e.O()}]);