(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5266],{64349:function(e,t,r){Promise.resolve().then(r.bind(r,59872))},59872:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(57437),n=r(26892),s=r(27648),l=r(2265),i=r(98617),o=r(66142),c=r(92451),d=r(49474),u=r(86595),x=r(95805),m=r(70525),f=r(79820),p=r(69174),g=r(96246),h=r(93448);let b=e=>1===e?(0,a.jsx)(i.Z,{className:"size-5 text-yellow-500"}):2===e?(0,a.jsx)(o.Z,{className:"size-5 text-gray-400"}):3===e?(0,a.jsx)(o.Z,{className:"size-5 text-amber-600"}):null,y=e=>1===e?"bg-gradient-to-r from-yellow-500/10 to-yellow-500/5 border-yellow-500/30":2===e?"bg-gradient-to-r from-gray-400/10 to-gray-400/5 border-gray-400/30":3===e?"bg-gradient-to-r from-amber-600/10 to-amber-600/5 border-amber-600/30":"border-[#001533]/10 dark:border-white/10";function N(){let[e,t]=(0,l.useState)(!0),[r,N]=(0,l.useState)(null),[v,w]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{t(!0);try{var e,r;let t=await fetch("/api/client/valle-club",{cache:"no-store"}),a=await t.json().catch(()=>null);if(!t.ok||!(null==a?void 0:a.success))throw Error((null==a?void 0:a.error)||"Falha ao carregar ranking");N((null==a?void 0:null===(e=a.ranking)||void 0===e?void 0:e.my_position)!=null?Number(a.ranking.my_position):null);let n=Array.isArray(null==a?void 0:null===(r=a.ranking)||void 0===r?void 0:r.top10)?a.ranking.top10:[];w(n.map(e=>({position:Number((null==e?void 0:e.position)||0),name:String((null==e?void 0:e.name)||"Cliente"),points:Number((null==e?void 0:e.points)||0),isYou:!!(null==e?void 0:e.isYou)})))}catch(e){console.error("Falha ao carregar ranking:",e),N(null),w([])}finally{t(!1)}})()},[]);let j=(0,l.useMemo)(()=>new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(new Date),[]);return(0,a.jsxs)("div",{className:"p-4 lg:p-6 space-y-6 max-w-4xl mx-auto",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)(s.default,{href:"/cliente/valle-club",className:"inline-flex items-center gap-2 text-[#1672d6] hover:underline mb-4",children:[(0,a.jsx)(c.Z,{className:"size-4"}),"Voltar para Valle Club"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-[#1672d6] to-[#001533]",children:(0,a.jsx)(d.Z,{className:"size-6 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:"Ranking Mensal"})]}),(0,a.jsxs)("p",{className:"text-[#001533]/60 dark:text-white/60",children:[j," • Os top 3 ganham pr\xeamios especiais!"]})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-3 gap-4",children:[{place:"1\xba Lugar",prize:"1 m\xeas de servi\xe7o gr\xe1tis",icon:i.Z,color:"yellow"},{place:"2\xba Lugar",prize:"Consultoria estrat\xe9gica",icon:u.Z,color:"gray"},{place:"3\xba Lugar",prize:"500 cr\xe9ditos extras",icon:o.Z,color:"amber"}].map((e,t)=>{let r=e.icon;return(0,a.jsx)(f.Zb,{className:(0,h.cn)("border-2 text-center",0===t&&"border-yellow-500/30 bg-yellow-500/5",1===t&&"border-gray-400/30 bg-gray-400/5",2===t&&"border-amber-600/30 bg-amber-600/5"),children:(0,a.jsxs)(f.aY,{className:"pt-4",children:[(0,a.jsx)(r,{className:(0,h.cn)("size-8 mx-auto mb-2",0===t&&"text-yellow-500",1===t&&"text-gray-400",2===t&&"text-amber-600")}),(0,a.jsx)("p",{className:"font-bold text-[#001533] dark:text-white",children:e.place}),(0,a.jsx)("p",{className:"text-xs text-[#001533]/60 dark:text-white/60 mt-1",children:e.prize})]})},t)})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsxs)(f.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[(0,a.jsxs)(f.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(f.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"size-5 text-[#1672d6]"}),"Top 10 do M\xeas"]}),(0,a.jsxs)(p.C,{variant:"outline",className:"bg-[#1672d6]/10 text-[#1672d6]",children:["Sua posi\xe7\xe3o: ",r?"#".concat(r):"—"]})]}),(0,a.jsxs)(f.aY,{className:"space-y-2",children:[0===v.length&&!e&&(0,a.jsx)("div",{className:"p-4 rounded-xl border border-[#001533]/10 dark:border-white/10 bg-[#001533]/5 dark:bg-white/5",children:(0,a.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Ranking indispon\xedvel no momento (sem dados de pontua\xe7\xe3o suficientes)."})}),v.map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+.05*t},className:(0,h.cn)("flex items-center gap-4 p-4 rounded-xl border-2",y(e.position),e.isYou&&"ring-2 ring-[#1672d6]/50"),children:[(0,a.jsx)("div",{className:"w-8 text-center",children:b(e.position)||(0,a.jsx)("span",{className:"text-lg font-bold text-[#001533]/60 dark:text-white/60",children:e.position})}),(0,a.jsx)(g.qE,{className:"h-10 w-10",children:(0,a.jsx)(g.Q5,{className:(0,h.cn)("text-sm font-bold",e.isYou?"bg-[#1672d6] text-white":"bg-[#001533]/10 text-[#001533] dark:bg-white/10 dark:text-white"),children:String(e.name||"VC").split(" ").filter(Boolean).slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("p",{className:(0,h.cn)("font-semibold",e.isYou?"text-[#1672d6]":"text-[#001533] dark:text-white"),children:[e.name,e.isYou&&(0,a.jsx)(p.C,{className:"ml-2 bg-[#1672d6]",children:"Voc\xea"})]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-[#001533] dark:text-white",children:[e.points.toLocaleString()," pts"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-end",children:[(0,a.jsx)(m.Z,{className:"size-3 text-gray-400"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"—"})]})]})]},e.position))]})]})})]})}},96246:function(e,t,r){"use strict";r.d(t,{F$:function(){return o},Q5:function(){return c},qE:function(){return i}});var a=r(57437),n=r(2265),s=r(30102),l=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.fC,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...n})});i.displayName=s.fC.displayName;let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Ee,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...n})});o.displayName=s.Ee.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.NY,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...n})});c.displayName=s.NY.displayName},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var a=r(57437);r(2265);var n=r(90535),s=r(93448);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(l({variant:r}),t),...n})}},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var a=r(57437),n=r(2265),s=r(93448);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight text-lg",r),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-foreground/70",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s},x:function(){return l}});var a=r(61994),n=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function l(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[2882,6137,2972,3384,2971,2117,1744],function(){return e(e.s=64349)}),_N_E=e.O()}]);