"use strict";(()=>{var e={};e.id=54012,e.ids=[54012],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},95463:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>h,patchFetch:()=>I,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var a={};s.r(a),s.d(a,{POST:()=>u,dynamic:()=>p});var t=s(49303),o=s(88716),i=s(60670),n=s(87070),c=s(1926);let p="force-dynamic";async function u(e){try{let{area:r,question:s,answer:a,date:t}=await e.json();if(!r||!s||!a)return n.NextResponse.json({error:"Missing required fields"},{status:400});try{let o=e.headers.get("authorization");if(o){let e=o.replace("Bearer ",""),{data:{user:i}}=await c.O.auth.getUser(e);if(i)try{await c.O.from("val_icebreaker_responses").insert({user_id:i.id,area:r,question:s,answer:a,created_at:t||new Date().toISOString()})}catch(e){console.log("Could not save to database:",e)}}}catch(e){console.log("No auth available:",e)}return n.NextResponse.json({success:!0,message:"Response saved successfully"})}catch(e){return console.error("Error saving icebreaker response:",e),n.NextResponse.json({error:"Failed to save response"},{status:500})}}let l=new t.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/val/icebreaker/respond/route",pathname:"/api/val/icebreaker/respond",filename:"route",bundlePath:"app/api/val/icebreaker/respond/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\val\\icebreaker\\respond\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:v}=l,h="/api/val/icebreaker/respond/route";function I(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},1926:(e,r,s)=>{s.d(r,{O:()=>i});var a=s(54128);let t="https://ikjgsqtykkhqimypacro.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";t&&o||console.error("âŒ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let i=(0,a.eI)(t||"https://setup-missing.supabase.co",o||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[89276,55972,54128],()=>s(95463));module.exports=a})();