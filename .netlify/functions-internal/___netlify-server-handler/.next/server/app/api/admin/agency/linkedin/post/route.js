"use strict";(()=>{var e={};e.id=55339,e.ids=[55339],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},55315:e=>{e.exports=require("path")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},6162:e=>{e.exports=require("worker_threads")},71568:e=>{e.exports=require("zlib")},87561:e=>{e.exports=require("node:fs")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},63515:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>q,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>x,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var n={};r.r(n),r.d(n,{POST:()=>l,dynamic:()=>c,maxDuration:()=>d});var s=r(49303),o=r(88716),i=r(60670),a=r(87070),u=r(17478),p=r(83387);let c="force-dynamic",d=120;async function l(e){let t;let r=await (0,u.k)(e);if(!r.ok)return r.res;try{t=await e.json()}catch{return a.NextResponse.json({success:!1,error:"Invalid JSON body"},{status:400})}let{client_id:n,topic:s,post_type:o="thought_leadership",objective:i,additional_context:c}=t;if(!n||!s)return a.NextResponse.json({success:!1,error:"client_id and topic are required"},{status:400});try{let e=await (0,p.kC)({clientId:n,topic:s,platform:"linkedin",contentType:"post",objective:i||`Criar post de ${o} para LinkedIn`,additionalContext:c});if(!e.success)throw Error(e.error||"Content generation failed");let t=function(e){let t=e.match(/(?:POST|TEXTO|COPY)[:\s]*\n?([\s\S]*?)(?=\n\n---|$)/i),r=e.match(/(?:HOOK|ABERTURA|PRIMEIRA.LINHA)[:\s]*\n?([\s\S]*?)(?=\n\n|$)/i),n=e.match(/#[^\s#]+/g),s=e.match(/(?:CTA|CALL.TO.ACTION|ENGAJAMENTO)[:\s]*\n?([\s\S]*?)(?=\n\n|$)/i);return{post:t?.[1]?.trim()||e.substring(0,800),hook:r?.[1]?.trim(),hashtags:n?.slice(0,5)||[],cta:s?.[1]?.trim(),fullOutput:e}}(e.finalOutput);return a.NextResponse.json({success:!0,result:{...t,executionTime:e.totalTime,tokenUsage:e.totalTokens}})}catch(e){return console.error("LinkedIn post generation error:",e),a.NextResponse.json({success:!1,error:e.message||"Generation failed"},{status:500})}}let x=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/agency/linkedin/post/route",pathname:"/api/admin/agency/linkedin/post",filename:"route",bundlePath:"app/api/admin/agency/linkedin/post/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\admin\\agency\\linkedin\\post\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g}=x,q="/api/admin/agency/linkedin/post/route";function f(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[89276,55972,54128,20958,54214,18871,53919],()=>r(63515));module.exports=n})();