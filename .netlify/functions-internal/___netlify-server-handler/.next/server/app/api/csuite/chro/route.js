"use strict";(()=>{var e={};e.id=24399,e.ids=[24399],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},61882:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>N,requestAsyncStorage:()=>j,routeModule:()=>m,serverHooks:()=>R,staticGenerationAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>d,POST:()=>x,dynamic:()=>l});var o=r(49303),a=r(88716),n=r(60670),i=r(87070),u=r(20344),c=r(71615),p=r(53247);let l="force-dynamic";async function d(e){try{let t=(0,c.cookies)(),r=(0,u.createServerComponentClient)({cookies:()=>t}),{data:{user:s}}=await r.auth.getUser();if(!s)return i.NextResponse.json({error:"N\xe3o autorizado"},{status:401});let{searchParams:o}=new URL(e.url);switch(o.get("action")||"dashboard"){case"dashboard":let a=await (0,p.At)();return i.NextResponse.json(a);case"employees":let n=await (0,p.De)();return i.NextResponse.json(n);case"turnover":let l=await (0,p.xu)();return i.NextResponse.json(l);case"salaries":let d=await (0,p.ps)();return i.NextResponse.json(d);case"team-health":let x=await (0,p.pu)();return i.NextResponse.json(x);default:return i.NextResponse.json({error:"A\xe7\xe3o inv\xe1lida"},{status:400})}}catch(e){return console.error("Erro na API CHRO:",e),i.NextResponse.json({error:"Erro interno do servidor"},{status:500})}}async function x(e){try{let t=(0,c.cookies)(),r=(0,u.createServerComponentClient)({cookies:()=>t}),{data:{user:s}}=await r.auth.getUser();if(!s)return i.NextResponse.json({error:"N\xe3o autorizado"},{status:401});let o=await e.json(),{action:a}=o;switch(a){case"chat":let{message:n,context:l}=o;if(!n)return i.NextResponse.json({error:"Mensagem obrigat\xf3ria"},{status:400});let d=await (0,p.eZ)(n,l);return i.NextResponse.json({response:d});case"generate-career-plan":let{userId:x,targetPosition:m}=o;if(!x||!m)return i.NextResponse.json({error:"Dados incompletos"},{status:400});let j=await (0,p.wK)(x,m);return i.NextResponse.json(j);case"approve-salary-adjustment":let{recommendationId:h,approved:R}=o;if(!h)return i.NextResponse.json({error:"ID da recomenda\xe7\xe3o obrigat\xf3rio"},{status:400});return await r.from("salary_recommendations").update({status:R?"approved":"rejected"}).eq("id",h),i.NextResponse.json({success:!0});default:return i.NextResponse.json({error:"A\xe7\xe3o inv\xe1lida"},{status:400})}}catch(e){return console.error("Erro na API CHRO:",e),i.NextResponse.json({error:"Erro interno do servidor"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/csuite/chro/route",pathname:"/api/csuite/chro",filename:"route",bundlePath:"app/api/csuite/chro/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\csuite\\chro\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:j,staticGenerationAsyncStorage:h,serverHooks:R}=m,v="/api/csuite/chro/route";function N(){return(0,n.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89276,55972,54128,20958,53247],()=>r(61882));module.exports=s})();