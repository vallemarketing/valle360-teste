(()=>{var e={};e.id=41208,e.ids=[41208],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},23523:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>t.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(16211),a(49539),a(49991),a(35866);var o=a(23191),l=a(88716),s=a(37922),t=a.n(s),i=a(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(r,n);let d=["",{children:["colaborador",{children:["perfil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,16211)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\perfil\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49539)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\perfil\\page.tsx"],p="/colaborador/perfil/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/colaborador/perfil/page",pathname:"/colaborador/perfil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5132:(e,r,a)=>{Promise.resolve().then(a.bind(a,96856))},51896:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},41291:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},28932:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},9015:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},42887:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},31215:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},88307:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},73037:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("square-kanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]])},63685:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},79635:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});let o=(0,a(62881).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},96856:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>y});var o=a(10326),l=a(17577),s=a(2777),t=a(28870),i=a(79635),n=a(42887),d=a(28916),c=a(9015),p=a(51896),m=a(41291),u=a(31215),x=a(51223);function y(){let[e,r]=(0,l.useState)("pessoais"),[a,y]=(0,l.useState)(!0),[h,v]=(0,l.useState)(!1),[b,g]=(0,l.useState)(null),[f,_]=(0,l.useState)({full_name:"",email:"",phone:"",date_of_birth:"",avatar_url:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zipcode:"",emergency_contact_name:"",emergency_contact_phone:"",pix_type:"cpf",pix_key:""}),j=async()=>{v(!0),g(null);try{let{data:{user:e}}=await s.O.auth.getUser();if(!e)throw Error("Usu\xe1rio n\xe3o encontrado");await s.O.from("user_profiles").update({full_name:f.full_name,phone:f.phone,avatar_url:f.avatar_url}).eq("user_id",e.id);let{data:r}=await s.O.from("employees").select("id").eq("user_id",e.id).single();r&&(await s.O.from("employee_personal_data").upsert({employee_id:r.id,date_of_birth:f.date_of_birth,address_street:f.address_street,address_number:f.address_number,address_complement:f.address_complement,address_neighborhood:f.address_neighborhood,address_city:f.address_city,address_state:f.address_state,address_zipcode:f.address_zipcode,emergency_contact_name:f.emergency_contact_name,emergency_contact_phone:f.emergency_contact_phone}),await s.O.from("employee_financial_data").upsert({employee_id:r.id,pix_type:f.pix_type,pix_key:f.pix_key})),g({type:"success",text:"Perfil atualizado com sucesso!"})}catch(e){console.error("Erro ao salvar:",e),g({type:"error",text:"Erro ao salvar perfil"})}finally{v(!1)}},C=[{id:"pessoais",label:"Dados Pessoais",icon:o.jsx(i.Z,{className:"w-4 h-4"})},{id:"contato",label:"Contato",icon:o.jsx(n.Z,{className:"w-4 h-4"})},{id:"financeiro",label:"Financeiro",icon:o.jsx(d.Z,{className:"w-4 h-4"})},{id:"seguranca",label:"Seguran\xe7a",icon:o.jsx(c.Z,{className:"w-4 h-4"})}];return a?o.jsx("div",{className:"min-h-[calc(100vh-73px)] flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsxs)("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"var(--primary-500)"}}),o.jsx("p",{className:"mt-4",style:{color:"var(--text-secondary)"},children:"Carregando perfil..."})]})}):o.jsx("div",{className:"min-h-[calc(100vh-73px)] p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,o.jsxs)("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Meu Perfil"}),o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gerencie suas informa\xe7\xf5es pessoais e prefer\xeancias"})]}),(0,o.jsxs)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl p-8 text-center",style:{backgroundColor:"var(--bg-primary)",borderWidth:"1px",borderColor:"var(--border-light)"},children:[(0,o.jsxs)("div",{className:"relative inline-block",children:[o.jsx("img",{src:f.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.email}`,alt:"Avatar",className:"w-32 h-32 rounded-full object-cover ring-4",style:{border:"4px solid var(--primary-100)"}}),o.jsx("button",{className:"absolute bottom-0 right-0 p-3 rounded-full shadow-lg transition-all hover:scale-110",style:{backgroundColor:"var(--primary-500)"},children:o.jsx(p.Z,{className:"w-5 h-5 text-white"})})]}),o.jsx("h2",{className:"text-2xl font-bold mt-4",style:{color:"var(--text-primary)"},children:f.full_name||"Sem nome"}),o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:f.email})]}),(0,o.jsxs)("div",{className:"rounded-2xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderWidth:"1px",borderColor:"var(--border-light)"},children:[o.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-light)"},children:C.map(a=>(0,o.jsxs)("button",{onClick:()=>r(a.id),className:(0,x.cn)("flex-1 px-6 py-4 flex items-center justify-center gap-2 text-sm font-medium transition-all relative",e===a.id?"":"hover:bg-opacity-50"),style:{color:e===a.id?"var(--primary-700)":"var(--text-secondary)",backgroundColor:e===a.id?"var(--primary-50)":"transparent"},children:[a.icon,a.label,e===a.id&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5",style:{backgroundColor:"var(--primary-500)"}})]},a.id))}),(0,o.jsxs)("div",{className:"p-8",children:["pessoais"===e&&(0,o.jsxs)(t.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Nome Completo"}),o.jsx("input",{type:"text",value:f.full_name,onChange:e=>_({...f,full_name:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Digite seu nome completo"})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Data de Nascimento"}),o.jsx("input",{type:"date",value:f.date_of_birth,onChange:e=>_({...f,date_of_birth:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]}),"contato"===e&&(0,o.jsxs)(t.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Email"}),o.jsx("input",{type:"email",value:f.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border opacity-60 cursor-not-allowed",style:{backgroundColor:"var(--bg-tertiary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"}}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Email n\xe3o pode ser alterado"})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Telefone"}),o.jsx("input",{type:"tel",value:f.phone,onChange:e=>_({...f,phone:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"(11) 99999-9999"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Contato de Emerg\xeancia"}),o.jsx("input",{type:"text",value:f.emergency_contact_name,onChange:e=>_({...f,emergency_contact_name:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Nome"})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 opacity-0",children:"Telefone"}),o.jsx("input",{type:"tel",value:f.emergency_contact_phone,onChange:e=>_({...f,emergency_contact_phone:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Telefone"})]})]}),(0,o.jsxs)("div",{className:"space-y-4 pt-4 border-t",style:{borderColor:"var(--border-light)"},children:[o.jsx("h3",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Endere\xe7o"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx("input",{type:"text",value:f.address_street,onChange:e=>_({...f,address_street:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Rua"})}),o.jsx("div",{children:o.jsx("input",{type:"text",value:f.address_number,onChange:e=>_({...f,address_number:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"N\xfamero"})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",value:f.address_complement,onChange:e=>_({...f,address_complement:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Complemento"}),o.jsx("input",{type:"text",value:f.address_neighborhood,onChange:e=>_({...f,address_neighborhood:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Bairro"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("input",{type:"text",value:f.address_city,onChange:e=>_({...f,address_city:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Cidade"}),o.jsx("input",{type:"text",value:f.address_state,onChange:e=>_({...f,address_state:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Estado",maxLength:2}),o.jsx("input",{type:"text",value:f.address_zipcode,onChange:e=>_({...f,address_zipcode:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"CEP"})]})]})]}),"financeiro"===e&&(0,o.jsxs)(t.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Tipo de Chave PIX"}),(0,o.jsxs)("select",{value:f.pix_type,onChange:e=>_({...f,pix_type:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[o.jsx("option",{value:"cpf",children:"CPF"}),o.jsx("option",{value:"cnpj",children:"CNPJ"}),o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"phone",children:"Telefone"}),o.jsx("option",{value:"random",children:"Chave Aleat\xf3ria"})]})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Chave PIX"}),o.jsx("input",{type:"text",value:f.pix_key,onChange:e=>_({...f,pix_key:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},placeholder:"Digite sua chave PIX"})]}),(0,o.jsxs)("div",{className:"p-4 rounded-xl flex items-start gap-3",style:{backgroundColor:"var(--info-50)"},children:[o.jsx(m.Z,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--info-500)"}}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-sm font-medium",style:{color:"var(--info-700)"},children:"Informa\xe7\xe3o Importante"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--info-600)"},children:"Esta chave PIX ser\xe1 usada para pagamentos e reembolsos."})]})]})]}),"seguranca"===e&&o.jsx(t.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Alterar Senha"}),o.jsx("button",{className:"px-6 py-3 rounded-xl font-medium transition-all hover:scale-105 text-white",style:{backgroundColor:"var(--primary-500)"},children:"Solicitar Altera\xe7\xe3o de Senha"}),o.jsx("p",{className:"text-xs mt-2",style:{color:"var(--text-tertiary)"},children:"Um link ser\xe1 enviado para seu email para redefinir sua senha"})]})})]})]}),b&&(0,o.jsxs)(t.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl flex items-center gap-3",style:{backgroundColor:"success"===b.type?"var(--success-50)":"var(--error-50)"},children:[o.jsx(m.Z,{className:"w-5 h-5",style:{color:"success"===b.type?"var(--success-500)":"var(--error-500)"}}),o.jsx("p",{className:"text-sm font-medium",style:{color:"success"===b.type?"var(--success-700)":"var(--error-700)"},children:b.text})]}),o.jsx("div",{className:"sticky bottom-6",children:o.jsx("button",{onClick:j,disabled:h,className:"w-full px-6 py-4 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] shadow-lg text-white disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--primary-500)"},children:h?(0,o.jsxs)(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Salvando..."]}):(0,o.jsxs)(o.Fragment,{children:[o.jsx(u.Z,{className:"w-5 h-5"}),"Salvar Altera\xe7\xf5es"]})})})]})})}},16211:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});let o=(0,a(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\colaborador\perfil\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),o=r.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,86148,61288,59813,18832,14574,91119,57888],()=>a(23523));module.exports=o})();