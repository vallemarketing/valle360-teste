(()=>{var e={};e.id=79508,e.ids=[79508],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},30290:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(4090),t(49539),t(49991),t(35866);var a=t(23191),s=t(88716),l=t(37922),o=t.n(l),i=t(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let c=["",{children:["colaborador",{children:["social",{children:["calendario",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4090)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\social\\calendario\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,49539)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\social\\calendario\\page.tsx"],u="/colaborador/social/calendario/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/colaborador/social/calendario/page",pathname:"/colaborador/social/calendario",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49158:(e,r,t)=>{Promise.resolve().then(t.bind(t,62163))},12714:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},71806:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},28932:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},71709:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},34738:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},32019:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},82685:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},73037:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("square-kanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]])},98091:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},74857:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},63685:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},49758:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},62163:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(10326),s=t(17577),l=t(28870),o=t(37358),i=t(83855),n=t(88307),c=t(34738),d=t(71806),u=t(32019),m=t(18598);function p(){let[e,r]=(0,s.useState)(""),[t,p]=(0,s.useState)("all"),[g,y]=(0,s.useState)(!0),[v,f]=(0,s.useState)(null),[b,j]=(0,s.useState)([]),[k,w]=(0,s.useState)([]),N=e=>{window.location.href="/colaborador/social-media/upload"},C=async()=>{y(!0),f(null);try{let[e,r]=await Promise.all([fetch("/api/social/posts-mirror",{cache:"no-store"}),fetch("/api/social/clients",{cache:"no-store"})]),t=await e.json().catch(()=>null),a=await r.json().catch(()=>null);if(!e.ok)throw Error(t?.error||"Falha ao carregar posts");if(!r.ok)throw Error(a?.error||"Falha ao carregar clientes");j(Array.isArray(t?.posts)?t.posts:[]),w((Array.isArray(a?.clients)?a.clients:[]).map(e=>({id:String(e?.id||""),name:String(e?.name||"Cliente")})))}catch(e){console.error("Erro ao carregar calend\xe1rio social:",e),j([]),w([]),f(String(e?.message||"Falha ao carregar calend\xe1rio social"))}finally{y(!1)}},M=async e=>{if(window.confirm("Deseja deletar este post?")){f(null);try{let r=await fetch(`/api/social/posts-mirror?id=${encodeURIComponent(e)}`,{method:"DELETE"}),t=await r.json().catch(()=>null);if(!r.ok)throw Error(t?.error||"Falha ao deletar post");await C()}catch(e){console.error("Falha ao deletar post:",e),f(String(e?.message||"Falha ao deletar post"))}}},Z=(0,s.useMemo)(()=>new Map(k.map(e=>[e.id,e.name])),[k]),S=(0,s.useMemo)(()=>(b||[]).map(e=>{let r=String(e?.caption||""),t=r.trim()?r.trim().slice(0,48)+(r.trim().length>48?"…":""):`Post (${String(e?.post_type||"m\xeddia")})`,a=e?.client_id?String(e.client_id):"",s=Z.get(a)||"Cliente",l=e?.scheduled_at||e?.published_at||e?.created_at||new Date().toISOString(),o=!!e?.is_draft||"draft"===String(e?.status||"").toLowerCase(),i=String(e?.status||"").toLowerCase(),n=o?"draft":"failed"===i?"failed":"published"===i||e?.published_at?"published":("scheduled"===i||e?.scheduled_at,"scheduled"),c=(Array.isArray(e?.platforms)?e.platforms.map(String):[]).filter(e=>["instagram","facebook","linkedin","twitter"].includes(String(e))),d=String(e?.post_type||e?.type||"image").toLowerCase(),u=d.includes("reel")?"reel":d.includes("story")?"story":d.includes("carousel")?"carousel":d.includes("video")?"video":"image",m=Array.isArray(e?.media_urls)?e.media_urls:[],p=m.length?String(m[0]):void 0;return{id:String(e?.id||""),title:t,content:r,type:u,platforms:c.length?c:["instagram"],scheduledAt:l,status:n,clientId:a,clientName:s,thumbnail:p,createdBy:String(e?.created_by||"")}}).filter(e=>!!e.id),[b,Z]),_=(0,s.useMemo)(()=>{let r=e.trim().toLowerCase();return S.filter(e=>!!("all"===t||e.platforms.includes(t))&&(!r||`${e.title} ${e.content} ${e.clientName}`.toLowerCase().includes(r)))},[S,e,t]),P=(0,s.useMemo)(()=>{let e=_.filter(e=>"scheduled"===e.status).length,r=_.filter(e=>"draft"===e.status).length,t=new Set(_.map(e=>e.clientId).filter(Boolean)).size,a=new Date,s=a.getFullYear(),l=a.getMonth();return{scheduled:e,drafts:r,activeClients:t,publishedMonth:_.filter(e=>{if("published"!==e.status)return!1;let r=new Date(e.scheduledAt);return r.getFullYear()===s&&r.getMonth()===l}).length}},[_]);return a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--pink-100, #FCE7F3)"},children:a.jsx(o.Z,{className:"w-7 h-7",style:{color:"var(--pink-500, #EC4899)"}})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Calend\xe1rio de Posts"}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Agende e gerencie publica\xe7\xf5es nas redes sociais"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(new Date),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-white",style:{backgroundColor:"var(--primary-500)"},children:[a.jsx(i.Z,{className:"w-4 h-4"}),"Novo Post"]})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"Buscar post...",value:e,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}}),a.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--text-tertiary)"}})]}),a.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"Todas",icon:null},{id:"instagram",label:"Instagram",icon:a.jsx(c.Z,{className:"w-4 h-4"}),color:"#E4405F"},{id:"facebook",label:"Facebook",icon:a.jsx(d.Z,{className:"w-4 h-4"}),color:"#1877F2"},{id:"linkedin",label:"LinkedIn",icon:a.jsx(u.Z,{className:"w-4 h-4"}),color:"#0A66C2"}].map(e=>(0,a.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:t===e.id?e.color||"var(--primary-500)":"var(--bg-primary)",color:t===e.id?"white":"var(--text-secondary)",border:`1px solid ${t===e.id?e.color||"var(--primary-500)":"var(--border-light)"}`},children:[e.icon,a.jsx("span",{className:"hidden md:inline",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(h,{label:"Agendados",value:g?"—":String(P.scheduled),color:"var(--primary-500)"}),a.jsx(h,{label:"Publicados (M\xeas)",value:g?"—":String(P.publishedMonth),color:"var(--success-500)"}),a.jsx(h,{label:"Rascunhos",value:g?"—":String(P.drafts),color:"var(--warning-500)"}),a.jsx(h,{label:"Clientes Ativos",value:g?"—":String(P.activeClients),color:"var(--purple-500)"})]}),v&&a.jsx("div",{className:"rounded-xl p-4 border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--error-300)"},children:a.jsx("p",{style:{color:"var(--error-700)"},children:v})}),a.jsx(m.d,{posts:_,onAddPost:N,onEditPost:e=>{window.location.href="/colaborador/social-media/upload"},onDeletePost:M,onViewPost:e=>{window.location.href="/colaborador/social-media/upload"}}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl p-6 border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[a.jsx("span",{className:"text-lg",children:"\uD83E\uDD16"}),"Sugest\xe3o da Val: Melhores Hor\xe1rios (benchmark)"]}),a.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-tertiary)"},children:"Observa\xe7\xe3o: at\xe9 termos dados suficientes por canal/cliente, estas sugest\xf5es usam benchmarks gerais."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(x,{platform:"Instagram",time:"18:00 - 21:00",engagement:"+45%"}),a.jsx(x,{platform:"Facebook",time:"13:00 - 15:00",engagement:"+32%"}),a.jsx(x,{platform:"LinkedIn",time:"08:00 - 10:00",engagement:"+28%"}),a.jsx(x,{platform:"Stories",time:"12:00 - 14:00",engagement:"+38%"})]})]})]})})}function h({label:e,value:r,color:t}){return(0,a.jsxs)("div",{className:"rounded-xl p-4 border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[a.jsx("p",{className:"text-2xl font-bold",style:{color:t},children:r}),a.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e})]})}function x({platform:e,time:r,engagement:t}){return(0,a.jsxs)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[a.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:e}),a.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:r}),(0,a.jsxs)("p",{className:"text-xs font-medium mt-1",style:{color:"var(--success-500)"},children:[t," engajamento"]})]})}},4090:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\colaborador\social\calendario\page.tsx#default`)},99068:(e,r,t)=>{"use strict";t.d(r,{z:()=>l});var a=t(47602),s=t(77120);function l(e,r,t){let l=(0,s.Q)(e,t?.in);if(isNaN(r))return(0,a.L)(t?.in||e,NaN);if(!r)return l;let o=l.getDate(),i=(0,a.L)(t?.in||e,l.getTime());return(i.setMonth(l.getMonth()+r+1,0),o>=i.getDate())?i:(l.setFullYear(i.getFullYear(),i.getMonth(),o),l)}},9531:(e,r,t)=>{"use strict";t.d(r,{D:()=>l});var a=t(86527),s=t(47602);function l(e,r){let{start:t,end:l}=function(e,r){let[t,s]=(0,a.d)(e,r.start,r.end);return{start:t,end:s}}(r?.in,e),o=+t>+l,i=o?+t:+l,n=o?l:t;n.setHours(0,0,0,0);let c=r?.step??1;if(!c)return[];c<0&&(c=-c,o=!o);let d=[];for(;+n<=i;)d.push((0,s.L)(t,n)),n.setDate(n.getDate()+c),n.setHours(0,0,0,0);return o?d.reverse():d}},78432:(e,r,t)=>{"use strict";t.d(r,{K:()=>l});var a=t(86527),s=t(44071);function l(e,r,t){let[l,o]=(0,a.d)(t?.in,e,r);return+(0,s.b)(l)==+(0,s.b)(o)}},30169:(e,r,t)=>{"use strict";t.d(r,{x:()=>s});var a=t(86527);function s(e,r,t){let[s,l]=(0,a.d)(t?.in,e,r);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}},85065:(e,r,t)=>{"use strict";t.d(r,{N:()=>s});var a=t(77120);function s(e,r){let t=(0,a.Q)(e,r?.in);return t.setDate(1),t.setHours(0,0,0,0),t}},9663:(e,r,t)=>{"use strict";t.d(r,{W:()=>s});var a=t(99068);function s(e,r,t){return(0,a.z)(e,-r,t)}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,86148,61288,59813,62567,18832,14574,91119,57888,24378],()=>t(30290));module.exports=a})();