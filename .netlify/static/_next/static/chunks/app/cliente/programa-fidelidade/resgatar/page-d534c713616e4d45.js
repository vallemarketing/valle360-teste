(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1062],{41091:function(e,t,a){Promise.resolve().then(a.bind(a,60883))},60883:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(57437),i=a(2265),r=a(26892),n=a(57586),o=a(87414),l=a(11239),c=a(62720),d=a(86595),m=a(82023),u=a(42449),x=a(98617),p=a(51817),f=a(32660),g=a(91723),b=a(30401),h=a(27648),v=a(12381),y=a(79820),j=a(69174),N=a(93448),w=a(14438),_=a(68445);let C=[{id:"1",name:"Consultoria de Marca (1h)",description:"Uma hora de consultoria exclusiva para alinhamento estrat\xe9gico da sua marca.",points_cost:500,category:"consultoria",stock:10,is_limited:!1},{id:"2",name:"Desconto 10% no Pr\xf3ximo M\xeas",description:"Cupom de 10% de desconto na pr\xf3xima fatura mensal.",points_cost:300,category:"desconto",stock:50,is_limited:!1},{id:"3",name:"Post Extra no Instagram",description:"Um post adicional no Instagram, fora do pacote contratado.",points_cost:150,category:"servico",stock:20,is_limited:!1},{id:"4",name:"Stories Destacados",description:"Cria\xe7\xe3o de 5 stories destacados para seu perfil.",points_cost:200,category:"servico",stock:15,is_limited:!1},{id:"5",name:"An\xe1lise de Concorrentes",description:"Relat\xf3rio detalhado analisando 3 concorrentes do seu setor.",points_cost:400,category:"consultoria",stock:5,is_limited:!0,expires_at:"2026-02-28"},{id:"6",name:"V\xeddeo Institucional (30s)",description:"Produ\xe7\xe3o de um v\xeddeo institucional curto para suas redes.",points_cost:800,category:"producao",stock:3,is_limited:!0,tier_required:"gold"},{id:"7",name:"Prioridade no Atendimento",description:"Atendimento priorit\xe1rio por 30 dias.",points_cost:250,category:"beneficio",stock:100,is_limited:!1},{id:"8",name:"Kit Valle Exclusivo",description:"Kit com camiseta, caneca e adesivos Valle.",points_cost:600,category:"brinde",stock:10,is_limited:!0,tier_required:"silver"}],P=[{id:"all",name:"Todos",icon:o.Z},{id:"servico",name:"Servi\xe7os",icon:l.Z},{id:"desconto",name:"Descontos",icon:c.Z},{id:"consultoria",name:"Consultoria",icon:d.Z},{id:"producao",name:"Produ\xe7\xe3o",icon:m.Z},{id:"brinde",name:"Brindes",icon:u.Z},{id:"beneficio",name:"Benef\xedcios",icon:x.Z}];function k(){var e,t;let[a,l]=(0,i.useState)(C),[c,m]=(0,i.useState)(null),[u,k]=(0,i.useState)("all"),[E,R]=(0,i.useState)(!0),[A,D]=(0,i.useState)(null),[S,T]=(0,i.useState)(null);(0,i.useEffect)(()=>{O()},[]);let O=async()=>{R(!0);try{let e=await fetch("/api/client/points"),t=await e.json();t.success&&m({total_points:t.total_points||0,available_points:t.available_points||t.total_points||0,level:t.level||"bronze"});let a=await fetch("/api/client/rewards"),s=await a.json();s.success&&s.rewards&&l(s.rewards)}catch(e){console.error("Erro ao carregar dados:",e)}finally{R(!1)}},Z=async e=>{if(!c||c.available_points<e.points_cost){w.Am.error("Pontos insuficientes");return}D(e.id);try{let t=await fetch("/api/client/rewards/redeem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rewardId:e.id})}),a=await t.json();a.success?(w.Am.success("Recompensa resgatada com sucesso!",{description:"Voc\xea receber\xe1 instru\xe7\xf5es por email."}),T(null),O()):w.Am.error(a.error||"Erro ao resgatar recompensa")}catch(e){console.error("Erro:",e),w.Am.error("Erro ao resgatar recompensa")}finally{D(null)}},z=a.filter(e=>"all"===u||e.category===u),B=e=>{if(!c||c.available_points<e.points_cost||e.stock<=0)return!1;if(e.tier_required){let t=(0,_.jr)(c.total_points),a=["bronze","silver","gold","platinum","diamond"];if(a.indexOf(t.currentLevel.id)<a.indexOf(e.tier_required))return!1}return!0},L=e=>{let t=P.find(t=>t.id===e);return(null==t?void 0:t.icon)||o.Z};return E?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(h.default,{href:"/cliente/programa-fidelidade",children:(0,s.jsx)(v.z,{variant:"ghost",size:"icon",children:(0,s.jsx)(f.Z,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cat\xe1logo de Recompensas"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Troque seus pontos por benef\xedcios exclusivos"})]})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl px-6 py-3 shadow-lg border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(d.Z,{className:"w-5 h-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Seus pontos"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(null==c?void 0:null===(e=c.available_points)||void 0===e?void 0:e.toLocaleString("pt-BR"))||0})]})]})})]}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:P.map(e=>(0,s.jsxs)("button",{onClick:()=>k(e.id),className:(0,N.cn)("flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all",u===e.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,s.jsx)(e.icon,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))}),(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:z.map((e,t)=>{let a=L(e.category),i=B(e);return(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,s.jsxs)(y.Zb,{className:(0,N.cn)("overflow-hidden h-full flex flex-col transition-all",i?"hover:shadow-lg":"opacity-60"),children:[(0,s.jsxs)("div",{className:"h-32 bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center relative",children:[(0,s.jsx)(a,{className:"w-12 h-12 text-primary/50"}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.is_limited&&(0,s.jsxs)(j.C,{variant:"danger",className:"text-xs",children:[(0,s.jsx)(g.Z,{className:"w-3 h-3 mr-1"}),"Limitado"]}),e.tier_required&&(0,s.jsxs)(j.C,{variant:"secondary",className:"text-xs capitalize",children:[(0,s.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),e.tier_required,"+"]})]}),e.stock<10&&e.stock>0&&(0,s.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,s.jsxs)(j.C,{variant:"outline",className:"text-xs bg-white/80",children:["Restam ",e.stock]})}),0===e.stock&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold",children:"ESGOTADO"})})]}),(0,s.jsxs)(y.aY,{className:"flex-1 flex flex-col p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex-1",children:e.description}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 text-primary font-bold",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 fill-current"}),(0,s.jsx)("span",{children:e.points_cost.toLocaleString("pt-BR")})]}),(0,s.jsx)(v.z,{size:"sm",disabled:!i||A===e.id,onClick:()=>T(e),className:(0,N.cn)(i?"bg-primary hover:bg-primary/90":"bg-gray-300 cursor-not-allowed"),children:A===e.id?(0,s.jsx)(p.Z,{className:"w-4 h-4 animate-spin"}):"Resgatar"})]})]})]})},e.id)})}),0===z.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Nenhuma recompensa encontrada nesta categoria"})]}),(0,s.jsx)(n.M,{children:S&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>T(null),children:(0,s.jsx)(r.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-xl",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 mx-auto mb-4 flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-8 h-8 text-primary"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Confirmar Resgate"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Deseja resgatar ",(0,s.jsx)("strong",{children:S.name})," por"," ",(0,s.jsxs)("strong",{className:"text-primary",children:[S.points_cost.toLocaleString("pt-BR")," pontos"]}),"?"]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Seus pontos atuais:"}),(0,s.jsx)("span",{className:"font-medium",children:null==c?void 0:null===(t=c.available_points)||void 0===t?void 0:t.toLocaleString("pt-BR")})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Custo:"}),(0,s.jsxs)("span",{className:"font-medium text-red-500",children:["-",S.points_cost.toLocaleString("pt-BR")]})]}),(0,s.jsxs)("div",{className:"border-t pt-2 flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Ap\xf3s resgate:"}),(0,s.jsx)("span",{className:"font-bold text-primary",children:(((null==c?void 0:c.available_points)||0)-S.points_cost).toLocaleString("pt-BR")})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(v.z,{variant:"outline",className:"flex-1",onClick:()=>T(null),children:"Cancelar"}),(0,s.jsx)(v.z,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>Z(S),disabled:A===S.id,children:A===S.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Resgatando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Confirmar"]})})]})]})})})})]})})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var s=a(57437);a(2265);var i=a(90535),r=a(93448);let n=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...i}=e;return(0,s.jsx)("div",{className:(0,r.cn)(n({variant:a}),t),...i})}},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var s=a(57437),i=a(2265),r=a(90535),n=a(93448);let o=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:a,variant:i,size:r,...l}=e;return(0,s.jsx)("button",{className:(0,n.cn)(o({variant:i,size:r,className:a})),ref:t,...l})});l.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return l}});var s=a(57437),i=a(2265),r=a(93448);let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",a),...i})});n.displayName="Card";let o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...i})});o.displayName="CardHeader";let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("h3",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight text-lg",a),...i})});l.displayName="CardTitle";let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-foreground/70",a),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...i})});d.displayName="CardContent",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},68445:function(e,t,a){"use strict";a.d(t,{It:function(){return n},eu:function(){return o},jr:function(){return l},oq:function(){return i},zq:function(){return s}});let s=[{id:"bronze",name:"Bronze",minPoints:0,maxPoints:499,icon:"\uD83E\uDD49",color:"#CD7F32",bgGradient:"from-amber-600 to-amber-800",benefits:["Acesso ao painel b\xe1sico","Suporte por chat","Relat\xf3rios mensais"],badge:"/badges/bronze.svg"},{id:"silver",name:"Prata",minPoints:500,maxPoints:1999,icon:"\uD83E\uDD48",color:"#C0C0C0",bgGradient:"from-gray-400 to-gray-600",benefits:["Todos os benef\xedcios Bronze","Prioridade m\xe9dia no atendimento","Relat\xf3rios semanais","Acesso a templates exclusivos"],badge:"/badges/silver.svg"},{id:"gold",name:"Ouro",minPoints:2e3,maxPoints:4999,icon:"\uD83E\uDD47",color:"#FFD700",bgGradient:"from-yellow-400 to-amber-500",benefits:["Todos os benef\xedcios Prata","Prioridade alta no atendimento","Brindes exclusivos","Acesso antecipado a novidades","Consultoria mensal de 30min"],badge:"/badges/gold.svg"},{id:"platinum",name:"Platina",minPoints:5e3,maxPoints:14999,icon:"\uD83D\uDC8E",color:"#E5E4E2",bgGradient:"from-slate-300 to-slate-500",benefits:["Todos os benef\xedcios Ouro","10% de desconto em servi\xe7os extras","Gestor de conta dedicado","Consultoria semanal","Convites para eventos exclusivos"],badge:"/badges/platinum.svg"},{id:"diamond",name:"Diamante",minPoints:15e3,maxPoints:1/0,icon:"\uD83D\uDC51",color:"#B9F2FF",bgGradient:"from-cyan-300 to-blue-500",benefits:["Todos os benef\xedcios Platina","20% de desconto em servi\xe7os extras","Acesso VIP total","Linha direta com diretoria","Participa\xe7\xe3o em decis\xf5es de produto","Viagem exclusiva anual"],badge:"/badges/diamond.svg"}];function i(e){return s.find(t=>e>=t.minPoints&&e<=t.maxPoints)||s[0]}function r(e){let t=s.findIndex(t=>t.id===e.id);return t<s.length-1?s[t+1]:null}function n(e){let t=i(e),a=r(t);return a?{progress:Math.min(100,(e-t.minPoints)/(a.minPoints-t.minPoints)*100),pointsNeeded:a.minPoints-e,nextLevel:a}:{progress:100,pointsNeeded:0,nextLevel:null}}let o={APPROVE_POST:10,APPROVE_POST_FAST:20,COMPLETE_BRIEFING:50,FEEDBACK_DETAILED:30,REFERRAL:500,MONTHLY_ACTIVE:100,STREAK_7_DAYS:50,STREAK_30_DAYS:200,FIRST_APPROVAL:100,CONNECT_INSTAGRAM:150,COMPLETE_ONBOARDING:200};function l(e){let t=i(e),a=r(t),o=n(e);return{level:s.findIndex(e=>e.id===t.id)+1,tier:t.name,currentLevel:t,nextLevel:a,progress:o.progress,pointsNeeded:o.pointsNeeded,color:t.color,pointsForNext:a?a.minPoints:t.maxPoints,icon:t.icon,bgGradient:t.bgGradient}}},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return r},x:function(){return n}});var s=a(61994),i=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,s.W)(t))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[2882,6137,4438,2972,8546,2971,2117,1744],function(){return e(e.s=41091)}),_N_E=e.O()}]);