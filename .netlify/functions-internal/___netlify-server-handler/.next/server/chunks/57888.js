exports.id=57888,exports.ids=[57888],exports.modules={35088:(e,a,r)=>{Promise.resolve().then(r.bind(r,53022))},997:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},50732:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},36728:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},60763:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},53022:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>E});var t=r(10326),o=r(17577),s=r(90748),i=r(88307),l=r(60850),n=r(72607),c=r(36728),d=r(35047),h=r(59813),m=r(90434),u=r(46226);r(11672);var x=r(14100);function p({onMenuClick:e}){let[a,r]=(0,o.useState)(""),[p,b]=(0,o.useState)(!1),[f,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[j,w]=(0,o.useState)(""),[k,N]=(0,o.useState)(!1);return(0,d.usePathname)(),(0,d.useRouter)(),(0,h.createClientComponentClient)(),t.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 h-[73px] border-b border-[#001533]/10 dark:border-white/10 bg-white/95 dark:bg-[#0a0f1a]/95 backdrop-blur",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 lg:w-64",children:[e&&t.jsx("button",{onClick:e,className:"lg:hidden p-2 text-[#001533]/60 hover:text-[#001533] hover:bg-[#001533]/5 dark:text-white/60 dark:hover:text-white dark:hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(s.Z,{className:"h-5 w-5"})}),(0,t.jsxs)(m.default,{href:"/colaborador/dashboard",className:"flex items-center",children:[t.jsx(u.default,{src:"/Logo/valle360-logo.png",alt:"Valle 360",width:160,height:45,className:"object-contain hidden sm:block",priority:!0}),t.jsx(u.default,{src:"/icons/valle360-icon.png",alt:"Valle 360",width:36,height:36,className:"object-contain sm:hidden",priority:!0})]})]}),t.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl px-4 lg:px-8",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Searching for:",a)},className:"relative group w-full",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(i.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx("input",{id:"global-search",type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 sm:text-sm transition-all",placeholder:"Buscar tarefas, clientes ou arquivos... (⌘K)",value:a,onChange:e=>r(e.target.value)}),t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t.jsx("span",{className:"text-gray-400 text-xs border border-gray-200 rounded px-1.5 py-0.5 hidden lg:block",children:"⌘K"})})]})}),t.jsx("button",{className:"md:hidden p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(i.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>{N(!k),document.documentElement.classList.toggle("dark")},className:"p-2 rounded-lg transition-colors text-[#001533]/70 dark:text-white/70 hover:bg-[#001533]/5 dark:hover:bg-white/10","aria-label":"Alternar tema",children:k?t.jsx(l.Z,{className:"h-5 w-5"}):t.jsx(n.Z,{className:"h-5 w-5"})}),t.jsx(x.L,{context:"colaborador"}),t.jsx("button",{className:"p-2 text-[#001533]/60 hover:text-[#001533] hover:bg-[#001533]/5 dark:text-white/60 dark:hover:text-white dark:hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(c.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pl-4 border-l border-[#001533]/10 dark:border-white/10",children:[(0,t.jsxs)("div",{className:"flex flex-col text-right hidden md:block",children:[t.jsx("span",{className:"text-sm font-semibold text-[#001533] dark:text-white",children:f}),t.jsx("span",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:y})]}),j?t.jsx("img",{src:j,alt:f,className:"h-10 w-10 rounded-full object-cover shadow-md cursor-pointer hover:shadow-lg transition-all ring-2 ring-[#1672d6]/20"}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#001533] to-[#1672d6] flex items-center justify-center text-white font-bold shadow-md cursor-pointer hover:shadow-lg transition-all",children:f.charAt(0).toUpperCase()})]})]})]})})}var b=r(24319),f=r(73037),g=r(37358),y=r(40617),v=r(28932),j=r(1572),w=r(47546),k=r(17069),N=r(28916),C=r(60763),Z=r(63685),_=r(24061),S=r(997),M=r(50732),D=r(36283),A=r(6507),I=r(88378),P=r(71810);r(91119);var R=r(51223);function V(e){let a=(0,d.usePathname)(),r=(0,d.useRouter)(),s=(0,h.createClientComponentClient)(),[i,l]=(0,o.useState)([]),n=e?.variant||"fixed",x=async()=>{await s.auth.signOut(),r.push("/login")},p=(0,o.useMemo)(()=>i.includes("social_media")?"/colaborador/social-media/upload":i.includes("head_marketing")?"/colaborador/head-marketing/upload":null,[i]),V=(0,o.useMemo)(()=>{let e=[];e.push({id:"principal",label:"Principal",items:[{id:"dashboard",name:"Dashboard",icon:b.Z,href:"/colaborador/dashboard"},{id:"kanban",name:"Kanban",icon:f.Z,href:"/colaborador/kanban"},{id:"agenda",name:"Agenda",icon:g.Z,href:"/colaborador/agenda"},{id:"mensagens",name:"Mensagens",icon:y.Z,href:"/colaborador/mensagens"},{id:"arquivos",name:"Arquivos",icon:v.Z,href:"/colaborador/arquivos"}]});let a=[];return i.includes("social_media")&&a.push({id:"area-social",name:"Social Media",icon:j.Z,href:"/colaborador/social-media"}),i.includes("head_marketing")&&a.push({id:"area-head",name:"Head Marketing",icon:w.Z,href:"/colaborador/head-marketing"}),i.includes("designer_grafico")&&a.push({id:"area-designer",name:"Designer",icon:j.Z,href:"/colaborador/designer"}),i.includes("trafego_pago")&&a.push({id:"area-trafego",name:"Tr\xe1fego",icon:k.Z,href:"/colaborador/trafego"}),i.includes("video_maker")&&a.push({id:"area-video",name:"V\xeddeo Maker",icon:j.Z,href:"/colaborador/video-maker"}),i.includes("webdesigner")&&a.push({id:"area-web",name:"Web Designer",icon:b.Z,href:"/colaborador/web-designer"}),i.includes("comercial")&&a.push({id:"area-comercial",name:"Comercial",icon:w.Z,href:"/colaborador/comercial"}),["financeiro_pagar","financeiro_receber"].some(e=>i.includes(e))&&a.push({id:"area-fin",name:"Financeiro",icon:N.Z,href:"/colaborador/financeiro/contas-receber"}),i.includes("rh")&&a.push({id:"area-rh",name:"RH",icon:C.Z,href:"/colaborador/rh"}),a.length&&e.push({id:"areas",label:"\xc1reas",items:a}),p&&e.push({id:"social",label:"Social",items:[{id:"agendar",name:"Agendar Postagem",icon:Z.Z,href:p},{id:"gestao-posts",name:"Gest\xe3o de Posts",icon:g.Z,href:"/colaborador/social-media/gestao"}]}),e.push({id:"gestao",label:"Gest\xe3o",items:[{id:"clientes",name:"Clientes",icon:_.Z,href:"/colaborador/clientes"}]}),e.push({id:"performance",label:"Performance",items:[{id:"desempenho",name:"Desempenho",icon:k.Z,href:"/colaborador/desempenho"},{id:"metas",name:"Metas",icon:S.Z,href:"/colaborador/metas"},{id:"gamificacao",name:"Gamifica\xe7\xe3o",icon:S.Z,href:"/colaborador/gamificacao"}]}),e.push({id:"ia",label:"IA",items:[{id:"ia",name:"Assistente IA",icon:M.Z,href:"/colaborador/ia"},{id:"val",name:"Val",icon:j.Z,href:"/colaborador/val"}]}),e.push({id:"solicitacoes",label:"Solicita\xe7\xf5es",items:[{id:"solicitacoes",name:"Solicita\xe7\xf5es",icon:D.Z,href:"/colaborador/solicitacoes"}]}),e.push({id:"sistema",label:"Sistema",items:[{id:"notificacoes",name:"Notifica\xe7\xf5es",icon:A.Z,href:"/colaborador/notificacoes"},{id:"config",name:"Configura\xe7\xf5es",icon:I.Z,href:"/colaborador/configuracoes"},{id:"suporte",name:"Suporte",icon:c.Z,href:"/colaborador/suporte"}]}),e},[i,p]);return(0,t.jsxs)("aside",{className:(0,R.cn)("fixed"===n?"fixed left-0 top-[73px] bottom-0":"relative h-full","w-64 overflow-y-auto z-40 flex flex-col","bg-[#001533] border-r border-white/10"),children:[t.jsx("div",{className:"hidden lg:flex items-center justify-center py-5 border-b border-white/10",children:t.jsx(u.default,{src:"/Logo/valle360-logo.png",alt:"Valle 360",width:140,height:40,className:"object-contain"})}),t.jsx("nav",{className:"flex-1 py-5 px-3 space-y-5",children:V.map(e=>(0,t.jsxs)("div",{children:[t.jsx("p",{className:"px-3 text-xs font-semibold text-white/40 uppercase tracking-wider mb-2",children:e.label}),t.jsx("div",{className:"space-y-1",children:e.items.map(e=>{let r=a===e.href||a.startsWith(e.href+"/"),o=e.icon;return(0,t.jsxs)(m.default,{href:e.href,className:(0,R.cn)("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",r?"bg-[#1672d6] text-white shadow-lg shadow-[#1672d6]/30":"text-white/75 hover:bg-white/10 hover:text-white"),children:[t.jsx(o,{className:(0,R.cn)("h-5 w-5",r?"text-white":"text-white/70")}),e.name]},e.href)})})]},e.id))}),t.jsx("div",{className:"p-3 border-t border-white/10",children:(0,t.jsxs)("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-red-300 hover:bg-red-500/10 transition-colors",children:[t.jsx(P.Z,{className:"h-5 w-5 text-red-300"}),"Sair"]})})]})}var U=r(56608),q=r(76066);r(2777);var $=r(66049),z=r(86608);function E({children:e}){let[a,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)("Colaborador");return t.jsx(U.i,{allowedRoles:["employee","colaborador","super_admin"],children:(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-[#0a0f1a]",children:[t.jsx(p,{onMenuClick:()=>r(!0)}),t.jsx("div",{className:"hidden lg:block",children:t.jsx(V,{})}),t.jsx(q.yo,{open:a,onOpenChange:r,children:t.jsx(q.ue,{side:"left",className:"p-0 w-[280px] bg-white dark:bg-[#0a0f1a]",children:t.jsx(V,{variant:"sheet"})})}),t.jsx("main",{className:"lg:ml-64 pt-[73px] min-h-screen transition-all duration-300",children:t.jsx("div",{className:"p-4 lg:p-6",children:e})}),t.jsx($.t,{userName:s}),t.jsx(z.B,{variant:"employee"})]})})}},14100:(e,a,r)=>{"use strict";r.d(a,{L:()=>h});var t=r(10326),o=r(17577),s=r(35047),i=r(9086),l=r(28870),n=r(6507),c=r(61288),d=r(43901);function h(e){let a=e?.context||"admin",[r,h]=(0,o.useState)([]),[m,u]=(0,o.useState)(!1),[x,p]=(0,o.useState)(!0),b=(0,s.useRouter)(),f=async e=>{try{await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notificationId:e})}),h(a=>a.map(a=>a.id===e?{...a,read:!0}:a))}catch(e){console.error("Erro ao marcar como lida:",e)}},g=async()=>{try{await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read"})}),h(e=>e.map(e=>({...e,read:!0})))}catch(e){console.error("Erro ao marcar todas como lidas:",e)}},y=r.filter(e=>!e.read).length,v=e=>{switch(e){case"task_completed":return"✅";case"task_assigned":return"\uD83D\uDCCB";case"mention":return"\uD83D\uDC64";case"system":return"⚙️";default:return"\uD83D\uDD14"}},j=e=>{let r=e.metadata||{},t=r?.board_id,o=r?.task_id;if(t&&o)return"colaborador"===a?`/colaborador/kanban?boardId=${encodeURIComponent(t)}&taskId=${encodeURIComponent(o)}`:"cliente"===a?"/cliente/producao":`/admin/meu-kanban?boardId=${encodeURIComponent(t)}&taskId=${encodeURIComponent(o)}`;if(e.link)return e.link;let s=r?.workflow_transition_id;return s&&"admin"===a?`/admin/fluxos?tab=transitions&q=${encodeURIComponent(s)}`:null},w=async e=>{try{e.read||await f(e.id)}finally{let a=j(e);a&&(u(!1),b.push(a))}};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>u(!m),className:"relative p-2 rounded-lg hover:bg-opacity-80 transition-all",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(n.Z,{className:"w-5 h-5",style:{color:"var(--text-primary)"}}),y>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center font-bold text-white",style:{backgroundColor:"var(--error-500)"},children:y>9?"9+":y})]}),t.jsx(i.M,{children:m&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-96 rounded-xl shadow-2xl border overflow-hidden z-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-light)"},children:[t.jsx("h3",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Notifica\xe7\xf5es"}),y>0&&t.jsx("button",{onClick:g,className:"text-xs px-3 py-1 rounded-lg transition-all",style:{backgroundColor:"var(--primary-100)",color:"var(--primary-700)"},children:"Marcar todas como lidas"})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:x?t.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"Carregando..."}):0===r.length?t.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"Nenhuma notifica\xe7\xe3o"}):r.map(e=>t.jsx("div",{className:`p-4 border-b transition-all hover:bg-opacity-50 cursor-pointer ${e.read?"":"bg-opacity-30"}`,style:{borderColor:"var(--border-light)",backgroundColor:e.read?"transparent":"var(--primary-50)"},onClick:()=>w(e),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl flex-shrink-0",children:v(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:`text-sm font-semibold ${e.read?"":"font-bold"}`,style:{color:"var(--text-primary)"},children:e.title}),!e.read&&t.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0 mt-1",style:{backgroundColor:"var(--primary-500)"}})]}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.message}),t.jsx("p",{className:"text-xs mt-2",style:{color:"var(--text-tertiary)"},children:(0,c.Q)(new Date(e.created_at),{addSuffix:!0,locale:d.F})})]})]})},e.id))}),r.length>0&&t.jsx("div",{className:"p-3 text-center border-t",style:{borderColor:"var(--border-light)"},children:t.jsx("button",{onClick:()=>{"colaborador"===a?b.push("/colaborador/notificacoes"):"cliente"===a?b.push("/cliente/dashboard"):b.push("/admin/fluxos"),u(!1)},className:"text-sm font-medium transition-colors",style:{color:"var(--primary-600)"},children:"Ver todas as notifica\xe7\xf5es"})})]})})]})}},11672:(e,a,r)=>{"use strict";r.d(a,{EP:()=>o,Ey:()=>i,RV:()=>s});var t=r(91119);function o(e){return(0,t.kT)({department:e.department??null,area_of_expertise:e.area_of_expertise??null,areas:Array.isArray(e.areas)?e.areas:null})}function s(e){return e&&t.iN[e]?.label||"Colaborador"}function i(e){if(!e)return"colaborador";switch(e){case"designer_grafico":return"designer";case"social_media":return"social_media";case"head_marketing":return"head_marketing";case"trafego_pago":return"trafego";case"video_maker":return"video_maker";case"webdesigner":return"web_designer";case"copywriting":return"copywriting";case"comercial":return"comercial";case"juridico":return"juridico";case"contratos":return"contratos";case"operacao":return"operacao";case"notificacoes":return"notificacoes";case"financeiro_pagar":case"financeiro_receber":return"financeiro";case"rh":return"rh";default:return String(e)}}},49539:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\colaborador\layout.tsx#default`)}};