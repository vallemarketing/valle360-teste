(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8240],{23874:function(e,a,r){Promise.resolve().then(r.bind(r,53641))},88997:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},33245:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},69076:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},83229:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},98728:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},58896:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},70525:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},95805:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},53641:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return x}});var t=r(57437),s=r(2265),i=r(5526),o=r(14438),l=r(26892),n=r(70525),c=r(58896),d=r(95805),u=r(88997),m=r(69076),p=r(83229),v=r(33245),y=r(98728);function x(){let[e,a]=(0,s.useState)([]),[r,x]=(0,s.useState)(!0),[b,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)({level_multiplier:100,max_level:50,daily_bonus:5,weekly_bonus:25,monthly_bonus:100});(0,s.useEffect)(()=>{_()},[]);let _=async()=>{try{let{data:e,error:r}=await i.supabase.from("gamification_rules").select("*").order("rule_type",{ascending:!0});if(r)throw r;e&&e.length>0?a(e):await j()}catch(e){console.error("Erro ao carregar regras:",e)}finally{x(!1)}},j=async()=>{try{let{data:e,error:r}=await i.supabase.from("gamification_rules").insert([{rule_name:"Tarefa Conclu\xedda",rule_type:"productivity",points_value:10,description:"Completar uma tarefa atribu\xedda",is_active:!0},{rule_name:"Tarefa Urgente Conclu\xedda",rule_type:"productivity",points_value:25,description:"Completar uma tarefa marcada como urgente",is_active:!0},{rule_name:"Entrega no Prazo",rule_type:"productivity",points_value:15,description:"Entregar tarefa dentro do prazo",is_active:!0},{rule_name:"Entrega Antecipada",rule_type:"productivity",points_value:30,description:"Entregar tarefa antes do prazo",is_active:!0},{rule_name:"Meta Di\xe1ria Alcan\xe7ada",rule_type:"productivity",points_value:20,description:"Completar todas as tarefas do dia",is_active:!0},{rule_name:"Aprova\xe7\xe3o Cliente",rule_type:"quality",points_value:50,description:"Ter trabalho aprovado pelo cliente na primeira revis\xe3o",is_active:!0},{rule_name:"Feedback Positivo",rule_type:"quality",points_value:40,description:"Receber feedback positivo de l\xedder ou cliente",is_active:!0},{rule_name:"Sem Retrabalho",rule_type:"quality",points_value:30,description:"Completar tarefa sem necessidade de corre\xe7\xf5es",is_active:!0},{rule_name:"Inova\xe7\xe3o Implementada",rule_type:"quality",points_value:100,description:"Sugerir e implementar uma melhoria no processo",is_active:!0},{rule_name:"Ajuda a Colega",rule_type:"collaboration",points_value:15,description:"Ajudar outro colaborador em uma tarefa",is_active:!0},{rule_name:"Participa\xe7\xe3o em Reuni\xe3o",rule_type:"collaboration",points_value:10,description:"Participar ativamente de reuni\xe3o de equipe",is_active:!0},{rule_name:"Mentoria",rule_type:"collaboration",points_value:50,description:"Mentorar um novo colaborador",is_active:!0},{rule_name:"Compartilhamento de Conhecimento",rule_type:"collaboration",points_value:25,description:"Criar documenta\xe7\xe3o ou tutorial para a equipe",is_active:!0},{rule_name:"Feedback Construtivo",rule_type:"collaboration",points_value:20,description:"Dar feedback construtivo a colegas",is_active:!0},{rule_name:"Check-in Di\xe1rio",rule_type:"wellbeing",points_value:5,description:"Fazer check-in di\xe1rio no sistema",is_active:!0},{rule_name:"Resposta a Val",rule_type:"wellbeing",points_value:5,description:"Responder quebra-gelo da Val",is_active:!0},{rule_name:"Sequ\xeancia de 7 Dias",rule_type:"wellbeing",points_value:50,description:"Manter sequ\xeancia de atividade por 7 dias",is_active:!0},{rule_name:"Sequ\xeancia de 30 Dias",rule_type:"wellbeing",points_value:200,description:"Manter sequ\xeancia de atividade por 30 dias",is_active:!0},{rule_name:"Perfil Completo",rule_type:"wellbeing",points_value:25,description:"Completar todas as informa\xe7\xf5es do perfil",is_active:!0}]).select();if(r)throw r;a(e)}catch(e){console.error("Erro ao criar regras padr\xe3o:",e)}},N=(r,t,s)=>{a(e.map(e=>e.id===r?{...e,[t]:s}:e))},k=async()=>{h(!0);try{let a=e.map(e=>i.supabase.from("gamification_rules").update({points_value:e.points_value,is_active:e.is_active}).eq("id",e.id));await Promise.all(a),o.Am.success("Regras atualizadas com sucesso!")}catch(e){console.error("Erro ao salvar regras:",e),o.Am.error((null==e?void 0:e.message)||"Erro ao salvar regras")}finally{h(!1)}},C=async()=>{if(confirm("Tem certeza que deseja restaurar as configura\xe7\xf5es padr\xe3o?"))try{await i.supabase.from("gamification_rules").delete().neq("id",""),await j(),o.Am.success("Regras restauradas para o padr\xe3o!")}catch(e){console.error("Erro ao resetar regras:",e),o.Am.error((null==e?void 0:e.message)||"Erro ao restaurar regras")}},w=e=>({productivity:{label:"Produtividade",icon:n.Z,color:"#3B82F6",description:"Pontos baseados em conclus\xe3o e efici\xeancia de tarefas"},quality:{label:"Qualidade",icon:c.Z,color:"#10B981",description:"Pontos baseados na excel\xeancia do trabalho entregue"},collaboration:{label:"Colabora\xe7\xe3o",icon:d.Z,color:"#8B5CF6",description:"Pontos baseados em trabalho em equipe e ajuda m\xfatua"},wellbeing:{label:"Bem-estar",icon:u.Z,color:"#EF4444",description:"Pontos baseados em engajamento e consist\xeancia"}})[e];if(r)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"var(--primary-500)"}}),(0,t.jsx)("p",{className:"mt-4",style:{color:"var(--text-secondary)"},children:"Carregando regras..."})]})});let I={productivity:e.filter(e=>"productivity"===e.rule_type),quality:e.filter(e=>"quality"===e.rule_type),collaboration:e.filter(e=>"collaboration"===e.rule_type),wellbeing:e.filter(e=>"wellbeing"===e.rule_type)};return(0,t.jsx)("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--bg-secondary)"},children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"⚙️ Regras de Pontua\xe7\xe3o"}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Configure como os colaboradores ganham pontos no sistema de gamifica\xe7\xe3o"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),"Restaurar Padr\xe3o"]}),(0,t.jsxs)("button",{onClick:k,disabled:b,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white transition-all hover:scale-105 disabled:opacity-50",style:{backgroundColor:"var(--primary-500)"},children:[(0,t.jsx)(p.Z,{className:"w-5 h-5"}),b?"Salvando...":"Salvar Altera\xe7\xf5es"]})]})]}),(0,t.jsxs)("div",{className:"mb-8 p-4 rounded-xl flex items-start gap-3",style:{backgroundColor:"var(--primary-50)",borderLeft:"4px solid var(--primary-500)"},children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--primary-600)"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium mb-1",style:{color:"var(--primary-900)"},children:"Como funciona a pontua\xe7\xe3o?"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--primary-700)"},children:"As pontua\xe7\xf5es s\xe3o calculadas automaticamente com base nas a\xe7\xf5es dos colaboradores. Voc\xea pode ajustar o valor de pontos de cada a\xe7\xe3o e ativar/desativar regras espec\xedficas."})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(I).map(e=>{let[a,r]=e,s=w(a),i=s.icon;return(0,t.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"".concat(s.color,"20")},children:(0,t.jsx)(i,{className:"w-6 h-6",style:{color:s.color}})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:s.label}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:s.description})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",style:{color:s.color},children:[r.filter(e=>e.is_active).length,"/",r.length]}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Regras Ativas"})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border transition-all ".concat(e.is_active?"":"opacity-50"),style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,t.jsx)("button",{onClick:()=>N(e.id,"is_active",!e.is_active),className:"relative w-12 h-6 rounded-full transition-all ".concat(e.is_active?"bg-green-500":"bg-gray-300"),children:(0,t.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ".concat(e.is_active?"transform translate-x-6":"")})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-sm mb-1",style:{color:"var(--text-primary)"},children:e.rule_name}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",value:e.points_value,onChange:a=>N(e.id,"points_value",parseInt(a.target.value)||0),disabled:!e.is_active,className:"w-20 px-3 py-2 rounded-lg border text-center font-bold focus:outline-none focus:ring-2 disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:s.color}}),(0,t.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-tertiary)"},children:"pts"})]})]},e.id))})]},a)})}),(0,t.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6 bg-white rounded-2xl shadow-sm p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--primary-100)"},children:(0,t.jsx)(y.Z,{className:"w-6 h-6",style:{color:"var(--primary-600)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Configura\xe7\xf5es Globais"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"Ajuste configura\xe7\xf5es gerais do sistema de n\xedveis"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Pontos por N\xedvel"}),(0,t.jsx)("input",{type:"number",value:f.level_multiplier,onChange:e=>g({...f,level_multiplier:parseInt(e.target.value)}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}}),(0,t.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Ex: 100 pontos = N\xedvel 1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"N\xedvel M\xe1ximo"}),(0,t.jsx)("input",{type:"number",value:f.max_level,onChange:e=>g({...f,max_level:parseInt(e.target.value)}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"B\xf4nus Di\xe1rio"}),(0,t.jsx)("input",{type:"number",value:f.daily_bonus,onChange:e=>g({...f,daily_bonus:parseInt(e.target.value)}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]})]})]})})}},5526:function(e,a,r){"use strict";r.r(a),r.d(a,{supabase:function(){return o}});var t=r(62724);let s="https://ikjgsqtykkhqimypacro.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";s&&i||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let o=(0,t.eI)(s||"https://setup-missing.supabase.co",i||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}},function(e){e.O(0,[2882,4609,2724,4438,2971,2117,1744],function(){return e(e.s=23874)}),_N_E=e.O()}]);