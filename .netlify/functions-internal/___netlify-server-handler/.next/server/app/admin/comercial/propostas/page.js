(()=>{var e={};e.id=41707,e.ids=[41707],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},7116:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(14436),s(9457),s(49991),s(35866);var t=s(23191),i=s(88716),r=s(37922),l=s.n(r),d=s(95231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(a,n);let c=["",{children:["admin",{children:["comercial",{children:["propostas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14436)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\comercial\\propostas\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\comercial\\propostas\\page.tsx"],m="/admin/comercial/propostas/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/comercial/propostas/page",pathname:"/admin/comercial/propostas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75732:(e,a,s)=>{Promise.resolve().then(s.bind(s,26505))},38787:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},7507:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},52952:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},48238:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},43810:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},26092:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},71821:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},25880:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])},92529:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},86645:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},29798:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},52351:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("kanban",[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]])},17129:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},77506:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5932:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},58038:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},85571:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},94909:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},99513:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},26505:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(10326),i=s(17577),r=s(28870),l=s(9086),d=s(59813),n=s(1572),c=s(79635),o=s(71821),m=s(32933),x=s(12714),h=s(77506),p=s(69436),u=s(43810),b=s(5932),g=s(30361),y=s(17129),j=s(85999),v=s(29752),k=s(91664),f=s(38443),w=s(41190),N=s(82015),Z=s(51223);function C(){let[e,a]=(0,i.useState)([]),[s,C]=(0,i.useState)([]),[M,_]=(0,i.useState)([]),[S,P]=(0,i.useState)({name:"",email:"",company:"",phone:"",notes:""}),[z,R]=(0,i.useState)(!1),[E,A]=(0,i.useState)(!1),[q,D]=(0,i.useState)(!1),[T,L]=(0,i.useState)(!1),[G,I]=(0,i.useState)(null),[H,O]=(0,i.useState)(!1),U=(0,d.createClientComponentClient)(),V=[{id:"1",name:"Gest\xe3o de Redes Sociais",base_price:2500,description:"Gerenciamento completo de todas as redes",deliverables:{}},{id:"2",name:"Tr\xe1fego Pago",base_price:3500,description:"Campanhas Meta Ads + Google Ads",deliverables:{}},{id:"3",name:"Cria\xe7\xe3o de Conte\xfado",base_price:2e3,description:"20 posts mensais + stories",deliverables:{}},{id:"4",name:"Design Gr\xe1fico",base_price:1800,description:"Artes personalizadas ilimitadas",deliverables:{}},{id:"5",name:"Produ\xe7\xe3o de V\xeddeo",base_price:4500,description:"4 v\xeddeos profissionais/m\xeas",deliverables:{}},{id:"6",name:"Email Marketing",base_price:1500,description:"Automa\xe7\xf5es + newsletters",deliverables:{}},{id:"7",name:"Consultoria Estrat\xe9gica",base_price:3e3,description:"Reuni\xf5es mensais + relat\xf3rios",deliverables:{}},{id:"8",name:"Gest\xe3o TikTok",base_price:2200,description:"Conte\xfado viral + trends",deliverables:{}}],$=async()=>{R(!0);try{let[e,s]=await Promise.all([U.from("services").select("*").eq("active",!0),U.from("proposals").select("*").order("created_at",{ascending:!1}).limit(10)]);e.data&&e.data.length>0?a(e.data):a(V),s.data&&C(s.data)}catch(e){a(V)}R(!1)},F=e=>{M.find(a=>a.id===e.id)?_(M.filter(a=>a.id!==e.id)):_([...M,e])},Y=()=>M.reduce((e,a)=>e+a.base_price,0),B=async()=>{if(!S.name||!S.email||0===M.length){j.Am.error("Preencha os dados do cliente e selecione servi\xe7os");return}A(!0);let e=Math.random().toString(36).substring(2)+Date.now().toString(36),a={client_name:S.name,client_email:S.email,client_company:S.company,client_phone:S.phone,total_value:Y(),status:"draft",items:M.map(e=>({id:e.id,name:e.name,price:e.base_price,description:e.description})),magic_link_token:e,notes:S.notes};try{let{data:e,error:s}=await U.from("proposals").insert(a).select().single();if(s)throw s;I(e||{...a,id:Date.now().toString(),created_at:new Date().toISOString()}),L(!0),$()}catch(e){I({...a,id:Date.now().toString(),created_at:new Date().toISOString()}),L(!0)}A(!1)},J=async()=>{if(G){O(!0);try{let e=await fetch("/api/proposals/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:G.id,proposal_id:G.id})}),a=await e.json().catch(()=>null);if(!e.ok){let e=a?.error||"Falha ao enviar proposta";j.Am.error(e);return}if(j.Am.success("âœ… Proposta marcada como enviada!"),a?.proposal_link)try{await navigator.clipboard.writeText(a.proposal_link),j.Am.success("Link copiado para a \xe1rea de transfer\xeancia")}catch{}L(!1),P({name:"",email:"",company:"",phone:"",notes:""}),_([]),I(null)}catch(e){j.Am.error("Erro ao enviar proposta. Tente novamente.")}O(!1)}},X=e=>{let a=`${window.location.origin}/proposta/${e}`;navigator.clipboard.writeText(a),j.Am.success("Link copiado!")},K=e=>{switch(e){case"accepted":return t.jsx(f.C,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30",children:"Aceita"});case"rejected":return t.jsx(f.C,{className:"bg-red-500/10 text-red-600 border-red-500/30",children:"Recusada"});case"sent":return t.jsx(f.C,{className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:"Enviada"});default:return t.jsx(f.C,{className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:"Rascunho"})}};return(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-[#0a0f1a] p-6",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[t.jsx(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-[#001533] dark:text-white mb-2",children:"Gerador de Propostas"}),t.jsx("p",{className:"text-[#001533]/60 dark:text-white/60",children:"Crie e envie propostas comerciais profissionais"})]}),(0,t.jsxs)(f.C,{className:"bg-[#1672d6]/10 text-[#1672d6] border-[#1672d6]/30",children:[t.jsx(n.Z,{className:"w-3 h-3 mr-1"}),"Template Valle 360"]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(v.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[t.jsx(v.Ol,{children:(0,t.jsxs)(v.ll,{className:"flex items-center gap-2 text-lg",children:[t.jsx(c.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Dados do Cliente"]})}),(0,t.jsxs)(v.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1.5 text-[#001533]/70 dark:text-white/70",children:"Nome do Contato *"}),t.jsx(w.II,{value:S.name,onChange:e=>P({...S,name:e.target.value}),placeholder:"Jo\xe3o Silva",className:"border-[#001533]/20"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1.5 text-[#001533]/70 dark:text-white/70",children:"Email *"}),t.jsx(w.II,{value:S.email,onChange:e=>P({...S,email:e.target.value}),placeholder:"email@empresa.com",type:"email",className:"border-[#001533]/20"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1.5 text-[#001533]/70 dark:text-white/70",children:"Empresa"}),t.jsx(w.II,{value:S.company,onChange:e=>P({...S,company:e.target.value}),placeholder:"Nome da Empresa",className:"border-[#001533]/20"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1.5 text-[#001533]/70 dark:text-white/70",children:"Telefone"}),t.jsx(w.II,{value:S.phone,onChange:e=>P({...S,phone:e.target.value}),placeholder:"(11) 99999-0000",className:"border-[#001533]/20"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1.5 text-[#001533]/70 dark:text-white/70",children:"Observa\xe7\xf5es"}),t.jsx(N.g,{value:S.notes,onChange:e=>P({...S,notes:e.target.value}),placeholder:"Informa\xe7\xf5es adicionais sobre o cliente ou negocia\xe7\xe3o...",className:"border-[#001533]/20 min-h-[80px]"})]})]})]}),(0,t.jsxs)(v.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[t.jsx(v.Ol,{children:(0,t.jsxs)(v.ll,{className:"flex items-center gap-2 text-lg",children:[t.jsx(o.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Selecione os Servi\xe7os"]})}),t.jsx(v.aY,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(e=>{let a=!!M.find(a=>a.id===e.id);return(0,t.jsxs)(r.E.button,{onClick:()=>F(e),whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,Z.cn)("p-4 rounded-xl border-2 transition-all text-left",a?"border-[#1672d6] bg-[#1672d6]/5":"border-[#001533]/10 dark:border-white/10 hover:border-[#1672d6]/50"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-[#001533] dark:text-white",children:e.name}),t.jsx("p",{className:"text-xs text-[#001533]/50 dark:text-white/50 mt-0.5",children:e.description})]}),a&&t.jsx("div",{className:"p-1 rounded-full bg-[#1672d6]",children:t.jsx(m.Z,{className:"w-3 h-3 text-white"})})]}),(0,t.jsxs)("p",{className:"text-lg font-bold text-[#1672d6] mt-2",children:["R$ ",e.base_price.toLocaleString("pt-BR"),t.jsx("span",{className:"text-xs font-normal text-[#001533]/50 dark:text-white/50",children:"/m\xeas"})]})]},e.id)})})})]}),t.jsx(v.Zb,{className:"border-2 border-[#1672d6]/30 bg-gradient-to-br from-[#1672d6]/5 to-transparent",children:t.jsx(v.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Valor Total Mensal"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-[#1672d6]",children:["R$ ",Y().toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsxs)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50 mt-1",children:[M.length," servi\xe7o(s) selecionado(s)"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(k.z,{variant:"outline",onClick:()=>D(!0),disabled:0===M.length,children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Pr\xe9-visualizar"]}),(0,t.jsxs)(k.z,{onClick:B,disabled:E||0===M.length,className:"bg-[#1672d6] hover:bg-[#1260b5]",children:[E?t.jsx(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Gerar Proposta"]})]})]})})})]}),t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)(v.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[t.jsx(v.Ol,{children:t.jsx(v.ll,{className:"text-lg",children:"\xdaltimas Propostas"})}),t.jsx(v.aY,{className:"space-y-3",children:s.length>0?s.map(e=>(0,t.jsxs)(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-4 rounded-xl border border-[#001533]/10 dark:border-white/10 bg-[#001533]/5 dark:bg-white/5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-[#001533] dark:text-white",children:e.client_name}),t.jsx("p",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:e.client_company||e.client_email})]}),K(e.status)]}),(0,t.jsxs)("p",{className:"text-lg font-bold text-[#1672d6] mb-3",children:["R$ ",e.total_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(k.z,{variant:"outline",size:"sm",onClick:()=>X(e.magic_link_token),className:"flex-1 text-xs",children:[t.jsx(u.Z,{className:"w-3 h-3 mr-1"}),"Copiar Link"]}),(0,t.jsxs)(k.z,{size:"sm",className:"flex-1 text-xs bg-[#1672d6] hover:bg-[#1260b5]",children:[t.jsx(b.Z,{className:"w-3 h-3 mr-1"}),"Reenviar"]})]})]},e.id)):t.jsx("p",{className:"text-sm text-[#001533]/40 dark:text-white/40 text-center py-8",children:"Nenhuma proposta gerada ainda."})})]})})]})]}),t.jsx(l.M,{children:T&&G&&t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>L(!1),children:(0,t.jsxs)(r.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl",children:[t.jsx("div",{className:"p-6 border-b border-[#001533]/10 dark:border-white/10",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:t.jsx(g.Z,{className:"w-6 h-6 text-emerald-500"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-[#001533] dark:text-white",children:"Proposta Gerada!"}),t.jsx("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Como deseja enviar para o cliente?"})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-[#001533]/5 dark:bg-white/5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Cliente"}),t.jsx("span",{className:"font-medium",children:S.name})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Email"}),t.jsx("span",{className:"font-medium",children:S.email})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Valor Total"}),(0,t.jsxs)("span",{className:"font-bold text-[#1672d6]",children:["R$ ",Y().toLocaleString("pt-BR",{minimumFractionDigits:2}),"/m\xeas"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)(k.z,{variant:"outline",onClick:()=>X(G.magic_link_token),className:"h-auto py-4 flex-col",children:[t.jsx(y.Z,{className:"w-5 h-5 mb-2"}),t.jsx("span",{className:"text-sm font-medium",children:"Copiar Link"}),t.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Enviar manualmente"})]}),(0,t.jsxs)(k.z,{onClick:J,disabled:H,className:"h-auto py-4 flex-col bg-[#1672d6] hover:bg-[#1260b5]",children:[H?t.jsx(h.Z,{className:"w-5 h-5 mb-2 animate-spin"}):t.jsx(b.Z,{className:"w-5 h-5 mb-2"}),t.jsx("span",{className:"text-sm font-medium",children:"Enviar por Email"}),t.jsx("span",{className:"text-[10px] text-white/70",children:"Proposta profissional"})]})]}),t.jsx("p",{className:"text-xs text-center text-[#001533]/40 dark:text-white/40",children:"A proposta ser\xe1 enviada com o template oficial Valle 360, incluindo logo e dados da empresa."})]})]})})})]})}},29752:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>d,SZ:()=>c,Zb:()=>l,aY:()=>o,ll:()=>n});var t=s(10326),i=s(17577),r=s(51223);let l=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",e),...a}));l.displayName="Card";let d=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));d.displayName="CardHeader";let n=i.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,r.cn)("font-semibold leading-none tracking-tight text-lg",e),...a}));n.displayName="CardTitle";let c=i.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-foreground/70",e),...a}));c.displayName="CardDescription";let o=i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",i.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},82015:(e,a,s)=>{"use strict";s.d(a,{g:()=>l});var t=s(10326),i=s(17577),r=s(51223);let l=i.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));l.displayName="Textarea"},14436:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\admin\comercial\propostas\page.tsx#default`)}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,86148,61288,36499,59813,18832,14574,92237],()=>s(7116));module.exports=t})();