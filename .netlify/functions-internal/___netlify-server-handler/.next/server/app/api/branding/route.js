"use strict";(()=>{var e={};e.id=34724,e.ids=[34724],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},20782:(e,r,n)=>{n.r(r),n.d(r,{originalPathname:()=>y,patchFetch:()=>I,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>v,staticGenerationAsyncStorage:()=>b});var a={};n.r(a),n.d(a,{GET:()=>p,PATCH:()=>l});var s=n(49303),o=n(88716),t=n(60670),i=n(87070),c=n(54128);let d="https://ikjgsqtykkhqimypacro.supabase.co",u=process.env.SUPABASE_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";async function p(){let e=(0,c.eI)(d,u);try{let{data:r,error:n}=await e.from("company_branding").select("*").single();if(n&&"PGRST116"!==n.code)throw n;if(!r){let{data:r,error:n}=await e.from("company_branding").insert({company_name:"Valle 360",primary_color:"#4370d1",secondary_color:"#6366f1"}).select().single();if(n)throw n;return i.NextResponse.json({success:!0,branding:r})}return i.NextResponse.json({success:!0,branding:r})}catch(e){return console.error("Erro ao buscar branding:",e),i.NextResponse.json({success:!1,error:e.message},{status:500})}}async function l(e){let r=(0,c.eI)(d,u);try{let{companyName:n,logoUrl:a,iconUrl:s,faviconUrl:o,primaryColor:t,secondaryColor:c}=await e.json(),{data:d}=await r.from("company_branding").select("id").single();if(!d)return i.NextResponse.json({success:!1,error:"Configura\xe7\xe3o de branding n\xe3o encontrada"},{status:404});let u={};void 0!==n&&(u.company_name=n),void 0!==a&&(u.logo_url=a),void 0!==s&&(u.icon_url=s),void 0!==o&&(u.favicon_url=o),void 0!==t&&(u.primary_color=t),void 0!==c&&(u.secondary_color=c);let{data:p,error:l}=await r.from("company_branding").update(u).eq("id",d.id).select().single();if(l)throw l;return i.NextResponse.json({success:!0,branding:p,message:"Branding atualizado com sucesso"})}catch(e){return console.error("Erro ao atualizar branding:",e),i.NextResponse.json({success:!1,error:e.message},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/branding/route",pathname:"/api/branding",filename:"route",bundlePath:"app/api/branding/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\branding\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:b,serverHooks:v}=g,y="/api/branding/route";function I(){return(0,t.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:b})}}};var r=require("../../../webpack-runtime.js");r.C(e);var n=e=>r(r.s=e),a=r.X(0,[89276,55972,54128],()=>n(20782));module.exports=a})();