(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{42090:function(e,a,t){Promise.resolve().then(t.bind(t,58626))},3071:function(e,a,t){"use strict";t.d(a,{Dz:function(){return r},Oq:function(){return m},cv:function(){return c},dO:function(){return s},iz:function(){return p},jn:function(){return l},oc:function(){return u}});var o=t(69398),r=function(e){var a=e.top,t=e.right,o=e.bottom,r=e.left;return{top:a,right:t,bottom:o,left:r,width:t-r,height:o-a,x:r,y:a,center:{x:(t+r)/2,y:(o+a)/2}}},l=function(e,a){return{top:e.top-a.top,left:e.left-a.left,bottom:e.bottom+a.bottom,right:e.right+a.right}},i=function(e,a){return{top:e.top+a.top,left:e.left+a.left,bottom:e.bottom-a.bottom,right:e.right-a.right}},n={top:0,right:0,bottom:0,left:0},s=function(e){var a=e.borderBox,t=e.margin,o=void 0===t?n:t,s=e.border,d=void 0===s?n:s,c=e.padding,u=void 0===c?n:c,m=r(l(a,o)),p=r(i(a,d)),x=r(i(p,u));return{marginBox:m,borderBox:r(a),paddingBox:p,contentBox:x,margin:o,border:d,padding:u}},d=function(e){var a=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var t=Number(a);return isNaN(t)&&(0,o.Z)(!1),t},c=function(e,a){var t=e.borderBox,o=e.border,r=e.margin,l=e.padding;return s({borderBox:{top:t.top+a.y,left:t.left+a.x,bottom:t.bottom+a.y,right:t.right+a.x},border:o,margin:r,padding:l})},u=function(e,a){return void 0===a&&(a={x:window.pageXOffset,y:window.pageYOffset}),c(e,a)},m=function(e,a){return s({borderBox:e,margin:{top:d(a.marginTop),right:d(a.marginRight),bottom:d(a.marginBottom),left:d(a.marginLeft)},padding:{top:d(a.paddingTop),right:d(a.paddingRight),bottom:d(a.paddingBottom),left:d(a.paddingLeft)},border:{top:d(a.borderTopWidth),right:d(a.borderRightWidth),bottom:d(a.borderBottomWidth),left:d(a.borderLeftWidth)}})},p=function(e){return m(e.getBoundingClientRect(),window.getComputedStyle(e))}},49322:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48736:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},55736:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},7586:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},76980:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]])},88893:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},83229:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},70933:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},18930:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},76865:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},17689:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});let o=(0,t(79205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},1410:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var o=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,a){if(e.length!==a.length)return!1;for(var t,r,l=0;l<e.length;l++)if(!((t=e[l])===(r=a[l])||o(t)&&o(r)))return!1;return!0}function l(e,a){void 0===a&&(a=r);var t=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(t&&t.lastThis===this&&a(o,t.lastArgs))return t.lastResult;var l=e.apply(this,o);return t={lastResult:l,lastArgs:o,lastThis:this},l}return o.clear=function(){t=null},o}},99376:function(e,a,t){"use strict";var o=t(35475);t.o(o,"useParams")&&t.d(a,{useParams:function(){return o.useParams}}),t.o(o,"usePathname")&&t.d(a,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(a,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(a,{useSearchParams:function(){return o.useSearchParams}})},64119:function(e,a){"use strict";a.Z=function(e){var a=[],t=null,o=function(){for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];a=r,t||(t=requestAnimationFrame(function(){t=null,e.apply(void 0,a)}))};return o.cancel=function(){t&&(cancelAnimationFrame(t),t=null)},o}},60343:function(e,a,t){"use strict";t.d(a,{I4:function(){return i},Ye:function(){return l}});var o=t(2265);function r(e,a){var t=(0,o.useState)(function(){return{inputs:a,result:e()}})[0],r=(0,o.useRef)(!0),l=(0,o.useRef)(t),i=r.current||a&&l.current.inputs&&function(e,a){if(e.length!==a.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==a[t])return!1;return!0}(a,l.current.inputs)?l.current:{inputs:a,result:e()};return(0,o.useEffect)(function(){r.current=!1,l.current=i},[i]),i.result}var l=r,i=function(e,a){return r(function(){return e},a)}},58626:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return z}});var o=t(57437),r=t(2265),l=t(82762),i=t(99376),n=t(99397),s=t(73247),d=t(55736),c=t(7586),u=t(91723),m=t(93448),p=t(26892),x=t(32489),g=t(83229);let b={Designer:[{id:"briefing",title:"Briefing",color:"#7B68EE"},{id:"em_criacao",title:"Em Cria\xe7\xe3o",color:"#F59E0B"},{id:"revisao",title:"Revis\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"enviado",title:"Enviado",color:"#10B981"}],"Design Gr\xe1fico":[{id:"briefing",title:"Briefing",color:"#7B68EE"},{id:"em_criacao",title:"Em Cria\xe7\xe3o",color:"#F59E0B"},{id:"revisao",title:"Revis\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"enviado",title:"Enviado",color:"#10B981"}],"Designer Gr\xe1fico":[{id:"briefing",title:"Briefing",color:"#7B68EE"},{id:"em_criacao",title:"Em Cria\xe7\xe3o",color:"#F59E0B"},{id:"revisao",title:"Revis\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"enviado",title:"Enviado",color:"#10B981"}],"Social Media":[{id:"planejamento",title:"Planejamento",color:"#6B7280"},{id:"criacao",title:"Cria\xe7\xe3o",color:"#F59E0B"},{id:"aprovacao_interna",title:"Aprova\xe7\xe3o Interna",color:"#3B82F6"},{id:"agendado",title:"Agendado",color:"#8B5CF6"},{id:"publicado",title:"Publicado",color:"#10B981"}],Videomaker:[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"pre_producao",title:"Pr\xe9-Produ\xe7\xe3o",color:"#F59E0B"},{id:"gravacao",title:"Grava\xe7\xe3o",color:"#FF0000"},{id:"edicao",title:"Edi\xe7\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"entregue",title:"Entregue",color:"#10B981"}],"Video Maker":[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"pre_producao",title:"Pr\xe9-Produ\xe7\xe3o",color:"#F59E0B"},{id:"gravacao",title:"Grava\xe7\xe3o",color:"#FF0000"},{id:"edicao",title:"Edi\xe7\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"entregue",title:"Entregue",color:"#10B981"}],"Editor de V\xeddeo":[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"pre_producao",title:"Pr\xe9-Produ\xe7\xe3o",color:"#F59E0B"},{id:"gravacao",title:"Grava\xe7\xe3o",color:"#FF0000"},{id:"edicao",title:"Edi\xe7\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"entregue",title:"Entregue",color:"#10B981"}],Vídeo:[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"pre_producao",title:"Pr\xe9-Produ\xe7\xe3o",color:"#F59E0B"},{id:"gravacao",title:"Grava\xe7\xe3o",color:"#FF0000"},{id:"edicao",title:"Edi\xe7\xe3o",color:"#3B82F6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#8B5CF6"},{id:"entregue",title:"Entregue",color:"#10B981"}],"Web Designer":[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"desenvolvimento",title:"Desenvolvimento",color:"#F59E0B"},{id:"revisao",title:"Revis\xe3o",color:"#3B82F6"},{id:"homologacao",title:"Homologa\xe7\xe3o",color:"#8B5CF6"},{id:"deploy",title:"Deploy",color:"#10B981"},{id:"suporte",title:"Suporte",color:"#6366F1"}],Webdesigner:[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"desenvolvimento",title:"Desenvolvimento",color:"#F59E0B"},{id:"revisao",title:"Revis\xe3o",color:"#3B82F6"},{id:"homologacao",title:"Homologa\xe7\xe3o",color:"#8B5CF6"},{id:"deploy",title:"Deploy",color:"#10B981"},{id:"suporte",title:"Suporte",color:"#6366F1"}],Comercial:[{id:"lead",title:"Lead",color:"#6B7280"},{id:"qualificado",title:"Qualificado",color:"#3B82F6"},{id:"proposta",title:"Proposta",color:"#F59E0B"},{id:"negociacao",title:"Negocia\xe7\xe3o",color:"#8B5CF6"},{id:"ganho",title:"Ganho",color:"#10B981"}],"Tr\xe1fego Pago":[{id:"planejamento",title:"Planejamento",color:"#6B7280"},{id:"criacao",title:"Cria\xe7\xe3o",color:"#F59E0B"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#3B82F6"},{id:"ativo",title:"Ativo",color:"#10B981"},{id:"otimizacao",title:"Otimiza\xe7\xe3o",color:"#8B5CF6"},{id:"pausado",title:"Pausado",color:"#EF4444"}],"Trafego Pago":[{id:"planejamento",title:"Planejamento",color:"#6B7280"},{id:"criacao",title:"Cria\xe7\xe3o",color:"#F59E0B"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#3B82F6"},{id:"ativo",title:"Ativo",color:"#10B981"},{id:"otimizacao",title:"Otimiza\xe7\xe3o",color:"#8B5CF6"},{id:"pausado",title:"Pausado",color:"#EF4444"}],RH:[{id:"solicitacao",title:"Solicita\xe7\xe3o",color:"#6B7280"},{id:"analise",title:"An\xe1lise",color:"#F59E0B"},{id:"aprovacao_gestor",title:"Aprova\xe7\xe3o Gestor",color:"#3B82F6"},{id:"aprovacao_rh",title:"Aprova\xe7\xe3o RH",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],"Recursos Humanos":[{id:"solicitacao",title:"Solicita\xe7\xe3o",color:"#6B7280"},{id:"analise",title:"An\xe1lise",color:"#F59E0B"},{id:"aprovacao_gestor",title:"Aprova\xe7\xe3o Gestor",color:"#3B82F6"},{id:"aprovacao_rh",title:"Aprova\xe7\xe3o RH",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],HR:[{id:"solicitacao",title:"Solicita\xe7\xe3o",color:"#6B7280"},{id:"analise",title:"An\xe1lise",color:"#F59E0B"},{id:"aprovacao_gestor",title:"Aprova\xe7\xe3o Gestor",color:"#3B82F6"},{id:"aprovacao_rh",title:"Aprova\xe7\xe3o RH",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],Financeiro:[{id:"pendente",title:"Pendente",color:"#6B7280"},{id:"em_analise",title:"Em An\xe1lise",color:"#F59E0B"},{id:"aprovado",title:"Aprovado",color:"#3B82F6"},{id:"processado",title:"Processado",color:"#8B5CF6"},{id:"pago",title:"Pago",color:"#10B981"}],Finanças:[{id:"pendente",title:"Pendente",color:"#6B7280"},{id:"em_analise",title:"Em An\xe1lise",color:"#F59E0B"},{id:"aprovado",title:"Aprovado",color:"#3B82F6"},{id:"processado",title:"Processado",color:"#8B5CF6"},{id:"pago",title:"Pago",color:"#10B981"}],Finance:[{id:"pendente",title:"Pendente",color:"#6B7280"},{id:"em_analise",title:"Em An\xe1lise",color:"#F59E0B"},{id:"aprovado",title:"Aprovado",color:"#3B82F6"},{id:"processado",title:"Processado",color:"#8B5CF6"},{id:"pago",title:"Pago",color:"#10B981"}],"Head de Marketing":[{id:"backlog",title:"Backlog",color:"#6B7280"},{id:"planejamento",title:"Planejamento",color:"#F59E0B"},{id:"em_execucao",title:"Em Execu\xe7\xe3o",color:"#3B82F6"},{id:"revisao",title:"Revis\xe3o",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],"Head Marketing":[{id:"backlog",title:"Backlog",color:"#6B7280"},{id:"planejamento",title:"Planejamento",color:"#F59E0B"},{id:"em_execucao",title:"Em Execu\xe7\xe3o",color:"#3B82F6"},{id:"revisao",title:"Revis\xe3o",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],"Head de Mkt":[{id:"backlog",title:"Backlog",color:"#6B7280"},{id:"planejamento",title:"Planejamento",color:"#F59E0B"},{id:"em_execucao",title:"Em Execu\xe7\xe3o",color:"#3B82F6"},{id:"revisao",title:"Revis\xe3o",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],"Head Mkt":[{id:"backlog",title:"Backlog",color:"#6B7280"},{id:"planejamento",title:"Planejamento",color:"#F59E0B"},{id:"em_execucao",title:"Em Execu\xe7\xe3o",color:"#3B82F6"},{id:"revisao",title:"Revis\xe3o",color:"#8B5CF6"},{id:"concluido",title:"Conclu\xeddo",color:"#10B981"}],Copywriter:[{id:"briefing",title:"Briefing",color:"#6B7280"},{id:"pesquisa",title:"Pesquisa",color:"#F59E0B"},{id:"escrita",title:"Escrita",color:"#3B82F6"},{id:"revisao",title:"Revis\xe3o",color:"#8B5CF6"},{id:"aprovacao",title:"Aprova\xe7\xe3o",color:"#10B981"},{id:"publicado",title:"Publicado",color:"#6366F1"}]};function h(e){return b[e]||[{id:"backlog",title:"Backlog",color:"#6B7280"},{id:"todo",title:"A Fazer",color:"#F59E0B"},{id:"in_progress",title:"Em Progresso",color:"#3B82F6"},{id:"review",title:"Revis\xe3o",color:"#8B5CF6"},{id:"done",title:"Conclu\xeddo",color:"#10B981"}]}let y=Object.keys(b),v={Designer:{briefing:[{name:"tipo_design",label:"Tipo de Design",type:"select",options:["Banner","Post","Logo","Arte","Identidade Visual","Material Gr\xe1fico"],required:!0},{name:"dimensoes",label:"Dimens\xf5es",type:"text",placeholder:"Ex: 1920x1080px"},{name:"paleta_cores",label:"Paleta de Cores",type:"text",placeholder:"Ex: #FF5733, #C70039"},{name:"referencias",label:"Refer\xeancias",type:"url",placeholder:"Links de refer\xeancia"}],em_criacao:[{name:"arquivos_trabalho",label:"Arquivos de Trabalho",type:"url",placeholder:"Link do Figma/Adobe/etc"},{name:"versao",label:"Vers\xe3o",type:"number",placeholder:"Ex: 1, 2, 3"}],revisao:[{name:"feedback_interno",label:"Feedback Interno",type:"textarea",placeholder:"Feedback da equipe"},{name:"alteracoes",label:"Altera\xe7\xf5es Necess\xe1rias",type:"textarea",placeholder:"Liste as altera\xe7\xf5es"}],aprovacao:[{name:"feedback_cliente",label:"Feedback do Cliente",type:"textarea",placeholder:"Retorno do cliente"},{name:"rodada_aprovacao",label:"Rodada de Aprova\xe7\xe3o",type:"number",placeholder:"Ex: 1, 2, 3"}],enviado:[{name:"link_final",label:"Link Final",type:"url",placeholder:"Link do arquivo final"},{name:"formatos_entregues",label:"Formatos Entregues",type:"text",placeholder:"Ex: PNG, JPG, PDF, AI"}]},"Social Media":{planejamento:[{name:"rede_social",label:"Rede Social",type:"select",options:["Instagram","Facebook","LinkedIn","TikTok","Twitter","Pinterest"],required:!0},{name:"tipo_conteudo",label:"Tipo de Conte\xfado",type:"select",options:["Post","Story","Reels","Carrossel","Video"],required:!0},{name:"tema",label:"Tema",type:"text",placeholder:"Tema do post"}],criacao:[{name:"copy",label:"Copy",type:"textarea",placeholder:"Texto do post",required:!0},{name:"hashtags",label:"Hashtags",type:"text",placeholder:"#exemplo #hashtag"},{name:"call_to_action",label:"Call to Action",type:"text",placeholder:"Ex: Clique no link da bio"}],aprovacao_interna:[{name:"aprovador",label:"Aprovador",type:"text",placeholder:"Quem aprovou"},{name:"ajustes_sugeridos",label:"Ajustes Sugeridos",type:"textarea",placeholder:"Sugest\xf5es de melhorias"}],agendado:[{name:"data_publicacao",label:"Data de Publica\xe7\xe3o",type:"date",required:!0},{name:"horario",label:"Hor\xe1rio",type:"text",placeholder:"Ex: 18:00"}],publicado:[{name:"link_post",label:"Link do Post",type:"url",placeholder:"URL do post publicado"},{name:"metricas",label:"M\xe9tricas Iniciais",type:"text",placeholder:"Curtidas, coment\xe1rios, etc"}]},Videomaker:{briefing:[{name:"tipo_video",label:"Tipo de V\xeddeo",type:"select",options:["Institucional","Depoimento","Motion Graphics","Anima\xe7\xe3o","Tutorial","Reel"],required:!0},{name:"duracao_estimada",label:"Dura\xe7\xe3o Estimada",type:"text",placeholder:"Ex: 30s, 1min"},{name:"objetivo",label:"Objetivo",type:"textarea",placeholder:"Objetivo do v\xeddeo"}],pre_producao:[{name:"roteiro",label:"Roteiro",type:"textarea",placeholder:"Roteiro do v\xeddeo"},{name:"storyboard",label:"Storyboard",type:"url",placeholder:"Link do storyboard"},{name:"locacao",label:"Loca\xe7\xe3o",type:"text",placeholder:"Local da grava\xe7\xe3o"}],gravacao:[{name:"data_gravacao",label:"Data da Grava\xe7\xe3o",type:"date"},{name:"equipamento",label:"Equipamento",type:"text",placeholder:"C\xe2mera, lentes, etc"},{name:"takes",label:"Takes",type:"number",placeholder:"N\xfamero de takes"}],edicao:[{name:"software",label:"Software",type:"select",options:["Premiere","Final Cut","DaVinci","After Effects"]},{name:"trilha_sonora",label:"Trilha Sonora",type:"text",placeholder:"Nome/link da m\xfasica"},{name:"efeitos",label:"Efeitos",type:"textarea",placeholder:"Efeitos aplicados"}],aprovacao:[{name:"versao_final",label:"Vers\xe3o Final",type:"url",placeholder:"Link da vers\xe3o final"},{name:"feedback",label:"Feedback",type:"textarea",placeholder:"Retorno do cliente"}],entregue:[{name:"formato_entrega",label:"Formato de Entrega",type:"text",placeholder:"Ex: MP4 1080p"},{name:"plataformas",label:"Plataformas",type:"text",placeholder:"Onde ser\xe1 publicado"}]},"Web Designer":{briefing:[{name:"tipo_projeto",label:"Tipo de Projeto",type:"select",options:["Landing Page","Site Institucional","E-commerce","Blog","Portal","Sistema Web"],required:!0},{name:"tecnologias",label:"Tecnologias",type:"text",placeholder:"Ex: React, WordPress, etc"},{name:"responsivo",label:"Responsivo",type:"select",options:["Sim","N\xe3o"],required:!0}],desenvolvimento:[{name:"framework",label:"Framework",type:"select",options:["Next.js","React","Vue","WordPress","Custom"]},{name:"repositorio",label:"Reposit\xf3rio",type:"url",placeholder:"Link do GitHub/GitLab"},{name:"ambiente_dev",label:"Ambiente de Dev",type:"url",placeholder:"URL de desenvolvimento"}],revisao:[{name:"bugs",label:"Bugs Encontrados",type:"textarea",placeholder:"Liste os bugs"},{name:"melhorias",label:"Melhorias",type:"textarea",placeholder:"Sugest\xf5es de melhorias"}],homologacao:[{name:"ambiente_homolog",label:"Ambiente de Homologa\xe7\xe3o",type:"url",placeholder:"URL de homologa\xe7\xe3o"},{name:"testes",label:"Testes Realizados",type:"textarea",placeholder:"Descreva os testes"}],deploy:[{name:"url_producao",label:"URL de Produ\xe7\xe3o",type:"url",placeholder:"URL final do site"},{name:"data_deploy",label:"Data do Deploy",type:"date"}],suporte:[{name:"tipo_ticket",label:"Tipo de Ticket",type:"select",options:["Bug","Melhoria","Atualiza\xe7\xe3o","D\xfavida"]},{name:"descricao_ticket",label:"Descri\xe7\xe3o",type:"textarea",placeholder:"Descreva o problema/solicita\xe7\xe3o"}]},Comercial:{lead:[{name:"origem",label:"Origem do Lead",type:"select",options:["Website","Indica\xe7\xe3o","LinkedIn","Telefone","Email","Evento"]},{name:"segmento",label:"Segmento",type:"text",placeholder:"Segmento da empresa"},{name:"tamanho_empresa",label:"Tamanho",type:"select",options:["Pequena","M\xe9dia","Grande"]}],qualificado:[{name:"budget",label:"Budget Estimado",type:"number",placeholder:"Valor em R$"},{name:"timeline",label:"Timeline",type:"text",placeholder:"Prazo desejado"},{name:"decisor",label:"Decisor",type:"text",placeholder:"Nome do decisor"}],proposta:[{name:"valor_proposta",label:"Valor da Proposta",type:"number",placeholder:"R$",required:!0},{name:"link_proposta",label:"Link da Proposta",type:"url",placeholder:"Link do documento"},{name:"validade",label:"Validade",type:"date"}],negociacao:[{name:"objecoes",label:"Obje\xe7\xf5es",type:"textarea",placeholder:"Obje\xe7\xf5es do cliente"},{name:"contra_proposta",label:"Contra-proposta",type:"number",placeholder:"Valor proposto pelo cliente"},{name:"proximo_passo",label:"Pr\xf3ximo Passo",type:"text",placeholder:"O que fazer a seguir"}],ganho:[{name:"valor_fechado",label:"Valor Fechado",type:"number",placeholder:"R$",required:!0},{name:"data_fechamento",label:"Data do Fechamento",type:"date",required:!0},{name:"forma_pagamento",label:"Forma de Pagamento",type:"select",options:["\xc0 vista","Parcelado","Recorrente"]}]},"Tr\xe1fego Pago":{planejamento:[{name:"plataforma",label:"Plataforma",type:"select",options:["Google Ads","Facebook Ads","Instagram Ads","LinkedIn Ads","TikTok Ads"],required:!0},{name:"objetivo_campanha",label:"Objetivo",type:"select",options:["Tr\xe1fego","Convers\xf5es","Reconhecimento","Engajamento"],required:!0},{name:"budget_total",label:"Budget Total",type:"number",placeholder:"R$",required:!0}],criacao:[{name:"copy_anuncio",label:"Copy do An\xfancio",type:"textarea",placeholder:"Texto do an\xfancio"},{name:"criativos",label:"Criativos",type:"url",placeholder:"Links das imagens/v\xeddeos"},{name:"segmentacao",label:"Segmenta\xe7\xe3o",type:"textarea",placeholder:"P\xfablico-alvo"}],aprovacao:[{name:"aprovado_por",label:"Aprovado Por",type:"text",placeholder:"Nome do aprovador"},{name:"ajustes",label:"Ajustes",type:"textarea",placeholder:"Ajustes solicitados"}],ativo:[{name:"data_inicio",label:"Data de In\xedcio",type:"date",required:!0},{name:"link_campanha",label:"Link da Campanha",type:"url",placeholder:"Link no gerenciador"}],otimizacao:[{name:"ctr",label:"CTR",type:"number",placeholder:"%"},{name:"cpc",label:"CPC",type:"number",placeholder:"R$"},{name:"acoes_otimizacao",label:"A\xe7\xf5es de Otimiza\xe7\xe3o",type:"textarea",placeholder:"O que foi otimizado"}],pausado:[{name:"motivo_pausa",label:"Motivo da Pausa",type:"textarea",placeholder:"Por que foi pausado"},{name:"resultados_finais",label:"Resultados Finais",type:"textarea",placeholder:"M\xe9tricas finais"}]},RH:{solicitacao:[{name:"tipo_solicitacao",label:"Tipo de Solicita\xe7\xe3o",type:"select",options:["F\xe9rias","Home Office","Atestado","Reembolso","Treinamento"],required:!0},{name:"solicitante",label:"Solicitante",type:"text",placeholder:"Nome do colaborador"},{name:"periodo",label:"Per\xedodo",type:"text",placeholder:"Ex: 01/12 a 10/12"}],analise:[{name:"analista",label:"Analista",type:"text",placeholder:"Nome do analista"},{name:"parecer_inicial",label:"Parecer Inicial",type:"textarea",placeholder:"An\xe1lise da solicita\xe7\xe3o"}],aprovacao_gestor:[{name:"gestor",label:"Gestor",type:"text",placeholder:"Nome do gestor"},{name:"aprovado",label:"Status",type:"select",options:["Aprovado","Rejeitado","Pendente"]},{name:"observacoes_gestor",label:"Observa\xe7\xf5es",type:"textarea",placeholder:"Observa\xe7\xf5es do gestor"}],aprovacao_rh:[{name:"responsavel_rh",label:"Respons\xe1vel RH",type:"text",placeholder:"Nome do respons\xe1vel"},{name:"status_final",label:"Status Final",type:"select",options:["Aprovado","Rejeitado"]},{name:"justificativa",label:"Justificativa",type:"textarea",placeholder:"Justificativa da decis\xe3o"}],concluido:[{name:"data_conclusao",label:"Data de Conclus\xe3o",type:"date"},{name:"documento_gerado",label:"Documento Gerado",type:"url",placeholder:"Link do documento"}]},Financeiro:{pendente:[{name:"tipo_transacao",label:"Tipo de Transa\xe7\xe3o",type:"select",options:["Pagamento","Recebimento","Reembolso","Transfer\xeancia"],required:!0},{name:"valor",label:"Valor",type:"number",placeholder:"R$",required:!0},{name:"categoria",label:"Categoria",type:"text",placeholder:"Ex: Fornecedores, Sal\xe1rios"}],em_analise:[{name:"analista_financeiro",label:"Analista",type:"text",placeholder:"Nome do analista"},{name:"documentacao",label:"Documenta\xe7\xe3o",type:"url",placeholder:"Links dos documentos"}],aprovado:[{name:"aprovador",label:"Aprovador",type:"text",placeholder:"Nome do aprovador"},{name:"data_aprovacao",label:"Data de Aprova\xe7\xe3o",type:"date"}],processado:[{name:"forma_pagamento",label:"Forma de Pagamento",type:"select",options:["Transfer\xeancia","Boleto","Cart\xe3o","PIX"]},{name:"comprovante",label:"Comprovante",type:"url",placeholder:"Link do comprovante"}],pago:[{name:"data_pagamento",label:"Data do Pagamento",type:"date",required:!0},{name:"numero_transacao",label:"N\xfamero da Transa\xe7\xe3o",type:"text",placeholder:"ID da transa\xe7\xe3o"}]},"Head de Marketing":{backlog:[{name:"tipo_iniciativa",label:"Tipo de Iniciativa",type:"select",options:["Campanha","Estrat\xe9gia","An\xe1lise","Projeto"],required:!0},{name:"prioridade",label:"Prioridade",type:"select",options:["Alta","M\xe9dia","Baixa"],required:!0}],planejamento:[{name:"estrategia",label:"Estrat\xe9gia",type:"textarea",placeholder:"Descreva a estrat\xe9gia"},{name:"budget_estimado",label:"Budget Estimado",type:"number",placeholder:"R$"},{name:"kpis",label:"KPIs",type:"text",placeholder:"Ex: CTR, Convers\xf5es, ROI"}],em_execucao:[{name:"equipe_responsavel",label:"Equipe Respons\xe1vel",type:"text",placeholder:"\xc1rea ou time"},{name:"progresso",label:"Progresso",type:"number",placeholder:"%"}],revisao:[{name:"metricas_atuais",label:"M\xe9tricas Atuais",type:"textarea",placeholder:"Resultados obtidos"},{name:"analise",label:"An\xe1lise",type:"textarea",placeholder:"An\xe1lise dos resultados"}],concluido:[{name:"resultados_finais",label:"Resultados Finais",type:"textarea",placeholder:"M\xe9tricas finais"},{name:"relatorio",label:"Relat\xf3rio",type:"url",placeholder:"Link do relat\xf3rio final"}]}};function f(e){var a,t;let{isOpen:l,onClose:i,onSave:n,userArea:s}=e,d=h(s),c=(null==d?void 0:null===(a=d[0])||void 0===a?void 0:a.id)||"todo",[u,m]=(0,r.useState)(c),[b,y]=(0,r.useState)({title:"",description:"",priority:"medium",dueDate:"",assignees:[],tags:[],column:"todo",client:"",area:s||"",referenceLinks:"",driveLink:"",attachments:"",estimatedHours:"",dependencies:"",dynamicFields:{}}),f=function(e,a){let t=e in v?e:Object.keys(v).find(a=>a.toLowerCase()===e.toLowerCase())||"";return t&&v[t]&&v[t][a]||[]}(s,u);(0,r.useEffect)(()=>{var e;let a=h(s),t=(null==a?void 0:null===(e=a[0])||void 0===e?void 0:e.id)||"todo";m(t),y(e=>({...e,column:t,area:s||e.area}))},[s]);let j=()=>{m("todo"),y({title:"",description:"",priority:"medium",dueDate:"",assignees:[],tags:[],column:"todo",client:"",area:s||"",referenceLinks:"",driveLink:"",attachments:"",estimatedHours:"",dependencies:"",dynamicFields:{}})},k=(e,a)=>{y(t=>({...t,dynamicFields:{...t.dynamicFields,[e]:a}}))},N=e=>{let a=b.dynamicFields[e.name]||"";switch(e.type){case"select":var t;return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[e.label," ",e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("select",{value:a,onChange:a=>k(e.name,a.target.value),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:e.required,children:[(0,o.jsx)("option",{value:"",children:"Selecione..."}),null===(t=e.options)||void 0===t?void 0:t.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]},e.name);case"textarea":return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[e.label," ",e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("textarea",{value:a,onChange:a=>k(e.name,a.target.value),placeholder:e.placeholder,className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 min-h-[100px]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:e.required})]},e.name);case"number":return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[e.label," ",e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"number",value:a,onChange:a=>k(e.name,a.target.value),placeholder:e.placeholder,className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:e.required})]},e.name);case"date":return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[e.label," ",e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"date",value:a,onChange:a=>k(e.name,a.target.value),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:e.required})]},e.name);default:return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[e.label," ",e.required&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:e.type,value:a,onChange:a=>k(e.name,a.target.value),placeholder:e.placeholder,className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:e.required})]},e.name)}};return l?(0,o.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),(0,o.jsxs)(p.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-light)"},children:[(0,o.jsxs)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:["Nova Tarefa - ",s]}),(0,o.jsx)("button",{onClick:i,className:"p-2 rounded-lg hover:bg-opacity-80 transition-all",style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsx)(x.Z,{className:"w-5 h-5",style:{color:"var(--text-secondary)"}})})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({...b,column:u,...b.dynamicFields}),i(),j()},className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Informa\xe7\xf5es B\xe1sicas"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["T\xedtulo ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",value:b.title,onChange:e=>y({...b,title:e.target.value}),placeholder:"Digite o t\xedtulo da tarefa",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Descri\xe7\xe3o"}),(0,o.jsx)("textarea",{value:b.description,onChange:e=>y({...b,description:e.target.value}),placeholder:"Descreva a tarefa...",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 min-h-[100px]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Coluna ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},required:!0,children:d.map(e=>(0,o.jsx)("option",{value:e.id,children:e.title},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Cliente"}),(0,o.jsx)("input",{type:"text",value:b.client,onChange:e=>y({...b,client:e.target.value}),placeholder:"Nome do cliente",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Prioridade"}),(0,o.jsxs)("select",{value:b.priority,onChange:e=>y({...b,priority:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[(0,o.jsx)("option",{value:"low",children:"Baixa"}),(0,o.jsx)("option",{value:"medium",children:"M\xe9dia"}),(0,o.jsx)("option",{value:"high",children:"Alta"}),(0,o.jsx)("option",{value:"urgent",children:"Urgente"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Prazo"}),(0,o.jsx)("input",{type:"date",value:b.dueDate,onChange:e=>y({...b,dueDate:e.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Horas Estimadas"}),(0,o.jsx)("input",{type:"number",value:b.estimatedHours,onChange:e=>y({...b,estimatedHours:e.target.value}),placeholder:"Ex: 8",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Links de Refer\xeancia"}),(0,o.jsx)("textarea",{value:b.referenceLinks,onChange:e=>y({...b,referenceLinks:e.target.value}),placeholder:"Um link por linha",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 min-h-[80px]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Link do Google Drive"}),(0,o.jsx)("input",{type:"url",value:b.driveLink,onChange:e=>y({...b,driveLink:e.target.value}),placeholder:"https://drive.google.com/...",className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:["Campos Espec\xedficos - ",null===(t=d.find(e=>e.id===u))||void 0===t?void 0:t.title]}),f.length>0?f.map(e=>N(e)):(0,o.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Nenhum campo adicional para esta etapa"})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 mt-6 border-t",style:{borderColor:"var(--border-light)"},children:[(0,o.jsx)("button",{type:"button",onClick:i,className:"px-6 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancelar"}),(0,o.jsxs)("button",{type:"submit",className:"px-6 py-3 rounded-xl font-medium text-white transition-all flex items-center gap-2",style:{backgroundColor:"var(--primary-600)"},children:[(0,o.jsx)(g.Z,{className:"w-4 h-4"}),"Criar Tarefa"]})]})]})]})]}):null}var j=t(57586),k=t(88893),N=t(18930),w=t(49322),C=t(48736),_=t(70933),B=t(76980),E=t(17689),F=t(53417),D=t(31047),A=t(76865),S=t(92369),P=t(5526),R=t(14438),q=t(59304);function I(e){let{card:a,isOpen:t,onClose:l,onSave:i,onDelete:n,isSuperAdmin:s}=e,[d,c]=(0,r.useState)(!1),[m,b]=(0,r.useState)(a),[h,y]=(0,r.useState)(""),[v,f]=(0,r.useState)(null),[I,T]=(0,r.useState)(!1),[L,M]=(0,r.useState)(null),[Z,z]=(0,r.useState)(null);(0,r.useEffect)(()=>{b(a),a&&O(a)},[a]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await P.supabase.auth.getUser();if(e){let a=await (0,q.T)(P.supabase,e.id);if(a){let e=String(a.user_type||a.role||"");f(e),T("super_admin"===e||"admin"===e||!!s)}}})()},[s]);let O=e=>{if(!e.columnEnteredAt)return;let a=new Date(e.columnEnteredAt),t=Math.ceil(Math.abs(new Date().getTime()-a.getTime())/864e5),o="normal";t>5?o="critical":t>3&&(o="warning"),z({days:t,status:o})};if(!a||!m)return null;let H=e=>{if("done"===e){var a;if("Design"===m.area&&0===m.attachments&&!(null===(a=m.description)||void 0===a?void 0:a.includes("http")))return"Para concluir tarefas de Design, \xe9 obrigat\xf3rio anexar o arquivo ou link do projeto."}return"backlog"===e||m.description?null:"\xc9 necess\xe1rio preencher a descri\xe7\xe3o antes de iniciar a tarefa."},V=async()=>{if(m){if(m.column!==a.column){let e=H(m.column);if(e){M(e),R.Am.error(e);return}m.columnEnteredAt=new Date}try{await i(m)}catch(e){console.error("Erro ao salvar card:",e),R.Am.error("Erro ao salvar tarefa");return}c(!1),M(null)}};return(0,o.jsx)(j.M,{children:t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),(0,o.jsx)(p.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:l,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden bg-white flex flex-col",children:[(0,o.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gray-50/50",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[d?(0,o.jsx)("input",{type:"text",value:m.title,onChange:e=>b({...m,title:e.target.value}),className:"text-xl font-bold flex-1 px-2 py-1 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white"}):(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:m.title}),Z&&(0,o.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium mt-1 ".concat("critical"===Z.status?"text-red-600":"warning"===Z.status?"text-yellow-600":"text-gray-500"),children:[(0,o.jsx)(u.Z,{className:"w-3 h-3"}),Z.days," dias nesta fase","critical"===Z.status&&(0,o.jsx)("span",{className:"bg-red-100 text-red-700 px-1 rounded ml-1",children:"Gargalo"})]})]}),(0,o.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border ".concat("urgent"===m.priority?"bg-red-50 text-red-700 border-red-200":"high"===m.priority?"bg-yellow-50 text-yellow-700 border-yellow-200":"medium"===m.priority?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200"),children:["urgent"===m.priority&&"\uD83D\uDD34 Urgente","high"===m.priority&&"\uD83D\uDFE1 Alta","medium"===m.priority&&"\uD83D\uDD35 M\xe9dia","low"===m.priority&&"\uD83D\uDFE2 Baixa"]})]}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:V,className:"p-2 rounded-lg hover:bg-green-600 bg-green-500 text-white transition-all shadow-sm",children:(0,o.jsx)(g.Z,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>{b(a),c(!1),M(null)},className:"p-2 rounded-lg hover:bg-gray-200 bg-gray-100 text-gray-600 transition-all",children:(0,o.jsx)(x.Z,{className:"w-4 h-4"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-gray-200 bg-gray-100 text-gray-600 transition-all",title:"Editar",children:(0,o.jsx)(k.Z,{className:"w-4 h-4"})}),I?(0,o.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja excluir esta tarefa?")&&(n(a.id),l())},className:"p-2 rounded-lg hover:bg-red-600 bg-red-500 text-white transition-all shadow-sm",title:"Deletar (apenas admin)",children:(0,o.jsx)(N.Z,{className:"w-4 h-4"})}):(0,o.jsx)("div",{className:"p-2 rounded-lg opacity-30 cursor-not-allowed bg-gray-100 text-gray-400",title:"Apenas admin pode deletar",children:(0,o.jsx)(N.Z,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-200 bg-gray-100 text-gray-600 transition-all",title:"Fechar",children:(0,o.jsx)(x.Z,{className:"w-4 h-4"})})]})})]}),L&&(0,o.jsxs)("div",{className:"bg-red-50 px-6 py-3 border-b border-red-100 flex items-center gap-2 text-red-700 text-sm",children:[(0,o.jsx)(w.Z,{className:"w-4 h-4"}),L]}),(0,o.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-6 h-full",children:[(0,o.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[(0,o.jsx)(C.Z,{className:"w-4 h-4 text-indigo-500"}),"Descri\xe7\xe3o"]}),d?(0,o.jsx)("textarea",{value:m.description||"",onChange:e=>b({...m,description:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 min-h-[120px] text-gray-700",placeholder:"Adicione uma descri\xe7\xe3o detalhada..."}):(0,o.jsx)("p",{className:"text-sm leading-relaxed text-gray-600 whitespace-pre-wrap",children:m.description||"Sem descri\xe7\xe3o"})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[(0,o.jsx)(_.Z,{className:"w-4 h-4 text-green-500"}),"Checklist de Qualidade"]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500"}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Briefing revisado"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500"}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Arquivos anexados"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500"}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Aprovado pelo gestor"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[(0,o.jsx)(B.Z,{className:"w-4 h-4 text-gray-500"}),"Anexos (",m.attachments,")"]}),(0,o.jsxs)("button",{className:"w-full px-4 py-3 rounded-lg border-2 border-dashed border-gray-300 hover:border-indigo-500 hover:bg-indigo-50 flex items-center justify-center gap-2 transition-all text-gray-500 hover:text-indigo-600",children:[(0,o.jsx)(E.Z,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"text-sm",children:"Adicionar anexo ou Link do Drive"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[(0,o.jsx)(F.Z,{className:"w-4 h-4 text-gray-500"}),"Coment\xe1rios (",m.comments,")"]}),(0,o.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,o.jsx)("input",{type:"text",value:h,onChange:e=>y(e.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Adicione um coment\xe1rio..."}),(0,o.jsx)("button",{onClick:()=>{h.trim()&&(y(""),R.Am.success("Coment\xe1rio adicionado"))},className:"px-4 py-2 rounded-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:"Enviar"})]})]})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,o.jsx)("label",{className:"text-xs font-semibold text-gray-500 mb-2 block uppercase tracking-wider",children:"STATUS"}),d?(0,o.jsxs)("select",{value:m.column,onChange:e=>b({...m,column:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,o.jsx)("option",{value:"backlog",children:"Backlog"}),(0,o.jsx)("option",{value:"todo",children:"A Fazer"}),(0,o.jsx)("option",{value:"in_progress",children:"Em Progresso"}),(0,o.jsx)("option",{value:"in_review",children:"Em Revis\xe3o"}),(0,o.jsx)("option",{value:"blocked",children:"Bloqueado"}),(0,o.jsx)("option",{value:"cancelled",children:"Cancelado"}),(0,o.jsx)("option",{value:"done",children:"Conclu\xeddo"})]}):(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("done"===m.column?"bg-green-500":"in_progress"===m.column?"bg-blue-500":"in_review"===m.column?"bg-purple-500":"blocked"===m.column?"bg-red-500":"cancelled"===m.column?"bg-gray-500":"bg-gray-400")}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:m.column})]})]}),(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,o.jsx)("label",{className:"text-xs font-semibold text-gray-500 mb-2 block uppercase tracking-wider",children:"PRIORIDADE"}),d?(0,o.jsxs)("select",{value:m.priority,onChange:e=>b({...m,priority:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,o.jsx)("option",{value:"urgent",children:"\uD83D\uDD34 Urgente"}),(0,o.jsx)("option",{value:"high",children:"\uD83D\uDFE1 Alta"}),(0,o.jsx)("option",{value:"medium",children:"\uD83D\uDD35 M\xe9dia"}),(0,o.jsx)("option",{value:"low",children:"\uD83D\uDFE2 Baixa"})]}):(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:m.priority})]}),(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,o.jsxs)("label",{className:"flex items-center gap-1 text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wider",children:[(0,o.jsx)(D.Z,{className:"w-3 h-3"}),"PRAZO"]}),d?(0,o.jsx)("input",{type:"date",value:m.dueDate?new Date(m.dueDate).toISOString().split("T")[0]:"",onChange:e=>b({...m,dueDate:new Date(e.target.value)}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}):(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("span",{className:"text-sm font-medium ".concat(m.dueDate&&new Date(m.dueDate)<new Date?"text-red-600":"text-gray-700"),children:m.dueDate?new Date(m.dueDate).toLocaleDateString("pt-BR"):"Sem prazo"}),m.dueDate&&new Date(m.dueDate)<new Date&&(0,o.jsxs)("span",{className:"text-xs text-red-500 flex items-center gap-1 mt-1",children:[(0,o.jsx)(A.Z,{className:"w-3 h-3"})," Atrasado"]})]})]}),(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,o.jsxs)("label",{className:"flex items-center gap-1 text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wider",children:[(0,o.jsx)(S.Z,{className:"w-3 h-3"}),"RESPONS\xc1VEIS"]}),(0,o.jsxs)("div",{className:"space-y-2",children:[m.assignees.map((e,a)=>(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-6 h-6 rounded-full bg-indigo-100 flex items-center justify-center text-xs text-indigo-700 font-bold",children:e.charAt(0)}),(0,o.jsx)("span",{className:"text-sm text-gray-700",children:e})]},a)),d&&(0,o.jsxs)("button",{className:"text-xs text-indigo-600 hover:underline flex items-center gap-1",children:[(0,o.jsx)(S.Z,{className:"w-3 h-3"})," Adicionar"]})]})]})]})]})})]})})]})})}var T=t(95452);function L(e){return"review"===e||"in_review"===e?"in_review":"todo"===e?"todo":"in_progress"===e?"in_progress":"done"===e?"done":"backlog"===e?"backlog":"blocked"===e?"blocked":"cancelled"===e?"cancelled":"todo"}function M(e){return"normal"===e||"medium"===e?"medium":"low"===e?"low":"high"===e?"high":"urgent"===e?"urgent":"medium"}function Z(){let e=(0,T.createClientComponentClient)(),a=(0,i.useSearchParams)(),t=a.get("boardId"),p=a.get("taskId"),[x,g]=(0,r.useState)(null),[b,h]=(0,r.useState)({}),[v,j]=(0,r.useState)(!0),[k,N]=(0,r.useState)([{id:"todo",title:"A Fazer",color:"#F59E0B",cards:[]},{id:"in_progress",title:"Em Progresso",color:"#3B82F6",cards:[]},{id:"in_review",title:"Revis\xe3o",color:"#8B5CF6",cards:[]},{id:"done",title:"Conclu\xeddo",color:"#10B981",cards:[]}]),[w,C]=(0,r.useState)(""),[_,B]=(0,r.useState)("all"),[E,F]=(0,r.useState)("kanban"),[D,A]=(0,r.useState)(!1),[S,P]=(0,r.useState)(null),[Z,z]=(0,r.useState)(!1),[O,H]=(0,r.useState)("Admin"),[V,G]=(0,r.useState)({totalTasks:0,delayed:0,completedToday:0,productivity:0});(0,r.useEffect)(()=>{W(t,p)},[t,p]);let U=async a=>{var t,o;let{data:r}=await e.auth.getUser(),l=null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.id;if(!l)throw Error("N\xe3o autenticado");let{data:i}=await e.from("kanban_boards").select("id, name").is("client_id",null).eq("name","Super Admin").limit(1).maybeSingle();if(!i){let{data:a,error:t}=await e.from("kanban_boards").insert({name:"Super Admin",description:"Quadro central do Admin",client_id:null,is_active:!0,created_by:l}).select("id, name").single();if(t)throw t;i=a}let n=i;if(a){let{data:t}=await e.from("kanban_boards").select("id, name").eq("id",a).maybeSingle();(null==t?void 0:t.id)&&(n=t)}let{data:s}=await e.from("kanban_columns").select("id, name, position, color").eq("board_id",n.id).order("position",{ascending:!0});if(!s||0===s.length){let{error:a}=await e.from("kanban_columns").insert([{name:"Backlog",position:1,color:"#64748b"},{name:"A Fazer",position:2,color:"#f59e0b"},{name:"Em Progresso",position:3,color:"#3b82f6"},{name:"Em Revis\xe3o",position:4,color:"#8b5cf6"},{name:"Conclu\xeddo",position:5,color:"#22c55e"},{name:"Bloqueado",position:6,color:"#ef4444"},{name:"Cancelado",position:7,color:"#9ca3af"}].map(e=>({...e,board_id:n.id})));if(a)throw a;s=(await e.from("kanban_columns").select("id, name, position, color").eq("board_id",n.id).order("position",{ascending:!0})).data||[]}let d={};(s||[]).forEach(e=>{(null==e?void 0:e.name)&&(null==e?void 0:e.id)&&(d[String(e.name)]=String(e.id))});let c=null===(o=(s||[])[0])||void 0===o?void 0:o.id,u={backlog:d.Backlog||c,todo:d["A Fazer"]||c,in_progress:d["Em Progresso"]||c,in_review:d["Em Revis\xe3o"]||d["Revis\xe3o"]||c,done:d["Conclu\xeddo"]||c,blocked:d.Bloqueado||c,cancelled:d.Cancelado||c};return g(n.id),h(u),{boardId:n.id,columnIdByStatus:u,userId:l}},W=async(a,t)=>{try{let o=await U(a),{data:r,error:l}=await e.from("kanban_tasks").select("*").eq("board_id",o.boardId).order("created_at",{ascending:!1}).limit(250);if(l)throw l;let i=Array.from(new Set((r||[]).map(e=>e.assigned_to).filter(Boolean))),n={};if(i.length>0){let a=await (0,q.m)(e,i);i.forEach(e=>{let t=a.get(e);n[e]=(null==t?void 0:t.full_name)||(null==t?void 0:t.email)||e})}let s={},d=(r||[]).map(e=>{let a={id:e.id,title:e.title,description:e.description||"",priority:M(e.priority||"medium"),dueDate:e.due_date?new Date(e.due_date):void 0,assignees:e.assigned_to?[n[e.assigned_to]||e.assigned_to]:[],tags:e.tags||[],comments:0,attachments:Array.isArray(e.attachment_urls)?e.attachment_urls.length:e.attachments?1:0,column:L(e.status),area:e.area||"",createdAt:e.created_at?new Date(e.created_at):new Date,boardId:e.board_id,clientId:e.client_id};return s[a.id]=a,a});N(e=>e.map(e=>({...e,cards:d.filter(a=>a.column===e.id)}))),t&&s[t]&&(P(s[t]),z(!0))}catch(e){console.error("Erro ao carregar tarefas:",e)}finally{j(!1)}},J=async a=>{let{source:t,destination:o,draggableId:r}=a;if(!o||t.droppableId===o.droppableId&&t.index===o.index)return;let l=k.find(e=>e.id===t.droppableId),i=k.find(e=>e.id===o.droppableId);if(!l||!i)return;let n=[...k],s=[...l.cards],d=t.droppableId===o.droppableId?s:[...i.cards],[c]=s.splice(t.index,1);c.column=L(o.droppableId),d.splice(o.index,0,c);let u=n.findIndex(e=>e.id===t.droppableId),m=n.findIndex(e=>e.id===o.droppableId);n[u]={...l,cards:s},t.droppableId!==o.droppableId&&(n[m]={...i,cards:d}),N(n);try{let a=b[c.column]||b.todo;if(!x||!a)throw Error("Board/colunas do Kanban n\xe3o inicializados");let t=[],o=e=>{let a=b[e.id]||b.todo;(e.cards||[]).forEach((e,o)=>{t.push({id:e.id,position:o+1,column_id:a,status:e.column})})};for(let a of(o(n[u]),u!==m&&o(n[m]),t))await e.from("kanban_tasks").update({status:a.status,column_id:a.column_id,position:a.position,updated_at:new Date().toISOString()}).eq("id",a.id).eq("board_id",x)}catch(e){console.error("Erro ao atualizar tarefa:",e)}},X=async a=>{try{var o,r;let l=x&&Object.keys(b||{}).length>0?{boardId:x,columnIdByStatus:b}:await U(t),i=a.column||"todo",n=L("review"===i?"in_review":"done"===i||"concluido"===i||"conclu\xeddo"===i?"done":"in_progress"===i||"em_execucao"===i||"em_criacao"===i?"in_progress":"backlog"===i||"briefing"===i?"backlog":"todo"),s=M(a.priority),d="string"==typeof a.referenceLinks?a.referenceLinks.split(/[\n,; ]+/g).map(e=>e.trim()).filter(Boolean):[],c="string"==typeof a.client?a.client.trim():"",u=(a.description||"").toString(),m=c?"Cliente: ".concat(c,"\n\n").concat(u).trim():u||null,p=(null===(o=l.columnIdByStatus)||void 0===o?void 0:o[n])||(null===(r=l.columnIdByStatus)||void 0===r?void 0:r.todo);if(!p)throw Error("Coluna alvo n\xe3o encontrada no board");let{data:g}=await e.from("kanban_tasks").select("position").eq("board_id",l.boardId).eq("column_id",p).order("position",{ascending:!1}).limit(1).maybeSingle(),h=Number((null==g?void 0:g.position)||0)+1,{data:y,error:v}=await e.from("kanban_tasks").insert({board_id:l.boardId,column_id:p,title:a.title,description:m,priority:s,status:n,due_date:a.dueDate,area:a.area,tags:a.tags,reference_links:d.length?{links:d,raw:a.referenceLinks}:null,drive_link:a.driveLink,estimated_hours:a.estimatedHours?Number(a.estimatedHours):null,position:h}).select();if(v)throw v;W(),A(!1)}catch(e){console.error("Erro ao criar tarefa:",e),R.Am.error("Erro ao criar tarefa")}},$=e=>{P(e),z(!0)},Y=async a=>{try{var t,o;let r=x&&Object.keys(b||{}).length>0?{boardId:x,columnIdByStatus:b}:await U(),l=L(a.column),i=(null===(t=r.columnIdByStatus)||void 0===t?void 0:t[l])||(null===(o=r.columnIdByStatus)||void 0===o?void 0:o.todo);if(!i)throw Error("Coluna alvo n\xe3o encontrada no board");let{data:n}=await e.from("kanban_tasks").select("position").eq("board_id",r.boardId).eq("column_id",i).order("position",{ascending:!1}).limit(1).maybeSingle(),s=Number((null==n?void 0:n.position)||0)+1;await e.from("kanban_tasks").update({title:a.title,description:a.description,priority:a.priority,due_date:a.dueDate,tags:a.tags,status:l,column_id:i,position:s,updated_at:new Date().toISOString()}).eq("id",a.id),W(),z(!1)}catch(e){console.error("Erro ao atualizar tarefa:",e)}},K=async a=>{if(confirm("Tem certeza que deseja deletar esta tarefa?"))try{await e.from("kanban_tasks").delete().eq("id",a),W(),z(!1)}catch(e){console.error("Erro ao deletar tarefa:",e)}},Q=k.map(e=>({...e,cards:e.cards.filter(e=>{let a=e.title.toLowerCase().includes(w.toLowerCase()),t="all"===_||e.area===_;return a&&t})}));return v?(0,o.jsx)("div",{className:"flex items-center justify-center h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full"})}):(0,o.jsxs)("div",{className:"flex flex-col h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,o.jsxs)("div",{className:"p-6 border-b",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Meu Kanban - Super Admin"}),(0,o.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gerencie tarefas de todas as \xe1reas"})]}),(0,o.jsxs)("button",{onClick:()=>A(!0),className:"px-4 py-2 rounded-lg text-white font-medium flex items-center gap-2 transition-all hover:scale-105",style:{backgroundColor:"var(--primary-600)"},children:[(0,o.jsx)(n.Z,{className:"w-4 h-4"}),"Nova Tarefa"]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("div",{className:"flex-1 relative",children:[(0,o.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--text-tertiary)"}}),(0,o.jsx)("input",{type:"text",placeholder:"Buscar tarefas...",value:w,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,o.jsxs)("select",{value:_,onChange:e=>B(e.target.value),className:"px-4 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[(0,o.jsx)("option",{value:"all",children:"Todas as \xc1reas"}),y.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),(0,o.jsxs)("div",{className:"flex gap-2 p-1 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,o.jsx)("button",{onClick:()=>F("kanban"),className:(0,m.cn)("p-2 rounded-lg transition-all","kanban"===E?"text-white":""),style:{backgroundColor:"kanban"===E?"var(--primary-500)":"transparent",color:"kanban"===E?"white":"var(--text-secondary)"},children:(0,o.jsx)(d.Z,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>F("list"),className:(0,m.cn)("p-2 rounded-lg transition-all","list"===E?"text-white":""),style:{backgroundColor:"list"===E?"var(--primary-500)":"transparent",color:"list"===E?"white":"var(--text-secondary)"},children:(0,o.jsx)(c.Z,{className:"w-4 h-4"})})]})]})]}),"kanban"===E&&(0,o.jsx)(l.Z5,{onDragEnd:J,children:(0,o.jsx)("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:(0,o.jsx)("div",{className:"flex gap-4 min-w-max pb-4",children:Q.map(e=>(0,o.jsx)(l.bK,{droppableId:e.id,children:a=>(0,o.jsxs)("div",{ref:a.innerRef,...a.droppableProps,className:"w-80 flex-shrink-0 flex flex-col rounded-3xl border backdrop-blur-xl shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(200, 200, 200, 0.3)"},children:[(0,o.jsx)("div",{className:"p-5 border-b",style:{borderColor:"rgba(200, 200, 200, 0.3)"},children:(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,o.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,o.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(100, 100, 100, 0.1)",color:"var(--text-secondary)"},children:e.cards.length})]})})}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.cards.map((e,a)=>(0,o.jsx)(l._l,{draggableId:e.id,index:a,children:(a,t)=>(0,o.jsxs)("div",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,onClick:()=>$(e),className:"\n                              p-4 rounded-xl border shadow-sm cursor-pointer hover:shadow-md transition-all backdrop-blur-sm\n                              ".concat(t.isDragging?"rotate-2 shadow-xl ring-2 ring-indigo-500 ring-opacity-50 z-50":"","\n                            "),style:{backgroundColor:"rgba(255, 255, 255, 0.6)",borderColor:"rgba(200, 200, 200, 0.3)",...a.draggableProps.style},children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.title}),e.description&&(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:(0,m.cn)("px-2 py-1 rounded text-xs font-medium","urgent"===e.priority?"bg-red-100 text-red-700":"high"===e.priority?"bg-amber-100 text-amber-700":"medium"===e.priority?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:e.priority}),e.area&&(0,o.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-700",children:e.area})]}),e.dueDate&&(0,o.jsxs)("span",{className:"text-xs text-gray-600 flex items-center gap-1",children:[(0,o.jsx)(u.Z,{className:"w-3 h-3"}),new Date(e.dueDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})]})]})]})},e.id)),a.placeholder]})]})},e.id))})})}),"list"===E&&(0,o.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,o.jsx)("div",{className:"rounded-xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:(0,o.jsxs)("table",{className:"w-full",children:[(0,o.jsx)("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Tarefa"}),(0,o.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"var(--text-primary)"},children:"\xc1rea"}),(0,o.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Status"}),(0,o.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Prioridade"}),(0,o.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Prazo"})]})}),(0,o.jsx)("tbody",{children:Q.flatMap(e=>e.cards).map(e=>{var a;return(0,o.jsxs)("tr",{onClick:()=>$(e),className:"border-t cursor-pointer hover:bg-opacity-50 transition-all",style:{borderColor:"var(--border-light)"},children:[(0,o.jsxs)("td",{className:"px-6 py-4",children:[(0,o.jsx)("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.title}),e.description&&(0,o.jsx)("p",{className:"text-sm line-clamp-1",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,o.jsx)("td",{className:"px-6 py-4",children:(0,o.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-700",children:e.area})}),(0,o.jsx)("td",{className:"px-6 py-4",children:(0,o.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-700",children:null===(a=Q.find(a=>a.cards.includes(e)))||void 0===a?void 0:a.title})}),(0,o.jsx)("td",{className:"px-6 py-4",children:(0,o.jsx)("span",{className:(0,m.cn)("px-2 py-1 rounded text-xs font-medium","urgent"===e.priority?"bg-red-100 text-red-700":"high"===e.priority?"bg-amber-100 text-amber-700":"medium"===e.priority?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:e.priority})}),(0,o.jsx)("td",{className:"px-6 py-4 text-sm",style:{color:"var(--text-secondary)"},children:e.dueDate?new Date(e.dueDate).toLocaleDateString("pt-BR"):"-"})]},e.id)})})]})})}),D&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl max-w-5xl w-full p-6",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Selecione a \xc1rea da Tarefa"}),(0,o.jsx)("select",{value:O,onChange:e=>H(e.target.value),className:"w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2",children:y.map(e=>(0,o.jsx)("option",{value:e,children:e},e))})]}),(0,o.jsx)(f,{isOpen:!0,onClose:()=>A(!1),onSave:X,userArea:O})]})}),S&&(0,o.jsx)(I,{card:{id:S.id,title:S.title,description:S.description,column:S.column,priority:S.priority,assignees:S.assignees,tags:S.tags,dueDate:S.dueDate?new Date(S.dueDate):void 0,attachments:S.attachments,comments:S.comments,createdAt:S.createdAt,area:S.area},isOpen:Z,onClose:()=>z(!1),onSave:Y,onDelete:K,isSuperAdmin:!0})]})}function z(){return(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)("div",{className:"p-6 text-sm text-[#001533]/60 dark:text-white/60",children:"Carregando…"}),children:(0,o.jsx)(Z,{})})}},59304:function(e,a,t){"use strict";function o(e,a){return{user_id:a,full_name:String(e.full_name||"Usu\xe1rio"),email:e.email?String(e.email):void 0,avatar_url:e.avatar_url?String(e.avatar_url):e.avatar?String(e.avatar):void 0,user_type:e.user_type?String(e.user_type):e.role?String(e.role):void 0}}async function r(e,a,t){try{let{data:o,error:r}=await e.from("user_profiles").select("id"===a?"id, full_name, email, avatar_url, avatar, user_type, role":"user_id, full_name, email, avatar_url, avatar, user_type, role").in(a,t);if(r)return[];return o||[]}catch(e){return[]}}async function l(e,a){let t=Array.from(new Set((a||[]).filter(Boolean))),l=new Map;if(0===t.length)return l;for(let a of(await r(e,"id",t))){let e=(null==a?void 0:a.id)?String(a.id):null;e&&l.set(e,o(a,e))}for(let a of(await r(e,"user_id",t))){let e=(null==a?void 0:a.user_id)?String(a.user_id):null;e&&l.set(e,o(a,e))}return l}async function i(e,a){return a&&(await l(e,[a])).get(a)||null}t.d(a,{T:function(){return i},m:function(){return l}})},5526:function(e,a,t){"use strict";t.r(a),t.d(a,{supabase:function(){return i}});var o=t(62724);let r="https://ikjgsqtykkhqimypacro.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";r&&l||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let i=(0,o.eI)(r||"https://setup-missing.supabase.co",l||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},93448:function(e,a,t){"use strict";t.d(a,{cn:function(){return l},x:function(){return i}});var o=t(61994),r=t(53335);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,o.W)(a))}function i(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},1119:function(e,a,t){"use strict";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(null,arguments)}t.d(a,{Z:function(){return o}})},69398:function(e,a,t){"use strict";function o(e,a){if(!e)throw Error("Invariant failed")}t.d(a,{Z:function(){return o}})}},function(e){e.O(0,[3338,2882,6137,4609,2724,4438,5906,6654,5452,2971,2117,1744],function(){return e(e.s=42090)}),_N_E=e.O()}]);