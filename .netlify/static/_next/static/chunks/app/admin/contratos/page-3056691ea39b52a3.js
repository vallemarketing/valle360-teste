(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1821],{17802:function(e,a,s){Promise.resolve().then(s.bind(s,89897))},89897:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return P}});var t=s(57437),l=s(2265),r=s(26892),n=s(57586),i=s(15868),c=s(84502),d=s(91723),o=s(41671),m=s(76865),x=s(99397),h=s(48736),u=s(95252),p=s(73247),j=s(42208),b=s(44743),v=s(71533),g=s(92735),N=s(53121),f=s(32489),y=s(60044),w=s(92369),C=s(82023),k=s(17689),A=s(79820),D=s(12381),S=s(69174),R=s(40279),E=s(32060),Z=s(93448),T=s(14438);function P(){let[e,a]=(0,l.useState)(""),[s,w]=(0,l.useState)("all"),[C,k]=(0,l.useState)(!1),[P,_]=(0,l.useState)(!1),[L,O]=(0,l.useState)(null),[M]=(0,l.useState)([{id:"1",clientName:"Jo\xe3o Silva",clientCompany:"Tech Solutions Ltda",type:"service",status:"signed",value:8500,startDate:"2024-01-01",endDate:"2024-12-31",createdAt:"2023-12-15",services:["Gest\xe3o de Redes Sociais","Tr\xe1fego Pago"]},{id:"2",clientName:"Maria Santos",clientCompany:"Valle Boutique",type:"service",status:"pending_signature",value:5200,startDate:"2024-02-01",endDate:"2025-01-31",createdAt:"2024-01-20",services:["Design Gr\xe1fico","Cria\xe7\xe3o de Conte\xfado"]},{id:"3",clientName:"Pedro Costa",clientCompany:"Inova Marketing",type:"retainer",status:"pending_legal",value:12e3,startDate:"2024-03-01",endDate:"2025-02-28",createdAt:"2024-02-10",services:["Consultoria Estrat\xe9gica","Gest\xe3o Completa"]},{id:"4",clientName:"Ana Oliveira",clientCompany:"Digital Plus",type:"project",status:"draft",value:15e3,startDate:"2024-04-01",endDate:"2024-06-30",createdAt:"2024-03-01",services:["Desenvolvimento Web","SEO"]}]),z={total:M.length,signed:M.filter(e=>"signed"===e.status).length,pending:M.filter(e=>["pending_legal","pending_signature"].includes(e.status)).length,totalValue:M.filter(e=>"signed"===e.status).reduce((e,a)=>e+a.value,0)},J=e=>{let a={draft:{className:"bg-gray-500/10 text-gray-600 border-gray-500/30",label:"Rascunho",icon:(0,t.jsx)(i.Z,{className:"w-3 h-3"})},pending_legal:{className:"bg-purple-500/10 text-purple-600 border-purple-500/30",label:"Aguardando Jur\xeddico",icon:(0,t.jsx)(c.Z,{className:"w-3 h-3"})},pending_signature:{className:"bg-amber-500/10 text-amber-600 border-amber-500/30",label:"Aguardando Assinatura",icon:(0,t.jsx)(d.Z,{className:"w-3 h-3"})},signed:{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30",label:"Assinado",icon:(0,t.jsx)(o.Z,{className:"w-3 h-3"})},expired:{className:"bg-red-500/10 text-red-600 border-red-500/30",label:"Expirado",icon:(0,t.jsx)(m.Z,{className:"w-3 h-3"})}}[e];return(0,t.jsxs)(S.C,{className:(0,Z.cn)("border flex items-center gap-1",a.className),children:[a.icon,a.label]})},B=e=>(0,t.jsx)(S.C,{variant:"outline",children:{service:"Presta\xe7\xe3o de Servi\xe7o",project:"Projeto",retainer:"Retainer"}[e]}),V=M.filter(a=>{let t=a.clientName.toLowerCase().includes(e.toLowerCase())||a.clientCompany.toLowerCase().includes(e.toLowerCase()),l="all"===s||a.status===s;return t&&l}),F=e=>{O(e),_(!0)},U=async e=>{T.Am.message("Envio para Jur\xeddico ainda n\xe3o est\xe1 integrado. Use o Kanban/Mensagens para acompanhar.")},G=async()=>{T.Am.message("Assinatura eletr\xf4nica ainda n\xe3o est\xe1 integrada. Use Mensagens para enviar o contrato ao cliente.")},q=async()=>{try{if(!L){T.Am.error("Selecione um contrato para exportar.");return}let e=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="contrato-".concat(String(L.id||"export"),".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),T.Am.success("Contrato exportado (JSON).")}catch(e){T.Am.error("Falha ao exportar contrato.")}},$=()=>{k(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-[#0a0f1a] p-6",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#001533] dark:text-white mb-2",children:"Gest\xe3o de Contratos"}),(0,t.jsx)("p",{className:"text-[#001533]/60 dark:text-white/60",children:"Gera\xe7\xe3o autom\xe1tica e acompanhamento de contratos"})]}),(0,t.jsxs)(D.z,{onClick:()=>{k(!0)},className:"bg-[#1672d6] hover:bg-[#1260b5]",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Novo Contrato"]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total de Contratos",value:z.total,icon:h.Z,color:"text-[#1672d6]"},{label:"Contratos Ativos",value:z.signed,icon:o.Z,color:"text-emerald-500"},{label:"Pendentes",value:z.pending,icon:d.Z,color:"text-amber-500"},{label:"Valor Total Mensal",value:"R$ ".concat(z.totalValue.toLocaleString("pt-BR")),icon:u.Z,color:"text-purple-500"}].map((e,a)=>(0,t.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,t.jsx)(A.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:(0,t.jsx)(A.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:(0,Z.cn)("p-3 rounded-xl bg-[#001533]/5 dark:bg-white/5",e.color),children:(0,t.jsx)(e.icon,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:e.value})]})]})})})},a))}),(0,t.jsx)(A.Zb,{className:"border-[#001533]/10 dark:border-white/10 mb-6",children:(0,t.jsx)(A.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#001533]/40"}),(0,t.jsx)(R.II,{placeholder:"Buscar por cliente ou empresa...",value:e,onChange:e=>a(e.target.value),className:"pl-10 border-[#001533]/20"})]}),(0,t.jsxs)("select",{value:s,onChange:e=>w(e.target.value),className:"px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[(0,t.jsx)("option",{value:"all",children:"Todos os Status"}),(0,t.jsx)("option",{value:"draft",children:"Rascunho"}),(0,t.jsx)("option",{value:"pending_legal",children:"Aguardando Jur\xeddico"}),(0,t.jsx)("option",{value:"pending_signature",children:"Aguardando Assinatura"}),(0,t.jsx)("option",{value:"signed",children:"Assinados"}),(0,t.jsx)("option",{value:"expired",children:"Expirados"})]})]})})}),(0,t.jsx)("div",{className:"space-y-4",children:V.map((e,a)=>(0,t.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,t.jsx)(A.Zb,{className:"border-[#001533]/10 dark:border-white/10 hover:border-[#1672d6]/30 transition-all",children:(0,t.jsx)(A.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-[#1672d6]/10",children:(0,t.jsx)(h.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-bold text-[#001533] dark:text-white",children:e.clientCompany}),J(e.status),B(e.type)]}),(0,t.jsxs)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60 mb-3",children:[e.clientName," â€¢ ",e.services.join(", ")]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[#001533]/40 dark:text-white/40",children:"Valor Mensal"}),(0,t.jsxs)("p",{className:"font-semibold text-[#1672d6]",children:["R$ ",e.value.toLocaleString("pt-BR")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[#001533]/40 dark:text-white/40",children:"In\xedcio"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString("pt-BR")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[#001533]/40 dark:text-white/40",children:"T\xe9rmino"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(e.endDate).toLocaleDateString("pt-BR")})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(D.z,{variant:"outline",size:"sm",onClick:()=>F(e),children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-1"}),"Visualizar"]}),"draft"===e.status&&(0,t.jsxs)(D.z,{size:"sm",onClick:()=>U(e.id),className:"bg-purple-600 hover:bg-purple-700",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),"Enviar ao Jur\xeddico"]}),"pending_signature"===e.status&&(0,t.jsxs)(D.z,{size:"sm",className:"bg-[#1672d6] hover:bg-[#1260b5]",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-1"}),"Enviar para Assinatura"]}),(0,t.jsxs)(E.h_,{children:[(0,t.jsx)(E.$F,{asChild:!0,children:(0,t.jsx)(D.z,{variant:"ghost",size:"sm",children:(0,t.jsx)(v.Z,{className:"w-4 h-4"})})}),(0,t.jsxs)(E.AW,{align:"end",children:[(0,t.jsxs)(E.Xi,{children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Baixar PDF"]}),(0,t.jsxs)(E.Xi,{children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Editar"]}),(0,t.jsxs)(E.Xi,{children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Renovar"]})]})]})]})]})})})},e.id))}),0===V.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.Z,{className:"w-12 h-12 mx-auto text-[#001533]/20 mb-4"}),(0,t.jsx)("p",{className:"text-[#001533]/60 dark:text-white/60",children:"Nenhum contrato encontrado"})]})]}),(0,t.jsx)(n.M,{children:P&&L&&(0,t.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>_(!1),children:(0,t.jsxs)(r.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-[#001533]/10",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:"/images/valle360-logo.png",alt:"Valle 360",className:"h-10",onError:e=>{e.target.style.display="none"}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Contrato de Presta\xe7\xe3o de Servi\xe7os"}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/60",children:"Valle 360 Marketing Digital"})]})]}),(0,t.jsx)("button",{onClick:()=>_(!1),children:(0,t.jsx)(f.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-[#001533]/5",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 text-[#1672d6]"}),"CONTRATANTE"]}),(0,t.jsx)("p",{className:"font-bold",children:L.clientCompany}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/60",children:L.clientName})]}),(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-[#1672d6]/5",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 text-[#1672d6]"}),"CONTRATADA"]}),(0,t.jsx)("p",{className:"font-bold",children:"Valle 360 Ltda"}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/60",children:"CNPJ: 00.000.000/0001-00"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"CL\xc1USULA 1\xaa - DO OBJETO"}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/80 dark:text-white/80",children:"O presente contrato tem por objeto a presta\xe7\xe3o dos seguintes servi\xe7os de marketing digital:"}),(0,t.jsx)("ul",{className:"list-disc list-inside mt-2 text-sm",children:L.services.map((e,a)=>(0,t.jsx)("li",{children:e},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"CL\xc1USULA 2\xaa - DO VALOR"}),(0,t.jsxs)("p",{className:"text-sm text-[#001533]/80 dark:text-white/80",children:["Pelos servi\xe7os prestados, a CONTRATANTE pagar\xe1 \xe0 CONTRATADA o valor mensal de"," ",(0,t.jsxs)("strong",{className:"text-[#1672d6]",children:["R$ ",L.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),", com vencimento todo dia 10 de cada m\xeas."]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"CL\xc1USULA 3\xaa - DA VIG\xcaNCIA"}),(0,t.jsxs)("p",{className:"text-sm text-[#001533]/80 dark:text-white/80",children:["Este contrato ter\xe1 vig\xeancia de"," ",(0,t.jsx)("strong",{children:new Date(L.startDate).toLocaleDateString("pt-BR")})," a"," ",(0,t.jsx)("strong",{children:new Date(L.endDate).toLocaleDateString("pt-BR")}),", podendo ser renovado automaticamente por igual per\xedodo."]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-20 border-b border-dashed border-[#001533]/30 mb-2"}),(0,t.jsx)("p",{className:"font-medium",children:L.clientName}),(0,t.jsx)("p",{className:"text-xs text-[#001533]/50",children:"CONTRATANTE"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-20 border-b border-dashed border-[#001533]/30 mb-2"}),(0,t.jsx)("p",{className:"font-medium",children:"Guilherme Valle"}),(0,t.jsx)("p",{className:"text-xs text-[#001533]/50",children:"CONTRATADA"})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-[#001533]/10 flex justify-between",children:[(0,t.jsxs)(D.z,{variant:"outline",onClick:q,children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Baixar PDF"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(D.z,{variant:"outline",className:"text-purple-600 border-purple-600/30 hover:bg-purple-50",onClick:()=>U(L.id),children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Enviar ao Jur\xeddico"]}),(0,t.jsxs)(D.z,{className:"bg-[#1672d6] hover:bg-[#1260b5]",onClick:G,children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Enviar para Assinatura"]})]})]})]})})}),(0,t.jsx)(n.M,{children:C&&(0,t.jsx)(I,{onClose:$,onSuccess:e=>{T.Am.success("Contrato criado com sucesso!"),$()}})})]})}function I(e){let{onClose:a,onSuccess:s}=e,[n,i]=(0,l.useState)(1),[c,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),[j,b]=(0,l.useState)(null),[v,g]=(0,l.useState)(!1),[N,y]=(0,l.useState)({clientName:"",clientCompany:"",clientEmail:"",clientCNPJ:"",clientAddress:"",type:"service",template:"standard",services:[],value:"",durationMonths:"12",startDate:new Date().toISOString().split("T")[0],paymentDay:"10",renewalType:"manual"}),A=e=>{let{name:a,value:s}=e.target;y(e=>({...e,[a]:s}))},S=e=>{y(a=>({...a,services:a.services.includes(e)?a.services.filter(a=>a!==e):[...a.services,e]}))},E=async e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(s&&(p(s),v)){m(!0);try{let e=new FormData;e.append("file",s);let a=await fetch("/api/admin/ocr/extract",{method:"POST",body:e});if(a.ok){let e=await a.json();b(e),e.clientName&&y(a=>({...a,clientName:e.clientName})),e.clientCompany&&y(a=>({...a,clientCompany:e.clientCompany})),e.clientCNPJ&&y(a=>({...a,clientCNPJ:e.clientCNPJ})),e.clientAddress&&y(a=>({...a,clientAddress:e.clientAddress})),e.clientEmail&&y(a=>({...a,clientEmail:e.clientEmail})),T.Am.success("Dados extra\xeddos com sucesso!")}}catch(e){T.Am.error("Falha ao extrair dados do documento")}finally{m(!1)}}},P=async()=>{m(!0);try{let e=new Date(N.startDate);e.setMonth(e.getMonth()+parseInt(N.durationMonths));let a={client_name:N.clientName,client_email:N.clientEmail,client_company:N.clientCompany,client_cnpj:N.clientCNPJ,client_address:N.clientAddress,type:N.type,template_used:N.template,services:N.services.map(e=>({name:e,description:"",monthly_value:parseFloat(N.value)/N.services.length,deliverables:[]})),total_value:parseFloat(N.value)*parseInt(N.durationMonths),payment_terms:"Mensal, vencimento dia ".concat(N.paymentDay),duration_months:parseInt(N.durationMonths),start_date:N.startDate,end_date:e.toISOString(),renewal_type:N.renewalType,status:"draft"},t=await fetch("/api/admin/contracts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(t.ok){let e=await t.json();s(e)}else{let e=await t.json();T.Am.error(e.message||"Falha ao criar contrato")}}catch(e){T.Am.error("Erro ao criar contrato")}finally{m(!1)}};return(0,t.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:a,children:(0,t.jsxs)(r.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#001533]/10 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-[#1672d6]/10",children:(0,t.jsx)(h.Z,{className:"w-5 h-5 text-[#1672d6]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-[#001533] dark:text-white",children:"Novo Contrato"}),(0,t.jsxs)("p",{className:"text-sm text-[#001533]/60",children:["Passo ",n," de 3"]})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-[#001533]/5 rounded-lg",children:(0,t.jsx)(f.Z,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"h-1 bg-[#001533]/10",children:(0,t.jsx)("div",{className:"h-full bg-[#1672d6] transition-all duration-300",style:{width:"".concat(n/3*100,"%")}})}),(0,t.jsxs)("div",{className:"p-6",children:[1===n&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-[#001533] dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"w-4 h-4"}),"Dados do Cliente"]}),(0,t.jsxs)("div",{className:"mb-6 p-4 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Z,{className:"w-4 h-4 text-purple-600"}),(0,t.jsx)("span",{className:"font-medium text-purple-700 dark:text-purple-300",children:"Extrair dados com IA"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:v,onChange:e=>g(e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-purple-600 dark:text-purple-400 mb-3",children:"Fa\xe7a upload de RG, CNPJ, ou Contrato Social para extrair automaticamente os dados."}),(0,t.jsxs)("label",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-purple-300 rounded-xl cursor-pointer hover:border-purple-500 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:E,className:"hidden"}),(0,t.jsx)(k.Z,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-purple-600",children:x?x.name:"Clique para fazer upload"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nome Completo *"}),(0,t.jsx)(R.II,{name:"clientName",value:N.clientName,onChange:A,placeholder:"Jo\xe3o da Silva",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),(0,t.jsx)(R.II,{name:"clientEmail",type:"email",value:N.clientEmail,onChange:A,placeholder:"joao@empresa.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Empresa *"}),(0,t.jsx)(R.II,{name:"clientCompany",value:N.clientCompany,onChange:A,placeholder:"Empresa Ltda",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CNPJ"}),(0,t.jsx)(R.II,{name:"clientCNPJ",value:N.clientCNPJ,onChange:A,placeholder:"00.000.000/0001-00"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Endere\xe7o"}),(0,t.jsx)(R.II,{name:"clientAddress",value:N.clientAddress,onChange:A,placeholder:"Rua, n\xfamero, bairro - Cidade/UF"})]})]})]})}),2===n&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-[#001533] dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4"}),"Servi\xe7os e Condi\xe7\xf5es"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Contrato *"}),(0,t.jsxs)("select",{name:"type",value:N.type,onChange:A,className:"w-full px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[(0,t.jsx)("option",{value:"service",children:"Presta\xe7\xe3o de Servi\xe7o"}),(0,t.jsx)("option",{value:"project",children:"Projeto"}),(0,t.jsx)("option",{value:"retainer",children:"Retainer"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Template"}),(0,t.jsxs)("select",{name:"template",value:N.template,onChange:A,className:"w-full px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[(0,t.jsx)("option",{value:"standard",children:"Padr\xe3o"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Servi\xe7os Contratados *"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Gest\xe3o de Redes Sociais","Tr\xe1fego Pago (Meta Ads)","Tr\xe1fego Pago (Google Ads)","Design Gr\xe1fico","Cria\xe7\xe3o de Conte\xfado","Consultoria Estrat\xe9gica","Desenvolvimento Web","SEO","Email Marketing","Branding"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>S(e),className:(0,Z.cn)("p-3 text-sm text-left rounded-lg border transition-all",N.services.includes(e)?"border-[#1672d6] bg-[#1672d6]/10 text-[#1672d6]":"border-[#001533]/20 hover:border-[#1672d6]/50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[N.services.includes(e)&&(0,t.jsx)(o.Z,{className:"w-4 h-4"}),e]})},e))})]})]})]})}),3===n&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-[#001533] dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),"Valores e Prazos"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valor Mensal (R$) *"}),(0,t.jsx)(R.II,{name:"value",type:"number",value:N.value,onChange:A,placeholder:"5000",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Dura\xe7\xe3o (meses) *"}),(0,t.jsxs)("select",{name:"durationMonths",value:N.durationMonths,onChange:A,className:"w-full px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[(0,t.jsx)("option",{value:"3",children:"3 meses"}),(0,t.jsx)("option",{value:"6",children:"6 meses"}),(0,t.jsx)("option",{value:"12",children:"12 meses"}),(0,t.jsx)("option",{value:"24",children:"24 meses"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Data de In\xedcio *"}),(0,t.jsx)(R.II,{name:"startDate",type:"date",value:N.startDate,onChange:A,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Dia de Vencimento"}),(0,t.jsx)("select",{name:"paymentDay",value:N.paymentDay,onChange:A,className:"w-full px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[5,10,15,20,25].map(e=>(0,t.jsxs)("option",{value:e,children:["Dia ",e]},e))})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Renova\xe7\xe3o"}),(0,t.jsxs)("select",{name:"renewalType",value:N.renewalType,onChange:A,className:"w-full px-4 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] focus:outline-none focus:ring-2 focus:ring-[#1672d6]",children:[(0,t.jsx)("option",{value:"manual",children:"Manual (requer aprova\xe7\xe3o)"}),(0,t.jsx)("option",{value:"auto",children:"Autom\xe1tica"}),(0,t.jsx)("option",{value:"none",children:"Sem renova\xe7\xe3o"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 rounded-xl bg-[#1672d6]/5 border border-[#1672d6]/20",children:[(0,t.jsx)("h4",{className:"font-medium text-[#1672d6] mb-3",children:"Resumo do Contrato"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Cliente:"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:N.clientCompany||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Tipo:"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:N.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Servi\xe7os:"}),(0,t.jsxs)("span",{className:"ml-2 font-medium",children:[N.services.length," selecionados"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Dura\xe7\xe3o:"}),(0,t.jsxs)("span",{className:"ml-2 font-medium",children:[N.durationMonths," meses"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Valor Mensal:"}),(0,t.jsxs)("span",{className:"ml-2 font-medium text-[#1672d6]",children:["R$ ",parseFloat(N.value||"0").toLocaleString("pt-BR")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#001533]/60",children:"Valor Total:"}),(0,t.jsxs)("span",{className:"ml-2 font-medium text-[#1672d6]",children:["R$ ",(parseFloat(N.value||"0")*parseInt(N.durationMonths)).toLocaleString("pt-BR")]})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-[#001533]/10 flex justify-between",children:[(0,t.jsx)(D.z,{variant:"outline",onClick:()=>n>1?i(n-1):a(),children:n>1?"Voltar":"Cancelar"}),n<3?(0,t.jsx)(D.z,{onClick:()=>i(n+1),className:"bg-[#1672d6] hover:bg-[#1260b5]",disabled:1===n&&(!N.clientName||!N.clientEmail||!N.clientCompany)||2===n&&0===N.services.length,children:"Pr\xf3ximo"}):(0,t.jsx)(D.z,{onClick:P,className:"bg-[#1672d6] hover:bg-[#1260b5]",disabled:c||!N.value,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Criando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Criar Contrato"]})})]})]})})}},12381:function(e,a,s){"use strict";s.d(a,{z:function(){return c}});var t=s(57437),l=s(2265),r=s(90535),n=s(93448);let i=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,a)=>{let{className:s,variant:l,size:r,...c}=e;return(0,t.jsx)("button",{className:(0,n.cn)(i({variant:l,size:r,className:s})),ref:a,...c})});c.displayName="Button"},79820:function(e,a,s){"use strict";s.d(a,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=s(57437),l=s(2265),r=s(93448);let n=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",s),...l})});n.displayName="Card";let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight text-lg",s),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-foreground/70",s),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},93448:function(e,a,s){"use strict";s.d(a,{cn:function(){return r},x:function(){return n}});var t=s(61994),l=s(53335);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,l.m6)((0,t.W)(a))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[2882,6137,4438,86,1862,6184,140,2971,2117,1744],function(){return e(e.s=17802)}),_N_E=e.O()}]);