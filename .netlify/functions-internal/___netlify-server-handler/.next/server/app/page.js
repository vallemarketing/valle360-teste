(()=>{var e={};e.id=41931,e.ids=[41931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},98722:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(35480),t(49991),t(35866);var a=t(23191),i=t(88716),n=t(37922),o=t.n(n),s=t(95231),d={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);t.d(r,d);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,35480)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\page.tsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},90768:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},7960:(e,r,t)=>{Promise.resolve().then(t.bind(t,74840)),Promise.resolve().then(t.bind(t,17938))},35303:()=>{},74840:(e,r,t)=>{"use strict";t.d(r,{ToasterProvider:()=>n});var a=t(10326),i=t(85999);function n(){return a.jsx(i.x7,{richColors:!0,position:"top-right",closeButton:!0,duration:4500})}},17938:(e,r,t)=>{"use strict";t.d(r,{AppProvider:()=>d});var a=t(10326),i=t(17577),n=t(2777);let o={super_admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","rh_dashboard","rh_tests","rh_recruitment","integrations","intelligence_center","social_scheduling","nps_dashboard","team_management","client_portal","val_ai","reports","settings"],admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","nps_dashboard","team_management","val_ai","reports","settings"],head_marketing:["dashboard","kanban","messages","gamification","approvals","team_management","val_ai","reports","nps_dashboard"],financeiro:["dashboard","messages","gamification","financial_dashboard","val_ai","reports","nps_dashboard"],comercial:["dashboard","kanban","messages","gamification","commercial_dashboard","val_ai","reports"],rh:["dashboard","messages","gamification","rh_dashboard","rh_tests","rh_recruitment","val_ai","reports"],trafego:["dashboard","kanban","messages","gamification","approvals","val_ai"],social_media:["dashboard","kanban","messages","gamification","approvals","social_scheduling","val_ai"],designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],web_designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],video_maker:["dashboard","kanban","messages","gamification","approvals","val_ai"],employee:["dashboard","kanban","messages","gamification","val_ai"]},s=(0,i.createContext)(void 0);function d({children:e}){let[r,t]=(0,i.useState)(null),[d,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)([]),[p,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!0),[_,h]=(0,i.useState)(!1),v=(0,i.useCallback)(async()=>{try{let{data:{user:e}}=await n.O.auth.getUser();if(!e){t(null),l(!1);return}let{data:r}=await n.O.from("user_profiles").select("*").eq("user_id",e.id).single(),{data:a}=await n.O.from("employees").select("*").eq("user_id",e.id).single(),i=a?.area_of_expertise||a?.department||r?.role||"employee";t({id:e.id,email:e.email||"",fullName:r?.full_name||a?.full_name||"Usu\xe1rio",avatar:a?.avatar||r?.avatar_url,role:{super_admin:"super_admin",superadmin:"super_admin",admin:"admin",administrador:"admin",head_marketing:"head_marketing",head:"head_marketing",financeiro:"financeiro",finance:"financeiro",comercial:"comercial",commercial:"comercial",vendas:"comercial",sales:"comercial",rh:"rh",recursos_humanos:"rh",hr:"rh",trafego:"trafego",trafego_pago:"trafego",traffic:"trafego",gestor_de_trafego:"trafego",social_media:"social_media",social:"social_media",designer:"designer",designer_grafico:"designer",graphic_designer:"designer",web_designer:"web_designer",webdesigner:"web_designer",video_maker:"video_maker",videomaker:"video_maker",editor:"video_maker",employee:"employee",colaborador:"employee"}[(r?.user_type||r?.role||i).toLowerCase().replace(/\s+/g,"_").replace(/-/g,"_")]||"employee",area:i,department:a?.department})}catch(e){console.error("Erro ao carregar usu\xe1rio:",e),t(null)}finally{l(!1)}},[]);(0,i.useCallback)(async()=>{if(r)try{let{data:e}=await n.O.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1}).limit(50);e&&u(e.map(e=>({id:e.id,type:e.type,title:e.title,message:e.message,read:!!e.is_read,createdAt:new Date(e.created_at),actionUrl:e.link,metadata:e.metadata})))}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}},[r]);let b=(0,i.useCallback)(e=>{var t;return!!r&&(t=r.role,o[t]?.includes(e)||!1)},[r]),y=(0,i.useCallback)(async e=>{r&&(await n.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r.id),u(r=>r.map(r=>r.id===e?{...r,read:!0}:r)))},[r]),x=(0,i.useCallback)(async()=>{r&&(await n.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",r.id).eq("is_read",!1),u(e=>e.map(e=>({...e,read:!0}))))},[r]),P=(0,i.useCallback)(async()=>{await n.O.auth.signOut(),t(null),u([])},[]),w={user:r,loading:d,isAuthenticated:!!r,hasPermission:b,notifications:c,unreadCount:c.filter(e=>!e.read).length,markAsRead:y,markAllAsRead:x,isConnected:p,refreshUser:v,logout:P,sidebarOpen:f,setSidebarOpen:g,valChatOpen:_,setValChatOpen:h};return a.jsx(s.Provider,{value:w,children:e})}},2777:(e,r,t)=>{"use strict";t.d(r,{O:()=>o});var a=t(70041);let i="https://ikjgsqtykkhqimypacro.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";i&&n||console.error("âŒ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let o=(0,a.eI)(i||"https://setup-missing.supabase.co",n||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},58585:(e,r,t)=>{"use strict";var a=t(61085);t.o(a,"redirect")&&t.d(r,{redirect:function(){return a.redirect}})},61085:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return a.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=t(83953),i=t(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},16399:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return i},notFound:function(){return a}});let t="NEXT_NOT_FOUND";function a(){let e=Error(t);throw e.digest=t,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},8586:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},83953:(e,r,t)=>{"use strict";var a;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return a},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return p},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return l}});let i=t(54580),n=t(72934),o=t(8586),s="NEXT_REDIRECT";function d(e,r,t){void 0===t&&(t=o.RedirectStatusCode.TemporaryRedirect);let a=Error(s);a.digest=s+";"+r+";"+e+";"+t+";";let n=i.requestAsyncStorage.getStore();return n&&(a.mutableCookies=n.mutableCookies),a}function l(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw d(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw d(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,a,i]=e.digest.split(";",4),n=Number(i);return r===s&&("replace"===t||"push"===t)&&"string"==typeof a&&!isNaN(n)&&n in o.RedirectStatusCode}function p(e){return u(e)?e.digest.split(";",3)[2]:null}function m(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},49991:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,dynamic:()=>s,metadata:()=>d,viewport:()=>l});var a=t(19510);t(5023),t(90327);var i=t(68570);let n=(0,i.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#AppProvider`);(0,i.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#useApp`),(0,i.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermission`),(0,i.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermissions`);let o=(0,i.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\components\providers\ToasterProvider.tsx#ToasterProvider`),s="force-dynamic",d={title:"Valle 360 - Portal Integrado",description:"Plataforma interna e portal do cliente",manifest:"/manifest.json"},l={themeColor:"#0b1220"};function c({children:e}){return(0,a.jsxs)("html",{lang:"pt-BR",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"icon",href:"/icons/valle360-icon.png"}),a.jsx("link",{rel:"apple-touch-icon",href:"/icons/valle360-icon.png"})]}),a.jsx("body",{children:(0,a.jsxs)(n,{children:[e,a.jsx(o,{})]})})]})}},35480:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(58585);function i(){(0,a.redirect)("/login")}},5023:()=>{},90327:()=>{}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[89276,54267],()=>t(98722));module.exports=a})();