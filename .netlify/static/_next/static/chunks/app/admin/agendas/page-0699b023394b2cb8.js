(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5304],{99328:function(e,t,r){Promise.resolve().then(r.bind(r,33051))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var l=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,l.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:u,iconNode:x,...m}=e;return(0,l.createElement)("svg",{ref:t,...d,width:s,height:s,stroke:r,strokeWidth:n?24*Number(a)/Number(s):a,className:i("lucide",o),...!u&&!c(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,l.forwardRef)((r,a)=>{let{className:c,...d}=r;return(0,l.createElement)(o,{ref:a,iconNode:t,className:i("lucide-".concat(s(n(e))),"lucide-".concat(e),c),...d})});return r.displayName=n(e),r}},31047:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},91723:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},83774:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},95805:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},29374:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(79205).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},33051:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var l=r(57437),s=r(2265),a=r(79820),n=r(12381),i=r(69174),c=r(5526),d=r(99397),o=r(31047),u=r(91723),x=r(83774),m=r(29374),v=r(95805);function h(){let[e,t]=(0,s.useState)([]),[r,h]=(0,s.useState)([]),[p,f]=(0,s.useState)(new Date),[g,b]=(0,s.useState)("month"),[j,N]=(0,s.useState)("all"),[y,w]=(0,s.useState)(!0);(0,s.useEffect)(()=>{k()},[]),(0,s.useEffect)(()=>{_()},[e,j]);let k=async()=>{try{w(!0);let{data:e,error:r}=await c.supabase.from("calendar_events").select("*").order("start_datetime",{ascending:!0});if(r)throw r;e&&t(e)}catch(e){console.error("Error fetching events:",e)}finally{w(!1)}},_=()=>{let t=e;"all"!==j&&(t=t.filter(e=>e.event_type===j)),h(t)},C=e=>({company:"bg-blue-600",client_meeting:"bg-green-600",internal_meeting:"bg-purple-600",recording:"bg-red-600",deadline:"bg-primary",other:"bg-gray-600"})[e]||"bg-gray-600",Z=e=>({company:"Empresa",client_meeting:"Reuni\xe3o Cliente",internal_meeting:"Reuni\xe3o Interna",recording:"Grava\xe7\xe3o",deadline:"Prazo",other:"Outro"})[e]||e,I=e=>{let t=new Date(e);return new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}).format(t)},R=r.filter(e=>{let t=new Date(e.start_datetime),r=new Date;return t.toDateString()===r.toDateString()}),E=r.filter(e=>new Date(e.start_datetime)>new Date).slice(0,10);return y?(0,l.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-valle-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-valle-silver-600",children:"Carregando agenda..."})]})}):(0,l.jsxs)("div",{className:"space-y-6 pb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-valle-navy-900",children:"Calend\xe1rio Unificado"}),(0,l.jsx)("p",{className:"text-valle-silver-600 mt-2",children:"Visualize todos os eventos da equipe"})]}),(0,l.jsxs)(n.z,{className:"bg-valle-blue-600 hover:bg-valle-blue-700 gap-2",children:[(0,l.jsx)(d.Z,{className:"w-4 h-4"}),"Novo Evento"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)(a.Zb,{className:"lg:col-span-2 border-2 border-valle-silver-200",children:[(0,l.jsx)(a.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(a.ll,{className:"text-valle-navy-900",children:"Eventos de Hoje"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-1.5 border border-valle-silver-300 rounded-lg bg-white text-sm",children:[(0,l.jsx)("option",{value:"all",children:"Todos os tipos"}),(0,l.jsx)("option",{value:"company",children:"Empresa"}),(0,l.jsx)("option",{value:"client_meeting",children:"Reuni\xe3o Cliente"}),(0,l.jsx)("option",{value:"internal_meeting",children:"Reuni\xe3o Interna"}),(0,l.jsx)("option",{value:"recording",children:"Grava\xe7\xe3o"}),(0,l.jsx)("option",{value:"deadline",children:"Prazo"})]})})]})}),(0,l.jsx)(a.aY,{children:0===R.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(o.Z,{className:"w-12 h-12 text-valle-silver-400 mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-valle-silver-600",children:"Nenhum evento hoje"})]}):(0,l.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,l.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(C(e.event_type).replace("bg-","border-")," bg-valle-silver-50 hover:shadow-md transition-all"),children:(0,l.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-valle-navy-900",children:e.title}),(0,l.jsx)(i.C,{className:"".concat(C(e.event_type)," text-white text-xs"),children:Z(e.event_type)})]}),e.description&&(0,l.jsx)("p",{className:"text-sm text-valle-silver-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-valle-silver-600",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(u.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[I(e.start_datetime)," - ",I(e.end_datetime)]})]}),e.location&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.location})]}),e.meeting_link&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(m.Z,{className:"w-4 h-4"}),(0,l.jsx)("a",{href:e.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"text-valle-blue-600 hover:underline",children:"Link da reuni\xe3o"})]}),e.participants&&e.participants.length>0&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(v.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[e.participants.length," participantes"]})]})]})]})})},e.id))})})]}),(0,l.jsxs)(a.Zb,{className:"border-2 border-valle-silver-200",children:[(0,l.jsx)(a.Ol,{children:(0,l.jsx)(a.ll,{className:"text-valle-navy-900",children:"Pr\xf3ximos Eventos"})}),(0,l.jsx)(a.aY,{children:(0,l.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:0===E.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(o.Z,{className:"w-8 h-8 text-valle-silver-400 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-valle-silver-600",children:"Nenhum evento futuro"})]}):E.map(e=>(0,l.jsx)("div",{className:"p-3 bg-valle-silver-50 rounded-lg hover:bg-valle-blue-50 transition-colors border border-valle-silver-200",children:(0,l.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-valle-blue-500 to-valle-blue-700 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-col",children:[(0,l.jsx)("span",{children:new Date(e.start_datetime).getDate()}),(0,l.jsx)("span",{className:"text-[10px] opacity-80",children:new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(new Date(e.start_datetime)).toUpperCase()})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h4",{className:"font-medium text-sm text-valle-navy-900 mb-1 truncate",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-valle-silver-600",children:[(0,l.jsx)(u.Z,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:I(e.start_datetime)})]}),(0,l.jsx)(i.C,{className:"".concat(C(e.event_type)," text-white text-xs mt-1"),children:Z(e.event_type)})]})]})},e.id))})})]})]}),(0,l.jsxs)(a.Zb,{className:"border-2 border-valle-silver-200",children:[(0,l.jsx)(a.Ol,{children:(0,l.jsx)(a.ll,{className:"text-valle-navy-900",children:"Estat\xedsticas do M\xeas"})}),(0,l.jsx)(a.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:e.length}),(0,l.jsx)("p",{className:"text-sm text-valle-silver-600",children:"Total de Eventos"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-green-700",children:e.filter(e=>"client_meeting"===e.event_type).length}),(0,l.jsx)("p",{className:"text-sm text-valle-silver-600",children:"Reuni\xf5es com Clientes"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:e.filter(e=>"internal_meeting"===e.event_type).length}),(0,l.jsx)("p",{className:"text-sm text-valle-silver-600",children:"Reuni\xf5es Internas"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-red-700",children:e.filter(e=>"recording"===e.event_type).length}),(0,l.jsx)("p",{className:"text-sm text-valle-silver-600",children:"Grava\xe7\xf5es"})]})]})})]})]})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var l=r(57437);r(2265);var s=r(90535),a=r(93448);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,l.jsx)("div",{className:(0,a.cn)(n({variant:r}),t),...s})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var l=r(57437),s=r(2265),a=r(90535),n=r(93448);let i=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,...c}=e;return(0,l.jsx)("button",{className:(0,n.cn)(i({variant:s,size:a,className:r})),ref:t,...c})});c.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var l=r(57437),s=r(2265),a=r(93448);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight text-lg",r),...s})});c.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-foreground/70",r),...s})});d.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},5526:function(e,t,r){"use strict";r.r(t),r.d(t,{supabase:function(){return n}});var l=r(62724);let s="https://ikjgsqtykkhqimypacro.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";s&&a||console.error("‚ùå ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let n=(0,l.eI)(s||"https://setup-missing.supabase.co",a||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a},x:function(){return n}});var l=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,l.W)(t))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var l=r(61994);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=l.W,n=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:i}=t,c=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],l=null==i?void 0:i[e];if(null===t)return null;let a=s(t)||s(l);return n[e][a]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return a(e,c,null==t?void 0:null===(l=t.compoundVariants)||void 0===l?void 0:l.reduce((e,t)=>{let{class:r,className:l,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...d}[t]):({...i,...d})[t]===r})?[...e,r,l]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[6137,4609,2724,2971,2117,1744],function(){return e(e.s=99328)}),_N_E=e.O()}]);