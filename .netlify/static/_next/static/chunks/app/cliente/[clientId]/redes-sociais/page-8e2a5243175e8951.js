(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8918],{80163:function(e,t,r){Promise.resolve().then(r.bind(r,83405))},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},5005:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},31047:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92934:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},99388:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},48736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},56475:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},53113:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99801:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},33245:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},29985:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53417:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},58896:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},95805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},83405:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(57437),n=r(2265),c=r(99376),o=r(26892),s=r(14438),i=r(37760),l=r(79219),d=r(50598),u=r(74767),m=r(42351),y=r(29985),h=r(82431),p=r(88906),x=r(51817),f=r(92934),k=r(91879),v=r(33842);let g=[{id:"instagram",name:"Instagram",icon:i.Z,color:"#E4405F"},{id:"facebook",name:"Facebook",icon:l.Z,color:"#1877F2"},{id:"linkedin",name:"LinkedIn",icon:d.Z,color:"#0A66C2"},{id:"youtube",name:"YouTube",icon:u.Z,color:"#FF0000"},{id:"twitter",name:"Twitter/X",icon:m.Z,color:"#000000"}];function b(){var e;let t=(0,c.useParams)(),r=(0,c.useSearchParams)(),i=t.clientId,[l,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)([]),[b,j]=(0,n.useState)({open:!1,connection:null}),[Z,w]=(0,n.useState)(!1),[N,C]=(0,n.useState)("");(0,n.useEffect)(()=>{M();let e=r.get("success"),t=r.get("error"),a=r.get("connected");"true"===e?s.Am.success("".concat(a||1," conta(s) conectada(s) com sucesso!")):t&&s.Am.error(decodeURIComponent(t))},[i,r]);let M=async()=>{d(!0);try{let e=await fetch("/api/client/".concat(i,"/social-connections")),t=await e.json();if(e.ok)m(t.connections||[]);else throw Error(t.error||"Erro ao carregar conex\xf5es")}catch(e){console.error("Erro ao carregar conex\xf5es:",e),s.Am.error(e.message||"Erro ao carregar conex\xf5es")}finally{d(!1)}},A=e=>{"instagram"===e||"facebook"===e?window.location.href="/api/oauth/meta/authorize?client_id=".concat(i):"linkedin"===e?window.location.href="/api/oauth/linkedin/authorize?client_id=".concat(i):s.Am.info("Conex\xe3o com ".concat(e," em breve!"))},z=async()=>{if(b.connection){w(!0);try{let e=b.connection.platform,t=await fetch("linkedin"===e?"/api/oauth/linkedin/revoke":"/api/oauth/meta/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:b.connection.id,reason:N||"Desconectado pelo usu\xe1rio"})}),r=await t.json();if(t.ok)s.Am.success("Conta desconectada com sucesso"),j({open:!1,connection:null}),C(""),M();else throw Error(r.error||"Erro ao desconectar")}catch(e){s.Am.error(e.message||"Erro ao desconectar")}finally{w(!1)}}},E=e=>u.find(t=>t.platform===e&&t.is_active),_=e=>{if(!e)return!1;let t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/864e5<7};return(0,a.jsx)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--primary-50)"},children:(0,a.jsx)(y.Z,{className:"w-7 h-7",style:{color:"var(--primary-500)"}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Redes Sociais"}),(0,a.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Conecte suas contas para publica\xe7\xe3o autom\xe1tica"})]})]}),(0,a.jsxs)("button",{onClick:M,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 ".concat(l?"animate-spin":"")}),"Atualizar"]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl border flex items-start gap-3",style:{backgroundColor:"var(--primary-50)",borderColor:"var(--primary-200)"},children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 mt-0.5",style:{color:"var(--primary-600)"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",style:{color:"var(--primary-700)"},children:"Conex\xe3o segura via OAuth"}),(0,a.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--primary-600)"},children:"Suas credenciais nunca s\xe3o armazenadas. Usamos autentica\xe7\xe3o oficial de cada plataforma e voc\xea pode revogar o acesso a qualquer momento."})]})]}),l?(0,a.jsxs)("div",{className:"p-8 rounded-2xl border text-center",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 mx-auto animate-spin",style:{color:"var(--primary-500)"}}),(0,a.jsx)("p",{className:"mt-3",style:{color:"var(--text-secondary)"},children:"Carregando conex\xf5es..."})]}):(0,a.jsx)("div",{className:"space-y-4",children:g.map(e=>{let t=e.icon,r=E(e.id),n=!!r,c=r&&_(r.token_expires_at);return(0,a.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-5",style:{backgroundColor:"var(--bg-primary)",borderColor:n?"var(--success-200)":"var(--border-light)"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"".concat(e.color,"15")},children:(0,a.jsx)(t,{className:"w-6 h-6",style:{color:e.color}})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.name}),n&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:c?"var(--warning-100)":"var(--success-100)",color:c?"var(--warning-700)":"var(--success-700)"},children:[(0,a.jsx)(f.Z,{className:"w-3 h-3"}),c?"Token expirando":"Conectado"]})]}),n&&r&&(0,a.jsxs)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[r.account_name," â€¢ Conectado em"," ",new Date(r.connected_at).toLocaleDateString("pt-BR")]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:n?(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsxs)("button",{onClick:()=>A(e.id),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium",style:{backgroundColor:"var(--warning-100)",color:"var(--warning-700)"},children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),"Reconectar"]}),(0,a.jsxs)("button",{onClick:()=>j({open:!0,connection:r}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--error-600)"},children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Desconectar"]})]}):(0,a.jsxs)("button",{onClick:()=>A(e.id),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-white",style:{backgroundColor:e.color},children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Conectar"]})})]})},e.id)})}),(0,a.jsx)(v.do,{isOpen:b.open,onClose:()=>{Z||(j({open:!1,connection:null}),C(""))},onConfirm:z,title:"Desconectar conta",message:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{children:["Tem certeza que deseja desconectar"," ",(0,a.jsx)("strong",{children:null===(e=b.connection)||void 0===e?void 0:e.account_name}),"?"]}),(0,a.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"Voc\xea n\xe3o poder\xe1 mais publicar nesta conta at\xe9 conect\xe1-la novamente."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Motivo (opcional)"}),(0,a.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Ex: Mudan\xe7a de conta, teste...",className:"w-full px-3 py-2 rounded-lg border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]}),confirmText:"Desconectar",cancelText:"Cancelar",variant:"danger",loading:Z})]})})}}},function(e){e.O(0,[2882,4438,2757,3842,2971,2117,1744],function(){return e(e.s=80163)}),_N_E=e.O()}]);