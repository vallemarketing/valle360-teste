(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6564],{58957:function(e,t,a){Promise.resolve().then(a.bind(a,91474))},94766:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},5005:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},98420:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48736:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},56475:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},53113:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99801:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},53417:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82431:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},73247:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},82023:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},58896:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},27648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(72972),s=a.n(r)},91474:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(57437),s=a(2265),o=a(27648),i=a(98420),n=a(82431),c=a(73247),l=a(82023),d=a(35367);function u(){let[e,t]=(0,s.useState)([]),[a,u]=(0,s.useState)(!0),[m,p]=(0,s.useState)(""),[x,y]=(0,s.useState)(null),[h,v]=(0,s.useState)(null),[f,g]=(0,s.useState)(!1),[b,j]=(0,s.useState)("ecommerce"),[N,k]=(0,s.useState)(""),[w,C]=(0,s.useState)(""),[Z,M]=(0,s.useState)(10),S=async()=>{u(!0),y(null);try{let e=await fetch("/api/prospecting"),a=await e.json().catch(()=>null);if(!e.ok||!(null==a?void 0:a.success))throw Error((null==a?void 0:a.error)||"Falha ao carregar leads");t(a.data||[]),v((null==a?void 0:a.note)?String(a.note):null)}catch(e){y(e instanceof Error?e.message:"Falha ao carregar"),v(null),t([])}finally{u(!1)}},E=async()=>{let e=b.trim();if(e){g(!0),y(null),v(null);try{let t=await fetch("/api/prospecting",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"search",segment:e,location:N.trim()||void 0,keywords:w.trim()||void 0,limit:Z})}),a=await t.json().catch(()=>null);if(!t.ok||!(null==a?void 0:a.success))throw Error((null==a?void 0:a.error)||"Falha ao buscar leads");v("Busca conclu\xedda: encontrados ".concat(Number((null==a?void 0:a.found)||0),", criados ").concat(Number((null==a?void 0:a.created)||0),", atualizados ").concat(Number((null==a?void 0:a.updated)||0),".")+((null==a?void 0:a.note)?" ".concat(String(a.note)):"")),await S()}catch(e){y(e instanceof Error?e.message:"Falha ao buscar leads")}finally{g(!1)}}};(0,s.useEffect)(()=>{S()},[]);let _=(0,s.useMemo)(()=>{let t=m.trim().toLowerCase();return t?(e||[]).filter(e=>[e.company_name,e.segment,e.status,e.source].filter(Boolean).join(" ").toLowerCase().includes(t)):e},[e,m]);return(0,r.jsx)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#1672d6] to-[#001533] flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:"Prospec\xe7\xe3o"}),(0,r.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Sem mocks: este painel s\xf3 exibe leads reais salvos em ",(0,r.jsx)("code",{children:"prospecting_leads"}),"."]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.default,{href:"/admin/integracoes/n8n",className:"px-4 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:"Conectar N8N/CRM"}),(0,r.jsxs)("button",{onClick:S,className:"px-4 py-2 rounded-xl border text-sm flex items-center gap-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[(0,r.jsx)(n.Z,{className:a?"w-4 h-4 animate-spin":"w-4 h-4"}),"Atualizar"]})]})]}),(0,r.jsxs)("div",{className:"rounded-2xl border p-4 flex items-center gap-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsx)(c.Z,{className:"w-4 h-4",style:{color:"var(--text-tertiary)"}}),(0,r.jsx)("input",{value:m,onChange:e=>p(e.target.value),placeholder:"Buscar leads…",className:"w-full bg-transparent outline-none text-sm",style:{color:"var(--text-primary)"}})]}),(0,r.jsxs)("div",{className:"rounded-2xl border p-4 space-y-3",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Buscar leads (sem mock)"}),(0,r.jsxs)("button",{onClick:E,disabled:f||!b.trim(),className:"px-4 py-2 rounded-xl border text-sm flex items-center gap-2 disabled:opacity-60",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},title:b.trim()?void 0:"Informe o segmento",children:[(0,r.jsx)(l.Z,{className:f?"w-4 h-4 animate-spin":"w-4 h-4"}),f?"Buscando…":"Buscar agora"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("div",{className:"text-xs mb-1",style:{color:"var(--text-tertiary)"},children:"Segmento *"}),(0,r.jsx)("input",{value:b,onChange:e=>j(e.target.value),placeholder:"ecommerce, clinica, restaurante…",className:"w-full px-3 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("div",{className:"text-xs mb-1",style:{color:"var(--text-tertiary)"},children:"Local (opcional)"}),(0,r.jsx)("input",{value:N,onChange:e=>k(e.target.value),placeholder:"SP, S\xe3o Paulo…",className:"w-full px-3 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("div",{className:"text-xs mb-1",style:{color:"var(--text-tertiary)"},children:"Keywords (opcional)"}),(0,r.jsx)("input",{value:w,onChange:e=>C(e.target.value),placeholder:"contato, or\xe7amento, site…",className:"w-full px-3 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("div",{className:"text-xs mb-1",style:{color:"var(--text-tertiary)"},children:"Limite"}),(0,r.jsx)("input",{value:String(Z),onChange:e=>M(Math.max(1,Math.min(20,Number(e.target.value||10)))),type:"number",min:1,max:20,className:"w-full px-3 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]}),h?(0,r.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:h}):null]}),(0,r.jsx)("div",{className:"rounded-2xl border overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:a?(0,r.jsx)("div",{className:"p-6 text-sm",style:{color:"var(--text-secondary)"},children:"Carregando…"}):x?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)(d.ub,{type:"default",title:"Falha ao carregar",description:x,animated:!1,action:{label:"Tentar novamente",onClick:S}})}):0===_.length?(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)(d.ub,{type:"default",title:"Nenhum lead ainda",description:"A prospec\xe7\xe3o autom\xe1tica n\xe3o cria mais leads falsos. Para gerar leads, conecte um provedor (N8N/CRM/Tavily) e grave em prospecting_leads.",animated:!1,action:{label:"Ir para Integra\xe7\xf5es (N8N)",onClick:()=>window.location.href="/admin/integracoes/n8n"}})}):(0,r.jsx)("div",{className:"divide-y",style:{borderColor:"var(--border-light)"},children:_.map(e=>(0,r.jsxs)("div",{className:"p-4 flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:e.company_name}),(0,r.jsxs)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:[e.segment?"segmento: ".concat(e.segment):"segmento: -"," • ",e.source?"fonte: ".concat(e.source):"fonte: -"," •"," ",e.created_at?"criado: ".concat(String(e.created_at).slice(0,10)):"criado: -"]})]}),(0,r.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["score: ","number"==typeof e.qualification_score?e.qualification_score:"-"," • status: ",e.status||"-"]})]},e.id))})})]})})}},35367:function(e,t,a){"use strict";a.d(t,{ub:function(){return g}});var r=a(57437);a(2265);var s=a(26892),o=a(99801),i=a(73247),n=a(48736),c=a(95805),l=a(31047),d=a(53417),u=a(94766),m=a(58896),p=a(5005),x=a(53113),y=a(56475),h=a(99397);let v={default:{icon:(0,r.jsx)(o.Z,{className:"w-12 h-12"}),title:"Nada por aqui",description:"N\xe3o h\xe1 itens para exibir no momento."},search:{icon:(0,r.jsx)(i.Z,{className:"w-12 h-12"}),title:"Nenhum resultado",description:"N\xe3o encontramos nada com esses termos. Tente buscar de outra forma."},documents:{icon:(0,r.jsx)(n.Z,{className:"w-12 h-12"}),title:"Sem documentos",description:"Voc\xea ainda n\xe3o tem documentos. Comece criando um novo."},users:{icon:(0,r.jsx)(c.Z,{className:"w-12 h-12"}),title:"Nenhum usu\xe1rio",description:"N\xe3o h\xe1 usu\xe1rios cadastrados ainda."},calendar:{icon:(0,r.jsx)(l.Z,{className:"w-12 h-12"}),title:"Agenda vazia",description:"Voc\xea n\xe3o tem eventos agendados para este per\xedodo."},messages:{icon:(0,r.jsx)(d.Z,{className:"w-12 h-12"}),title:"Sem mensagens",description:"Sua caixa de entrada est\xe1 vazia. Que tal iniciar uma conversa?"},notifications:{icon:(0,r.jsx)(u.Z,{className:"w-12 h-12"}),title:"Tudo em dia!",description:"Voc\xea n\xe3o tem notifica\xe7\xf5es pendentes."},tasks:{icon:(0,r.jsx)(m.Z,{className:"w-12 h-12"}),title:"Sem tarefas",description:"Voc\xea n\xe3o tem tarefas pendentes. Aproveite para descansar! \uD83C\uDF89"},projects:{icon:(0,r.jsx)(p.Z,{className:"w-12 h-12"}),title:"Sem projetos",description:"Voc\xea ainda n\xe3o tem projetos. Crie um para come\xe7ar."},images:{icon:(0,r.jsx)(x.Z,{className:"w-12 h-12"}),title:"Sem imagens",description:"Nenhuma imagem foi adicionada ainda."},folder:{icon:(0,r.jsx)(y.Z,{className:"w-12 h-12"}),title:"Pasta vazia",description:"Esta pasta n\xe3o cont\xe9m arquivos."}},f={sm:{container:"py-8",icon:"w-10 h-10",title:"text-base",description:"text-sm"},md:{container:"py-12",icon:"w-12 h-12",title:"text-lg",description:"text-sm"},lg:{container:"py-16",icon:"w-16 h-16",title:"text-xl",description:"text-base"}};function g(e){let{type:t="default",title:a,description:o,icon:i,action:n,secondaryAction:c,size:l="md",animated:d=!0}=e,u=v[t],m=f[l],p=d?s.E.div:"div";return(0,r.jsxs)(p,{...d?{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4}}:{},className:"flex flex-col items-center justify-center text-center ".concat(m.container),children:[(0,r.jsx)(s.E.div,{initial:d?{scale:.8,opacity:0}:void 0,animate:d?{scale:1,opacity:1}:void 0,transition:{delay:.1,type:"spring",stiffness:200},className:"mb-4",children:(0,r.jsx)("div",{className:"".concat(m.icon," mx-auto opacity-30"),style:{color:"var(--text-tertiary)"},children:i||u.icon})}),(0,r.jsx)(s.E.h3,{initial:d?{opacity:0,y:10}:void 0,animate:d?{opacity:1,y:0}:void 0,transition:{delay:.2},className:"font-semibold mb-2 ".concat(m.title),style:{color:"var(--text-primary)"},children:a||u.title}),(0,r.jsx)(s.E.p,{initial:d?{opacity:0,y:10}:void 0,animate:d?{opacity:1,y:0}:void 0,transition:{delay:.3},className:"max-w-sm mx-auto mb-6 ".concat(m.description),style:{color:"var(--text-secondary)"},children:o||u.description}),(n||c)&&(0,r.jsxs)(s.E.div,{initial:d?{opacity:0,y:10}:void 0,animate:d?{opacity:1,y:0}:void 0,transition:{delay:.4},className:"flex items-center gap-3",children:[n&&(0,r.jsxs)("button",{onClick:n.onClick,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-white transition-colors",style:{backgroundColor:"var(--primary-500)"},children:[n.icon||(0,r.jsx)(h.Z,{className:"w-4 h-4"}),n.label]}),c&&(0,r.jsx)("button",{onClick:c.onClick,className:"px-4 py-2 rounded-xl font-medium transition-colors",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:c.label})]})]})}}},function(e){e.O(0,[2882,2972,2971,2117,1744],function(){return e(e.s=58957)}),_N_E=e.O()}]);