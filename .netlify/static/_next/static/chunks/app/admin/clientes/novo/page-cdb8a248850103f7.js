(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3299],{15861:function(e,a,s){Promise.resolve().then(s.bind(s,8951))},79205:function(e,a,s){"use strict";s.d(a,{Z:function(){return u}});var o=s(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase()),n=e=>{let a=r(e);return a.charAt(0).toUpperCase()+a.slice(1)},i=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()},t=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,o.forwardRef)((e,a)=>{let{color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:m,...p}=e;return(0,o.createElement)("svg",{ref:a,...c,width:l,height:l,stroke:s,strokeWidth:n?24*Number(r)/Number(l):r,className:i("lucide",d),...!u&&!t(p)&&{"aria-hidden":"true"},...p},[...m.map(e=>{let[a,s]=e;return(0,o.createElement)(a,s)}),...Array.isArray(u)?u:[u]])}),u=(e,a)=>{let s=(0,o.forwardRef)((s,r)=>{let{className:t,...c}=s;return(0,o.createElement)(d,{ref:r,iconNode:a,className:i("lucide-".concat(l(n(e))),"lucide-".concat(e),t),...c})});return s.displayName=n(e),s}},32660:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},95252:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},37760:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},83774:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},44743:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},92369:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},95805:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});let o=(0,s(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},99376:function(e,a,s){"use strict";var o=s(35475);s.o(o,"useParams")&&s.d(a,{useParams:function(){return o.useParams}}),s.o(o,"usePathname")&&s.d(a,{usePathname:function(){return o.usePathname}}),s.o(o,"useRouter")&&s.d(a,{useRouter:function(){return o.useRouter}}),s.o(o,"useSearchParams")&&s.d(a,{useSearchParams:function(){return o.useSearchParams}})},8951:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return f}});var o=s(57437),l=s(2265),r=s(99376),n=s(5526),i=s(32660),t=s(92369),c=s(95805),d=s(83774),u=s(37760),m=s(95252),p=s(44743),x=s(79820),g=s(14438);function f(){let e=(0,r.useRouter)(),[a,s]=(0,l.useState)(!1),[f,b]=(0,l.useState)(1),[h,v]=(0,l.useState)({nome:"",nome_fantasia:"",razao_social:"",tipo_pessoa:"juridica",cpf_cnpj:"",data_nascimento:"",email:"",telefone:"",whatsapp:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",socio_nome:"",socio_cpf:"",socio_email:"",socio_telefone:"",socio_estado_civil:"",socio_conjuge_nome:"",socio_filiacao_mae:"",socio_filiacao_pai:"",socio_cep:"",socio_logradouro:"",socio_numero:"",socio_complemento:"",socio_bairro:"",socio_cidade:"",socio_estado:"",profissao:"",area_atuacao:"",site:"",numero_funcionarios:"",faturamento_estimado:"",instagram:"",facebook:"",tiktok:"",linkedin:"",youtube:"",concorrentes:"",plano_id:"",servicos_contratados:[],valor_mensal:"",dia_vencimento:"",data_inicio:"",responsavel_comercial_id:"",origem_lead:"",observacoes:"",tags:[],logo_url:""}),j=(e,a)=>{v(s=>({...s,[e]:a}))},y=e=>{v(a=>({...a,servicos_contratados:a.servicos_contratados.includes(e)?a.servicos_contratados.filter(a=>a!==e):[...a.servicos_contratados,e]}))},N=async e=>{if(8===e.length)try{let a=await fetch("https://viacep.com.br/ws/".concat(e,"/json/")),s=await a.json();s.erro||(j("logradouro",s.logradouro),j("bairro",s.bairro),j("cidade",s.localidade),j("estado",s.uf))}catch(e){console.error("Erro ao buscar CEP:",e)}},_=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$",a="Valle@";for(let s=0;s<6;s++)a+=e.charAt(Math.floor(Math.random()*e.length));return a},w=async(e,a,s)=>{let o="\n      Ol\xe1 ".concat(h.nome,",\n      \n      \xc9 com enorme satisfa\xe7\xe3o que damos as boas-vindas \xe0 Valle 360! \uD83D\uDE80\n      \n      Voc\xea est\xe1 prestes a ter acesso ao portal de marketing mais avan\xe7ado e inteligente \n      do Brasil, onde tecnologia e criatividade se encontram para transformar sua \n      marca em refer\xeancia no mercado.\n      \n      \uD83D\uDD10 Seus Dados de Acesso:\n         Email: ").concat(a,"\n         Senha Provis\xf3ria: ").concat(s,"\n         Link: ").concat(window.location.origin,"/login\n         \n      ⏰ Importante: Por seguran\xe7a, voc\xea ser\xe1 solicitado a alterar sua senha no \n      primeiro acesso.\n      \n      Bem-vindo \xe0 fam\xedlia Valle 360! \uD83C\uDF8A\n    ");try{let e=await fetch("/api/send-welcome-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailPessoal:a,emailCorporativo:a,nome:h.nome,senha:s,tipo:"cliente",mode:"manual"})}),o=await e.json().catch(()=>null);if((null==o?void 0:o.mailtoUrl)&&!window.open(o.mailtoUrl,"_blank")){let e=await fetch("/api/send-welcome-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailPessoal:a,emailCorporativo:a,nome:h.nome,senha:s,tipo:"cliente",mode:"auto"})});await e.json().catch(()=>null)}}catch(e){console.error("Erro ao enviar email:",e)}await n.supabase.from("email_logs").insert({recipient_email:a,subject:"\uD83C\uDF89 Bem-vindo ao Valle 360!",content:o,type:"welcome_client",related_entity_id:e}),h.whatsapp&&await n.supabase.from("whatsapp_logs").insert({recipient_phone:h.whatsapp,message:"\uD83C\uDF89 Bem-vindo \xe0 Valle 360!\n\n\uD83D\uDCE7 Email: ".concat(a,"\n\uD83D\uDD11 Senha: ").concat(s,"\n\uD83D\uDD17 ").concat(window.location.origin,"/login"),type:"welcome_client",related_entity_id:e})},k=async a=>{a.preventDefault(),s(!0);try{let a=_(),s=h.cep||h.logradouro||h.cidade?{cep:h.cep,logradouro:h.logradouro,numero:h.numero,complemento:h.complemento,bairro:h.bairro,cidade:h.cidade,estado:h.estado}:null,l=await fetch("/api/admin/create-client",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,password:a,full_name:h.nome,phone:h.telefone,whatsapp:h.whatsapp,company_name:h.nome_fantasia||h.razao_social||h.nome,nome_fantasia:h.nome_fantasia,razao_social:h.razao_social,tipo_pessoa:h.tipo_pessoa,cpf_cnpj:h.cpf_cnpj,data_nascimento:h.data_nascimento||null,industry:h.area_atuacao||null,segment:h.area_atuacao||null,website:h.site||null,address:s,concorrentes:h.concorrentes||null,competitors:(h.concorrentes||"").split(/[\n,;]+/g).map(e=>e.trim()).filter(Boolean),monthly_value:h.valor_mensal?parseFloat(h.valor_mensal):0,plan_id:h.plano_id||null,servicos_contratados:h.servicos_contratados,dia_vencimento:h.dia_vencimento?parseInt(h.dia_vencimento):null,data_inicio:h.data_inicio||null})}),r=await l.json().catch(()=>null);if(!l.ok)throw Error((null==r?void 0:r.error)||"Falha ao criar cliente");let i=null==r?void 0:r.client,t=null==r?void 0:r.user_id;try{var o;await n.supabase.from("user_access_logs").insert({user_id:t,action:"client_created",action_details:{created_by:null===(o=(await n.supabase.auth.getUser()).data.user)||void 0===o?void 0:o.id,origin:"admin_panel"}})}catch(e){}await w(i.id,h.email,a),e.push("/admin/clientes?success=cliente_criado")}catch(e){console.error("Erro ao criar cliente:",e),g.Am.error("Erro ao criar cliente: "+((null==e?void 0:e.message)||"Erro desconhecido"))}finally{s(!1)}};return(0,o.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,o.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,o.jsx)(i.Z,{className:"w-5 h-5"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold",children:"Novo Cliente"}),(0,o.jsx)("p",{className:"text-gray-600 mt-1",children:"Cadastre um novo cliente no sistema"})]})]})}),(0,o.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,o.jsx)("div",{className:"flex items-center gap-4",children:[1,2,3,4].map(e=>(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ".concat(f>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:e}),e<4&&(0,o.jsx)("div",{className:"w-16 h-1 ".concat(f>e?"bg-blue-600":"bg-gray-200")})]},e))})}),(0,o.jsxs)("form",{onSubmit:k,children:[1===f&&(0,o.jsxs)(x.Zb,{children:[(0,o.jsxs)(x.Ol,{children:[(0,o.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,o.jsx)(t.Z,{className:"w-5 h-5"}),"Dados Pessoais / Empresa"]}),(0,o.jsx)(x.SZ,{children:"Informa\xe7\xf5es b\xe1sicas do cliente"})]}),(0,o.jsxs)(x.aY,{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Pessoa"}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",value:"fisica",checked:"fisica"===h.tipo_pessoa,onChange:e=>j("tipo_pessoa",e.target.value),className:"w-4 h-4"}),(0,o.jsx)("span",{children:"Pessoa F\xedsica"})]}),(0,o.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",value:"juridica",checked:"juridica"===h.tipo_pessoa,onChange:e=>j("tipo_pessoa",e.target.value),className:"w-4 h-4"}),(0,o.jsx)("span",{children:"Pessoa Jur\xeddica"})]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fisica"===h.tipo_pessoa?"Nome Completo *":"Raz\xe3o Social *"}),(0,o.jsx)("input",{type:"text",value:"fisica"===h.tipo_pessoa?h.nome:h.razao_social,onChange:e=>j("fisica"===h.tipo_pessoa?"nome":"razao_social",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),"juridica"===h.tipo_pessoa&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nome Fantasia"}),(0,o.jsx)("input",{type:"text",value:h.nome_fantasia,onChange:e=>j("nome_fantasia",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fisica"===h.tipo_pessoa?"CPF *":"CNPJ *"}),(0,o.jsx)("input",{type:"text",value:h.cpf_cnpj,onChange:e=>j("cpf_cnpj",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"fisica"===h.tipo_pessoa?"000.000.000-00":"00.000.000/0000-00",required:!0})]}),"fisica"===h.tipo_pessoa&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Data de Nascimento"}),(0,o.jsx)("input",{type:"date",value:h.data_nascimento,onChange:e=>j("data_nascimento",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),(0,o.jsx)("input",{type:"email",value:h.email,onChange:e=>j("email",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Telefone *"}),(0,o.jsx)("input",{type:"tel",value:h.telefone,onChange:e=>j("telefone",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(00) 00000-0000",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"WhatsApp"}),(0,o.jsx)("input",{type:"tel",value:h.whatsapp,onChange:e=>j("whatsapp",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(00) 00000-0000"})]})]}),"juridica"===h.tipo_pessoa&&(0,o.jsxs)("div",{className:"pt-6 border-t space-y-4",children:[(0,o.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,o.jsx)(c.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Dados do S\xf3cio Respons\xe1vel"]}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Informa\xe7\xf5es necess\xe1rias para gera\xe7\xe3o do contrato"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nome Completo do S\xf3cio *"}),(0,o.jsx)("input",{type:"text",value:h.socio_nome,onChange:e=>j("socio_nome",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CPF do S\xf3cio *"}),(0,o.jsx)("input",{type:"text",value:h.socio_cpf,onChange:e=>j("socio_cpf",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email do S\xf3cio"}),(0,o.jsx)("input",{type:"email",value:h.socio_email,onChange:e=>j("socio_email",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Telefone do S\xf3cio"}),(0,o.jsx)("input",{type:"tel",value:h.socio_telefone,onChange:e=>j("socio_telefone",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Estado Civil *"}),(0,o.jsxs)("select",{value:h.socio_estado_civil,onChange:e=>j("socio_estado_civil",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,o.jsx)("option",{value:"",children:"Selecione..."}),(0,o.jsx)("option",{value:"solteiro",children:"Solteiro(a)"}),(0,o.jsx)("option",{value:"casado",children:"Casado(a)"}),(0,o.jsx)("option",{value:"divorciado",children:"Divorciado(a)"}),(0,o.jsx)("option",{value:"viuvo",children:"Vi\xfavo(a)"}),(0,o.jsx)("option",{value:"uniao_estavel",children:"Uni\xe3o Est\xe1vel"})]})]}),("casado"===h.socio_estado_civil||"uniao_estavel"===h.socio_estado_civil)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nome do C\xf4njuge"}),(0,o.jsx)("input",{type:"text",value:h.socio_conjuge_nome,onChange:e=>j("socio_conjuge_nome",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Filia\xe7\xe3o - Nome da M\xe3e"}),(0,o.jsx)("input",{type:"text",value:h.socio_filiacao_mae,onChange:e=>j("socio_filiacao_mae",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Filia\xe7\xe3o - Nome do Pai"}),(0,o.jsx)("input",{type:"text",value:h.socio_filiacao_pai,onChange:e=>j("socio_filiacao_pai",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,o.jsxs)("div",{className:"pt-4",children:[(0,o.jsx)("h4",{className:"font-medium mb-3",children:"Endere\xe7o do S\xf3cio"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CEP"}),(0,o.jsx)("input",{type:"text",value:h.socio_cep,onChange:e=>j("socio_cep",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Logradouro"}),(0,o.jsx)("input",{type:"text",value:h.socio_logradouro,onChange:e=>j("socio_logradouro",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"N\xfamero"}),(0,o.jsx)("input",{type:"text",value:h.socio_numero,onChange:e=>j("socio_numero",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bairro"}),(0,o.jsx)("input",{type:"text",value:h.socio_bairro,onChange:e=>j("socio_bairro",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cidade/Estado"}),(0,o.jsx)("input",{type:"text",value:h.socio_cidade,onChange:e=>j("socio_cidade",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"S\xe3o Paulo - SP"})]})]})]})]}),(0,o.jsx)("div",{className:"flex justify-end pt-6",children:(0,o.jsx)("button",{type:"button",onClick:()=>b(2),className:"px-6 py-3 bg-[#1672d6] text-white rounded-lg hover:bg-[#1260b5] transition-colors",children:"Pr\xf3ximo →"})})]})]}),2===f&&(0,o.jsxs)(x.Zb,{children:[(0,o.jsx)(x.Ol,{children:(0,o.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,o.jsx)(d.Z,{className:"w-5 h-5"}),"Endere\xe7o e Informa\xe7\xf5es Profissionais"]})}),(0,o.jsxs)(x.aY,{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CEP"}),(0,o.jsx)("input",{type:"text",value:h.cep,onChange:e=>{j("cep",e.target.value),8===e.target.value.replace(/\D/g,"").length&&N(e.target.value.replace(/\D/g,""))},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Logradouro"}),(0,o.jsx)("input",{type:"text",value:h.logradouro,onChange:e=>j("logradouro",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"N\xfamero"}),(0,o.jsx)("input",{type:"text",value:h.numero,onChange:e=>j("numero",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Complemento"}),(0,o.jsx)("input",{type:"text",value:h.complemento,onChange:e=>j("complemento",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bairro"}),(0,o.jsx)("input",{type:"text",value:h.bairro,onChange:e=>j("bairro",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cidade"}),(0,o.jsx)("input",{type:"text",value:h.cidade,onChange:e=>j("cidade",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Estado"}),(0,o.jsx)("input",{type:"text",value:h.estado,onChange:e=>j("estado",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2,placeholder:"SP"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-6 border-t",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Profiss\xe3o / \xc1rea de Atua\xe7\xe3o"}),(0,o.jsx)("input",{type:"text",value:h.area_atuacao,onChange:e=>j("area_atuacao",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: E-commerce, Restaurante, Servi\xe7os"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Site"}),(0,o.jsx)("input",{type:"url",value:h.site,onChange:e=>j("site",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"N\xfamero de Funcion\xe1rios"}),(0,o.jsx)("input",{type:"number",value:h.numero_funcionarios,onChange:e=>j("numero_funcionarios",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Faturamento Estimado (R$)"}),(0,o.jsx)("input",{type:"number",value:h.faturamento_estimado,onChange:e=>j("faturamento_estimado",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"50000"})]})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{type:"button",onClick:()=>b(1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"← Voltar"}),(0,o.jsx)("button",{type:"button",onClick:()=>b(3),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Pr\xf3ximo →"})]})]})]}),3===f&&(0,o.jsxs)(x.Zb,{children:[(0,o.jsx)(x.Ol,{children:(0,o.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,o.jsx)(u.Z,{className:"w-5 h-5"}),"Redes Sociais e Concorr\xeancia"]})}),(0,o.jsxs)(x.aY,{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Instagram"}),(0,o.jsx)("input",{type:"text",value:h.instagram,onChange:e=>j("instagram",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"@usuario"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Facebook"}),(0,o.jsx)("input",{type:"text",value:h.facebook,onChange:e=>j("facebook",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"facebook.com/pagina"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"TikTok"}),(0,o.jsx)("input",{type:"text",value:h.tiktok,onChange:e=>j("tiktok",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"@usuario"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"LinkedIn"}),(0,o.jsx)("input",{type:"text",value:h.linkedin,onChange:e=>j("linkedin",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"linkedin.com/company/empresa"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Principais Concorrentes"}),(0,o.jsx)("textarea",{value:h.concorrentes,onChange:e=>j("concorrentes",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 h-24",placeholder:"Liste os principais concorrentes (um por linha)"})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{type:"button",onClick:()=>b(2),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"← Voltar"}),(0,o.jsx)("button",{type:"button",onClick:()=>b(4),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Pr\xf3ximo →"})]})]})]}),4===f&&(0,o.jsxs)(x.Zb,{children:[(0,o.jsx)(x.Ol,{children:(0,o.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,o.jsx)(m.Z,{className:"w-5 h-5"}),"Plano e Servi\xe7os Contratados"]})}),(0,o.jsxs)(x.aY,{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Selecione o Plano"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{id:"1",nome:"B\xe1sico",valor:2500},{id:"2",nome:"Profissional",valor:4500},{id:"3",nome:"Premium",valor:7500},{id:"4",nome:"Enterprise",valor:12e3}].map(e=>(0,o.jsxs)("button",{type:"button",onClick:()=>{j("plano_id",e.id),j("valor_mensal",e.valor.toString())},className:"p-6 rounded-xl border-2 transition-all text-left ".concat(h.plano_id===e.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,o.jsx)("h3",{className:"font-bold text-lg mb-2",children:e.nome}),(0,o.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",e.valor.toLocaleString("pt-BR")]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"/m\xeas"})]},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Servi\xe7os Contratados"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"1",nome:"Gest\xe3o de Redes Sociais"},{id:"2",nome:"Tr\xe1fego Pago"},{id:"3",nome:"Cria\xe7\xe3o de Conte\xfado"},{id:"4",nome:"Design Gr\xe1fico"},{id:"5",nome:"Gest\xe3o TikTok"},{id:"6",nome:"Email Marketing"}].map(e=>(0,o.jsxs)("label",{className:"flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(h.servicos_contratados.includes(e.id)?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,o.jsx)("input",{type:"checkbox",checked:h.servicos_contratados.includes(e.id),onChange:()=>y(e.id),className:"w-5 h-5"}),(0,o.jsx)("span",{className:"font-medium",children:e.nome})]},e.id))})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valor Mensal (R$)"}),(0,o.jsx)("input",{type:"number",value:h.valor_mensal,onChange:e=>j("valor_mensal",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Dia de Vencimento"}),(0,o.jsx)("input",{type:"number",min:"1",max:"31",value:h.dia_vencimento,onChange:e=>j("dia_vencimento",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Data de In\xedcio"}),(0,o.jsx)("input",{type:"date",value:h.data_inicio,onChange:e=>j("data_inicio",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Observa\xe7\xf5es"}),(0,o.jsx)("textarea",{value:h.observacoes,onChange:e=>j("observacoes",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 h-24",placeholder:"Informa\xe7\xf5es adicionais sobre o cliente..."})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{type:"button",onClick:()=>b(3),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"← Voltar"}),(0,o.jsx)("button",{type:"submit",disabled:a,className:"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Criando..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{className:"w-5 h-5"}),"Criar Cliente e Enviar Acesso"]})})]})]})]})]})]})}},79820:function(e,a,s){"use strict";s.d(a,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return t}});var o=s(57437),l=s(2265),r=s(93448);let n=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",s),...l})});n.displayName="Card";let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let t=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("h3",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight text-lg",s),...l})});t.displayName="CardTitle";let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-foreground/70",s),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...l})});d.displayName="CardContent",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,o.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},5526:function(e,a,s){"use strict";s.r(a),s.d(a,{supabase:function(){return n}});var o=s(62724);let l="https://ikjgsqtykkhqimypacro.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";l&&r||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let n=(0,o.eI)(l||"https://setup-missing.supabase.co",r||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},93448:function(e,a,s){"use strict";s.d(a,{cn:function(){return r},x:function(){return n}});var o=s(61994),l=s(53335);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,l.m6)((0,o.W)(a))}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[6137,4609,2724,4438,2971,2117,1744],function(){return e(e.s=15861)}),_N_E=e.O()}]);