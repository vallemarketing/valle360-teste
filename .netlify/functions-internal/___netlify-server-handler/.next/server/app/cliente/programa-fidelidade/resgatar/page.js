(()=>{var e={};e.id=41062,e.ids=[41062],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},41610:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(35448),s(16193),s(49991),s(35866);var t=s(23191),r=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(a,l);let d=["",{children:["cliente",{children:["programa-fidelidade",{children:["resgatar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35448)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\programa-fidelidade\\resgatar\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,16193)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\programa-fidelidade\\resgatar\\page.tsx"],m="/cliente/programa-fidelidade/resgatar/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cliente/programa-fidelidade/resgatar/page",pathname:"/cliente/programa-fidelidade/resgatar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31882:(e,a,s)=>{Promise.resolve().then(s.bind(s,71813))},86333:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},26092:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},77506:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40765:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},3634:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},71813:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(10326),r=s(17577),i=s(28870),n=s(9086),o=s(98908),l=s(3634),d=s(40765),c=s(33734),m=s(1572);let p=(0,s(62881).Z)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);var x=s(26092),u=s(77506),g=s(86333),f=s(48998),h=s(32933),b=s(90434),y=s(91664),v=s(29752),j=s(38443),N=s(51223),w=s(85999),_=s(10294);let P=[{id:"1",name:"Consultoria de Marca (1h)",description:"Uma hora de consultoria exclusiva para alinhamento estrat\xe9gico da sua marca.",points_cost:500,category:"consultoria",stock:10,is_limited:!1},{id:"2",name:"Desconto 10% no Pr\xf3ximo M\xeas",description:"Cupom de 10% de desconto na pr\xf3xima fatura mensal.",points_cost:300,category:"desconto",stock:50,is_limited:!1},{id:"3",name:"Post Extra no Instagram",description:"Um post adicional no Instagram, fora do pacote contratado.",points_cost:150,category:"servico",stock:20,is_limited:!1},{id:"4",name:"Stories Destacados",description:"Cria\xe7\xe3o de 5 stories destacados para seu perfil.",points_cost:200,category:"servico",stock:15,is_limited:!1},{id:"5",name:"An\xe1lise de Concorrentes",description:"Relat\xf3rio detalhado analisando 3 concorrentes do seu setor.",points_cost:400,category:"consultoria",stock:5,is_limited:!0,expires_at:"2026-02-28"},{id:"6",name:"V\xeddeo Institucional (30s)",description:"Produ\xe7\xe3o de um v\xeddeo institucional curto para suas redes.",points_cost:800,category:"producao",stock:3,is_limited:!0,tier_required:"gold"},{id:"7",name:"Prioridade no Atendimento",description:"Atendimento priorit\xe1rio por 30 dias.",points_cost:250,category:"beneficio",stock:100,is_limited:!1},{id:"8",name:"Kit Valle Exclusivo",description:"Kit com camiseta, caneca e adesivos Valle.",points_cost:600,category:"brinde",stock:10,is_limited:!0,tier_required:"silver"}],k=[{id:"all",name:"Todos",icon:o.Z},{id:"servico",name:"Servi\xe7os",icon:l.Z},{id:"desconto",name:"Descontos",icon:d.Z},{id:"consultoria",name:"Consultoria",icon:c.Z},{id:"producao",name:"Produ\xe7\xe3o",icon:m.Z},{id:"brinde",name:"Brindes",icon:p},{id:"beneficio",name:"Benef\xedcios",icon:x.Z}];function C(){let[e,a]=(0,r.useState)(P),[s,l]=(0,r.useState)(null),[d,m]=(0,r.useState)("all"),[p,C]=(0,r.useState)(!0),[E,A]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),Z=async()=>{C(!0);try{let e=await fetch("/api/client/points"),s=await e.json();s.success&&l({total_points:s.total_points||0,available_points:s.available_points||s.total_points||0,level:s.level||"bronze"});let t=await fetch("/api/client/rewards"),r=await t.json();r.success&&r.rewards&&a(r.rewards)}catch(e){console.error("Erro ao carregar dados:",e)}finally{C(!1)}},S=async e=>{if(!s||s.available_points<e.points_cost){w.Am.error("Pontos insuficientes");return}A(e.id);try{let a=await fetch("/api/client/rewards/redeem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rewardId:e.id})}),s=await a.json();s.success?(w.Am.success("Recompensa resgatada com sucesso!",{description:"Voc\xea receber\xe1 instru\xe7\xf5es por email."}),R(null),Z()):w.Am.error(s.error||"Erro ao resgatar recompensa")}catch(e){console.error("Erro:",e),w.Am.error("Erro ao resgatar recompensa")}finally{A(null)}},T=e.filter(e=>"all"===d||e.category===d),z=e=>{if(!s||s.available_points<e.points_cost||e.stock<=0)return!1;if(e.tier_required){let a=(0,_.jr)(s.total_points),t=["bronze","silver","gold","platinum","diamond"];if(t.indexOf(a.currentLevel.id)<t.indexOf(e.tier_required))return!1}return!0},O=e=>{let a=k.find(a=>a.id===e);return a?.icon||o.Z};return p?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(u.Z,{className:"w-8 h-8 animate-spin text-primary"})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(b.default,{href:"/cliente/programa-fidelidade",children:t.jsx(y.z,{variant:"ghost",size:"icon",children:t.jsx(g.Z,{className:"w-5 h-5"})})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cat\xe1logo de Recompensas"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Troque seus pontos por benef\xedcios exclusivos"})]})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl px-6 py-3 shadow-lg border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(c.Z,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Seus pontos"}),t.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s?.available_points?.toLocaleString("pt-BR")||0})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:k.map(e=>(0,t.jsxs)("button",{onClick:()=>m(e.id),className:(0,N.cn)("flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all",d===e.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[t.jsx(e.icon,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:e.name})]},e.id))}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:T.map((e,a)=>{let s=O(e.category),r=z(e);return t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,t.jsxs)(v.Zb,{className:(0,N.cn)("overflow-hidden h-full flex flex-col transition-all",r?"hover:shadow-lg":"opacity-60"),children:[(0,t.jsxs)("div",{className:"h-32 bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center relative",children:[t.jsx(s,{className:"w-12 h-12 text-primary/50"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.is_limited&&(0,t.jsxs)(j.C,{variant:"danger",className:"text-xs",children:[t.jsx(f.Z,{className:"w-3 h-3 mr-1"}),"Limitado"]}),e.tier_required&&(0,t.jsxs)(j.C,{variant:"secondary",className:"text-xs capitalize",children:[t.jsx(x.Z,{className:"w-3 h-3 mr-1"}),e.tier_required,"+"]})]}),e.stock<10&&e.stock>0&&t.jsx("div",{className:"absolute bottom-2 left-2",children:(0,t.jsxs)(j.C,{variant:"outline",className:"text-xs bg-white/80",children:["Restam ",e.stock]})}),0===e.stock&&t.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold",children:"ESGOTADO"})})]}),(0,t.jsxs)(v.aY,{className:"flex-1 flex flex-col p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex-1",children:e.description}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-primary font-bold",children:[t.jsx(c.Z,{className:"w-4 h-4 fill-current"}),t.jsx("span",{children:e.points_cost.toLocaleString("pt-BR")})]}),t.jsx(y.z,{size:"sm",disabled:!r||E===e.id,onClick:()=>R(e),className:(0,N.cn)(r?"bg-primary hover:bg-primary/90":"bg-gray-300 cursor-not-allowed"),children:E===e.id?t.jsx(u.Z,{className:"w-4 h-4 animate-spin"}):"Resgatar"})]})]})]})},e.id)})}),0===T.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(o.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Nenhuma recompensa encontrada nesta categoria"})]}),t.jsx(n.M,{children:D&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>R(null),children:t.jsx(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-xl",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 mx-auto mb-4 flex items-center justify-center",children:t.jsx(o.Z,{className:"w-8 h-8 text-primary"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Confirmar Resgate"}),(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Deseja resgatar ",t.jsx("strong",{children:D.name})," por"," ",(0,t.jsxs)("strong",{className:"text-primary",children:[D.points_cost.toLocaleString("pt-BR")," pontos"]}),"?"]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-500",children:"Seus pontos atuais:"}),t.jsx("span",{className:"font-medium",children:s?.available_points?.toLocaleString("pt-BR")})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-gray-500",children:"Custo:"}),(0,t.jsxs)("span",{className:"font-medium text-red-500",children:["-",D.points_cost.toLocaleString("pt-BR")]})]}),(0,t.jsxs)("div",{className:"border-t pt-2 flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Ap\xf3s resgate:"}),t.jsx("span",{className:"font-bold text-primary",children:((s?.available_points||0)-D.points_cost).toLocaleString("pt-BR")})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(y.z,{variant:"outline",className:"flex-1",onClick:()=>R(null),children:"Cancelar"}),t.jsx(y.z,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>S(D),disabled:E===D.id,children:E===D.id?(0,t.jsxs)(t.Fragment,{children:[t.jsx(u.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Resgatando..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Confirmar"]})})]})]})})})})]})})}},38443:(e,a,s)=>{"use strict";s.d(a,{C:()=>o});var t=s(10326);s(17577);var r=s(79360),i=s(51223);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function o({className:e,variant:a,...s}){return t.jsx("div",{className:(0,i.cn)(n({variant:a}),e),...s})}},29752:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>l});var t=s(10326),r=s(17577),i=s(51223);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",e),...a}));n.displayName="Card";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight text-lg",e),...a}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-foreground/70",e),...a}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},10294:(e,a,s)=>{"use strict";s.d(a,{It:()=>n,eu:()=>o,jr:()=>l,oq:()=>r,zq:()=>t});let t=[{id:"bronze",name:"Bronze",minPoints:0,maxPoints:499,icon:"\uD83E\uDD49",color:"#CD7F32",bgGradient:"from-amber-600 to-amber-800",benefits:["Acesso ao painel b\xe1sico","Suporte por chat","Relat\xf3rios mensais"],badge:"/badges/bronze.svg"},{id:"silver",name:"Prata",minPoints:500,maxPoints:1999,icon:"\uD83E\uDD48",color:"#C0C0C0",bgGradient:"from-gray-400 to-gray-600",benefits:["Todos os benef\xedcios Bronze","Prioridade m\xe9dia no atendimento","Relat\xf3rios semanais","Acesso a templates exclusivos"],badge:"/badges/silver.svg"},{id:"gold",name:"Ouro",minPoints:2e3,maxPoints:4999,icon:"\uD83E\uDD47",color:"#FFD700",bgGradient:"from-yellow-400 to-amber-500",benefits:["Todos os benef\xedcios Prata","Prioridade alta no atendimento","Brindes exclusivos","Acesso antecipado a novidades","Consultoria mensal de 30min"],badge:"/badges/gold.svg"},{id:"platinum",name:"Platina",minPoints:5e3,maxPoints:14999,icon:"\uD83D\uDC8E",color:"#E5E4E2",bgGradient:"from-slate-300 to-slate-500",benefits:["Todos os benef\xedcios Ouro","10% de desconto em servi\xe7os extras","Gestor de conta dedicado","Consultoria semanal","Convites para eventos exclusivos"],badge:"/badges/platinum.svg"},{id:"diamond",name:"Diamante",minPoints:15e3,maxPoints:1/0,icon:"\uD83D\uDC51",color:"#B9F2FF",bgGradient:"from-cyan-300 to-blue-500",benefits:["Todos os benef\xedcios Platina","20% de desconto em servi\xe7os extras","Acesso VIP total","Linha direta com diretoria","Participa\xe7\xe3o em decis\xf5es de produto","Viagem exclusiva anual"],badge:"/badges/diamond.svg"}];function r(e){return t.find(a=>e>=a.minPoints&&e<=a.maxPoints)||t[0]}function i(e){let a=t.findIndex(a=>a.id===e.id);return a<t.length-1?t[a+1]:null}function n(e){let a=r(e),s=i(a);return s?{progress:Math.min(100,(e-a.minPoints)/(s.minPoints-a.minPoints)*100),pointsNeeded:s.minPoints-e,nextLevel:s}:{progress:100,pointsNeeded:0,nextLevel:null}}let o={APPROVE_POST:10,APPROVE_POST_FAST:20,COMPLETE_BRIEFING:50,FEEDBACK_DETAILED:30,REFERRAL:500,MONTHLY_ACTIVE:100,STREAK_7_DAYS:50,STREAK_30_DAYS:200,FIRST_APPROVAL:100,CONNECT_INSTAGRAM:150,COMPLETE_ONBOARDING:200};function l(e){let a=r(e),s=i(a),o=n(e);return{level:t.findIndex(e=>e.id===a.id)+1,tier:a.name,currentLevel:a,nextLevel:s,progress:o.progress,pointsNeeded:o.pointsNeeded,color:a.color,pointsForNext:s?s.minPoints:a.maxPoints,icon:a.icon,bgGradient:a.bgGradient}}},35448:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\cliente\programa-fidelidade\resgatar\page.tsx#default`)}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,62198,18832,14574,79925],()=>s(41610));module.exports=t})();