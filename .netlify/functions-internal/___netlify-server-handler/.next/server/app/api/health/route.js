"use strict";(()=>{var e={};e.id=28829,e.ids=[28829],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},87255:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>v,patchFetch:()=>y,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>I,staticGenerationAsyncStorage:()=>f});var a={};s.r(a),s.d(a,{GET:()=>c,HEAD:()=>h,dynamic:()=>l});var r=s(49303),n=s(88716),o=s(60670),i=s(87070),u=s(1926);let l="force-dynamic",p=Date.now();async function c(){let e={database:await m(),memory:function(){if("undefined"!=typeof process&&process.memoryUsage){let e=process.memoryUsage(),t=Math.round(e.heapUsed/1024/1024),s=Math.round(e.heapTotal/1024/1024),a=Math.round(e.heapUsed/e.heapTotal*100);return a>90?{status:"fail",message:`Memory critical: ${t}MB / ${s}MB (${a}%)`}:a>70?{status:"warn",message:`Memory high: ${t}MB / ${s}MB (${a}%)`}:{status:"pass",message:`${t}MB / ${s}MB (${a}%)`}}return{status:"pass"}}(),environment:function(){let e=["NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY"].filter(e=>!process.env[e]);if(e.length>0)return{status:"fail",message:`Missing env vars: ${e.join(", ")}`};let t=["OPENAI_API_KEY","STRIPE_SECRET_KEY","SENDGRID_API_KEY"].filter(e=>!process.env[e]);return t.length>0?{status:"warn",message:`Missing optional env vars: ${t.join(", ")}`}:{status:"pass"}}()},t=Object.values(e).every(e=>"pass"===e.status),s={status:Object.values(e).some(e=>"fail"===e.status)?"unhealthy":t?"healthy":"degraded",timestamp:new Date().toISOString(),version:process.env.npm_package_version||"1.0.0",uptime:Math.floor((Date.now()-p)/1e3),checks:e},a="healthy"===s.status?200:"degraded"===s.status?200:503;return i.NextResponse.json(s,{status:a,headers:{"Cache-Control":"no-store, max-age=0"}})}async function m(){let e=Date.now();try{let{error:t}=await u.O.from("employees").select("id").limit(1),s=Date.now()-e;if(t)return{status:"fail",responseTime:s,message:`Database error: ${t.message}`};if(s>1e3)return{status:"warn",responseTime:s,message:"Database response slow"};return{status:"pass",responseTime:s}}catch(t){return{status:"fail",responseTime:Date.now()-e,message:`Database connection failed: ${t.message}`}}}async function h(){try{let{error:e}=await u.O.from("employees").select("id").limit(1);if(e)return new Response(null,{status:503});return new Response(null,{status:200})}catch{return new Response(null,{status:503})}}let d=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\health\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:I}=d,v="/api/health/route";function y(){return(0,o.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:f})}},1926:(e,t,s)=>{s.d(t,{O:()=>o});var a=s(54128);let r="https://ikjgsqtykkhqimypacro.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";r&&n||console.error("âŒ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let o=(0,a.eI)(r||"https://setup-missing.supabase.co",n||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[89276,55972,54128],()=>s(87255));module.exports=a})();