(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8498],{56613:function(e,t,a){Promise.resolve().then(a.bind(a,70534))},96215:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},49322:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},82431:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},58896:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},85954:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},3085:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},76865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},70534:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(57437),s=a(2265),l=a(26892),i=a(79820),n=a(69174),d=a(12381),c=a(82431),o=a(58896),u=a(41671),m=a(76865),x=a(85954),h=a(49322),p=a(96215),v=a(70525),f=a(3085),g=a(93448);function b(){let[e,t]=(0,s.useState)([]),[a,b]=(0,s.useState)([]),[N,k]=(0,s.useState)(!0),[w,Z]=(0,s.useState)("30d"),[C,M]=(0,s.useState)("all");(0,s.useEffect)(()=>{T()},[w,C]);let T=async()=>{k(!0);try{let[e,a]=await Promise.all([fetch("/api/admin/sla/metrics?period=".concat(w,"&area=").concat(C)),fetch("/api/admin/sla/overdue?area=".concat(C))]);if(e.ok){let a=await e.json();t(a.metrics||[])}else t(y());if(a.ok){let e=await a.json();b(e.tasks||[])}else b(j())}catch(e){console.error("Failed to fetch SLA data:",e),t(y()),b(j())}finally{k(!1)}},O=e.length>0?e.reduce((e,t)=>e+t.compliance,0)/e.length:0,D=a.length,S=a.filter(e=>"urgent"===e.priority||e.daysOverdue>7).length,A=e=>e>=95?"text-emerald-600":e>=80?"text-amber-600":"text-red-600",E=e=>e>=95?"bg-emerald-500":e>=80?"bg-amber-500":"bg-red-500",L=e=>(0,r.jsx)(n.C,{variant:"outline",className:{low:"bg-gray-500/10 text-gray-600 border-gray-500/30",medium:"bg-blue-500/10 text-blue-600 border-blue-500/30",high:"bg-primary/10 text-primary border-primary/30",urgent:"bg-red-500/10 text-red-600 border-red-500/30"}[e],children:e});return(0,r.jsx)("div",{className:"min-h-screen bg-white dark:bg-[#0a0f1a] p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-[#001533] dark:text-white mb-2",children:"Dashboard de SLA"}),(0,r.jsx)("p",{className:"text-[#001533]/60 dark:text-white/60",children:"Monitore o cumprimento de prazos e entregas por \xe1rea"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("select",{value:w,onChange:e=>Z(e.target.value),className:"px-3 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] text-sm",children:[(0,r.jsx)("option",{value:"7d",children:"\xdaltimos 7 dias"}),(0,r.jsx)("option",{value:"30d",children:"\xdaltimos 30 dias"}),(0,r.jsx)("option",{value:"90d",children:"\xdaltimos 90 dias"})]}),(0,r.jsxs)("select",{value:C,onChange:e=>M(e.target.value),className:"px-3 py-2 rounded-lg border border-[#001533]/20 bg-white dark:bg-[#001533] text-sm",children:[(0,r.jsx)("option",{value:"all",children:"Todas as \xc1reas"}),(0,r.jsx)("option",{value:"social_media",children:"Social Media"}),(0,r.jsx)("option",{value:"design",children:"Design"}),(0,r.jsx)("option",{value:"trafego",children:"Tr\xe1fego"}),(0,r.jsx)("option",{value:"video",children:"V\xeddeo"}),(0,r.jsx)("option",{value:"desenvolvimento",children:"Desenvolvimento"})]}),(0,r.jsx)(d.z,{variant:"outline",size:"sm",onClick:T,children:(0,r.jsx)(c.Z,{className:"w-4 h-4"})})]})]})}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid gap-6 md:grid-cols-4 mb-8",children:[(0,r.jsx)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:(0,g.cn)("p-3 rounded-xl",O>=90?"bg-emerald-500/10":"bg-amber-500/10"),children:(0,r.jsx)(o.Z,{className:(0,g.cn)("w-6 h-6",O>=90?"text-emerald-600":"text-amber-600")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Compliance Geral"}),(0,r.jsxs)("p",{className:(0,g.cn)("text-3xl font-bold",A(O)),children:[O.toFixed(1),"%"]})]})]})})}),(0,r.jsx)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl bg-[#1672d6]/10",children:(0,r.jsx)(u.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Tarefas Entregues"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-[#001533] dark:text-white",children:e.reduce((e,t)=>e+t.tasksCompleted,0)})]})]})})}),(0,r.jsx)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:(0,g.cn)("p-3 rounded-xl",D>0?"bg-red-500/10":"bg-emerald-500/10"),children:(0,r.jsx)(m.Z,{className:(0,g.cn)("w-6 h-6",D>0?"text-red-600":"text-emerald-600")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Atrasadas"}),(0,r.jsx)("p",{className:(0,g.cn)("text-3xl font-bold",D>0?"text-red-600":"text-emerald-600"),children:D})]})]})})}),(0,r.jsx)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl bg-purple-500/10",children:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Tempo M\xe9dio"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-[#001533] dark:text-white",children:[e.length>0?Math.round(e.reduce((e,t)=>e+t.avgDeliveryTime,0)/e.length):0,"h"]})]})]})})})]}),S>0&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/30 flex items-center gap-3",children:[(0,r.jsx)(h.Z,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-red-700 dark:text-red-300",children:["Aten\xe7\xe3o: ",S," tarefa(s) com atraso cr\xedtico"]}),(0,r.jsx)("p",{className:"text-sm text-red-600/80",children:"Tarefas com mais de 7 dias de atraso ou prioridade urgente requerem a\xe7\xe3o imediata."})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,r.jsxs)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Compliance por \xc1rea"]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[e.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:e.area}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:(0,g.cn)("font-bold",A(e.compliance)),children:[e.compliance.toFixed(1),"%"]}),"up"===e.trend&&(0,r.jsx)(v.Z,{className:"w-4 h-4 text-emerald-500"}),"down"===e.trend&&(0,r.jsx)(f.Z,{className:"w-4 h-4 text-red-500"})]})]}),(0,r.jsx)("div",{className:"h-2 bg-[#001533]/10 dark:bg-white/10 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:(0,g.cn)("h-full rounded-full transition-all duration-500",E(e.compliance)),style:{width:"".concat(e.compliance,"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-[#001533]/50 dark:text-white/50",children:[(0,r.jsxs)("span",{children:[e.tasksCompleted," entregues"]}),(0,r.jsxs)("span",{children:["M\xe9dia: ",e.avgDeliveryTime,"h (meta: ",e.targetTime,"h)"]}),e.tasksOverdue>0&&(0,r.jsxs)("span",{className:"text-red-500",children:[e.tasksOverdue," atrasadas"]})]})]},e.area)),0===e.length&&(0,r.jsx)("div",{className:"text-center py-8 text-[#001533]/50",children:"Nenhum dado dispon\xedvel para o per\xedodo selecionado"})]})})]})}),(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,r.jsxs)(i.Zb,{className:"border-[#001533]/10 dark:border-white/10",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 text-red-500"}),"Tarefas em Atraso"]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[a.map(e=>(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-[#001533]/5 dark:bg-white/5 hover:bg-[#001533]/10 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:[e.client," â€¢ ",e.area]})]}),L(e.priority)]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("span",{className:"text-[#001533]/50 dark:text-white/50",children:["Respons\xe1vel: ",e.assignee]}),(0,r.jsxs)("span",{className:"text-red-600 font-medium",children:[e.daysOverdue," dia(s) de atraso"]})]})]},e.id)),0===a.length&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(u.Z,{className:"w-12 h-12 mx-auto text-emerald-500 mb-2"}),(0,r.jsx)("p",{className:"text-emerald-600 font-medium",children:"Nenhuma tarefa em atraso!"})]})]})})]})})]})]})})}function y(){return[{area:"Social Media",avgDeliveryTime:18,targetTime:24,compliance:94.5,tasksCompleted:142,tasksOverdue:3,trend:"up"},{area:"Design",avgDeliveryTime:36,targetTime:48,compliance:88.2,tasksCompleted:89,tasksOverdue:5,trend:"stable"},{area:"Tr\xe1fego",avgDeliveryTime:12,targetTime:12,compliance:97.8,tasksCompleted:56,tasksOverdue:1,trend:"up"},{area:"V\xeddeo",avgDeliveryTime:72,targetTime:72,compliance:82.3,tasksCompleted:28,tasksOverdue:4,trend:"down"},{area:"Desenvolvimento",avgDeliveryTime:96,targetTime:120,compliance:91.5,tasksCompleted:15,tasksOverdue:2,trend:"stable"}]}function j(){return[{id:"1",title:"Cria\xe7\xe3o de campanha Black Friday",client:"Valle Boutique",area:"Design",assignee:"Ana Silva",dueDate:"2024-12-01",daysOverdue:5,priority:"high"},{id:"2",title:"V\xeddeo institucional - vers\xe3o final",client:"Tech Solutions",area:"V\xeddeo",assignee:"Carlos Santos",dueDate:"2024-11-28",daysOverdue:8,priority:"urgent"},{id:"3",title:"Posts semanais - Semana 49",client:"Digital Plus",area:"Social Media",assignee:"Maria Costa",dueDate:"2024-12-03",daysOverdue:3,priority:"medium"},{id:"4",title:"Landing page promocional",client:"Inova Marketing",area:"Desenvolvimento",assignee:"Pedro Lima",dueDate:"2024-11-30",daysOverdue:6,priority:"high"}]}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return n}});var r=a(57437);a(2265);var s=a(90535),l=a(93448);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:a}),t),...s})}},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var r=a(57437),s=a(2265),l=a(90535),i=a(93448);let n=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,...d}=e;return(0,r.jsx)("button",{className:(0,i.cn)(n({variant:s,size:l,className:a})),ref:t,...d})});d.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return n},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var r=a(57437),s=a(2265),l=a(93448);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",a),...s})});i.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight text-lg",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-foreground/70",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return l},x:function(){return i}});var r=a(61994),s=a(53335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function i(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},90535:function(e,t,a){"use strict";a.d(t,{j:function(){return i}});var r=a(61994);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=r.W,i=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return l(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:i,defaultVariants:n}=t,d=Object.keys(i).map(e=>{let t=null==a?void 0:a[e],r=null==n?void 0:n[e];if(null===t)return null;let l=s(t)||s(r);return i[e][l]}),c=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return l(e,d,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:a,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...n,...c}[t]):({...n,...c})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}}},function(e){e.O(0,[2882,6137,2971,2117,1744],function(){return e(e.s=56613)}),_N_E=e.O()}]);