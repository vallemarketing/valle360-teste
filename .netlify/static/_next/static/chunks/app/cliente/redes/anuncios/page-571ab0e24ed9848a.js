(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7244],{45393:function(e,t,a){Promise.resolve().then(a.bind(a,44207))},49322:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},95252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},29985:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},51817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},37533:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]])},82431:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88906:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},44207:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var r=a(57437),s=a(2265),n=a(26892),l=a(79820),i=a(12381),c=a(69174),o=a(51817),d=a(88906),u=a(41671);let m=(0,a(79205).Z)("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var x=a(95252),h=a(42208),f=a(37533),p=a(70525),v=a(82431),b=a(29985),y=a(49322),g=a(93448);let j={meta:{name:"Meta Ads",icon:"\uD83D\uDCD8",color:"#1877F2",description:"Facebook e Instagram Ads",authUrl:"/api/oauth/meta/ads/authorize"},google:{name:"Google Ads",icon:"\uD83D\uDD0D",color:"#4285F4",description:"Google Search, Display e YouTube",authUrl:"/api/oauth/google/ads/authorize"}};function N(){let[e,t]=(0,s.useState)([]),[a,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{Z()},[]);let Z=async()=>{N(!0);try{let e=await fetch("/api/client/ad-accounts");if(e.ok){let a=await e.json();t(a.accounts||[])}}catch(e){console.error("Failed to fetch ad accounts:",e)}finally{N(!1)}},C=async e=>{k(e);let t=j[e];window.location.href="".concat(t.authUrl,"?redirect=/cliente/redes/anuncios")},z=async a=>{if(confirm("Tem certeza que deseja desconectar esta conta?"))try{(await fetch("/api/client/ad-accounts/".concat(a),{method:"DELETE"})).ok&&t(e.filter(e=>e.id!==a))}catch(e){console.error("Failed to disconnect account:",e)}},M=t=>e.find(e=>e.platform===t&&e.is_active),D=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),A=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString();return a?(0,r.jsx)("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-[#1672d6]"})}):(0,r.jsxs)("div",{className:"p-4 lg:p-6 space-y-6 max-w-5xl mx-auto",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-[#001533] dark:text-white mb-2",children:"Contas de An\xfancios"}),(0,r.jsx)("p",{className:"text-[#001533]/60 dark:text-white/60",children:"Conecte suas contas para acompanhar m\xe9tricas de campanhas"})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-start gap-3 p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-emerald-700 dark:text-emerald-300",children:"Conex\xe3o Segura via OAuth"}),(0,r.jsx)("p",{className:"text-sm text-emerald-600/80 dark:text-emerald-400/80 mt-1",children:"Suas credenciais nunca s\xe3o armazenadas. Usamos autentica\xe7\xe3o oficial de cada plataforma. Voc\xea pode revogar o acesso a qualquer momento."})]})]}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Object.entries(j).map((e,t)=>{let[a,s]=e,d=M(a),y=!!d;return(0,r.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*t},children:(0,r.jsxs)(l.Zb,{className:(0,g.cn)("relative overflow-hidden border-2 transition-all",y?"border-emerald-500/30 bg-emerald-50/50 dark:bg-emerald-900/10":"border-[#001533]/10 dark:border-white/10"),children:[(0,r.jsx)(l.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:"".concat(s.color,"15")},children:s.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ll,{className:"text-lg",children:s.name}),(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:s.description})]})]}),(0,r.jsx)(c.C,{variant:"outline",className:(0,g.cn)(y?"bg-emerald-500/10 text-emerald-600 border-emerald-500/30":"bg-gray-500/10 text-gray-600 border-gray-500/30"),children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{className:"w-3 h-3 mr-1"}),"Conectado"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{className:"w-3 h-3 mr-1"}),"Desconectado"]})})]})}),(0,r.jsx)(l.aY,{children:y&&d?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[#001533] border border-[#001533]/10 dark:border-white/10",children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:d.account_name}),(0,r.jsxs)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50",children:["ID: ",d.account_id," • Conectado em ",new Date(d.connected_at).toLocaleDateString("pt-BR")]})]}),d.metrics&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[#001533]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#001533]/60 dark:text-white/60 mb-1",children:[(0,r.jsx)(x.Z,{className:"w-3 h-3"}),"Investido"]}),(0,r.jsx)("p",{className:"font-bold",style:{color:s.color},children:D(d.metrics.spend)})]}),(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[#001533]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#001533]/60 dark:text-white/60 mb-1",children:[(0,r.jsx)(h.Z,{className:"w-3 h-3"}),"Impress\xf5es"]}),(0,r.jsx)("p",{className:"font-bold",children:A(d.metrics.impressions)})]}),(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[#001533]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#001533]/60 dark:text-white/60 mb-1",children:[(0,r.jsx)(f.Z,{className:"w-3 h-3"}),"Cliques"]}),(0,r.jsx)("p",{className:"font-bold",children:A(d.metrics.clicks)})]}),(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[#001533]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#001533]/60 dark:text-white/60 mb-1",children:[(0,r.jsx)(p.Z,{className:"w-3 h-3"}),"Convers\xf5es"]}),(0,r.jsx)("p",{className:"font-bold",children:A(d.metrics.conversions)})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",onClick:Z,children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 mr-1"}),"Atualizar"]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",className:"text-red-600 border-red-600/30 hover:bg-red-50",onClick:()=>z(d.id),children:[(0,r.jsx)(m,{className:"w-4 h-4 mr-1"}),"Desconectar"]})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:"Conecte sua conta para visualizar m\xe9tricas de campanhas em tempo real."}),(0,r.jsxs)(i.z,{className:"w-full",style:{backgroundColor:s.color},onClick:()=>C(a),disabled:w===a,children:[w===a?(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Conectar ",s.name]})]})})]})},a)})}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 rounded-xl bg-[#001533]/5 dark:bg-white/5 border border-[#001533]/10 dark:border-white/10",children:[(0,r.jsxs)("h3",{className:"font-semibold text-[#001533] dark:text-white mb-2 flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4"}),"Por que conectar minhas contas?"]}),(0,r.jsxs)("ul",{className:"text-sm text-[#001533]/60 dark:text-white/60 space-y-1",children:[(0,r.jsx)("li",{children:"• Acompanhe o desempenho das suas campanhas em tempo real"}),(0,r.jsx)("li",{children:"• Receba alertas autom\xe1ticos sobre or\xe7amento e performance"}),(0,r.jsx)("li",{children:"• Visualize m\xe9tricas consolidadas no seu dashboard"}),(0,r.jsx)("li",{children:"• Permite que nossa equipe otimize suas campanhas com mais efici\xeancia"})]})]})]})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var r=a(57437);a(2265);var s=a(90535),n=a(93448);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(57437),s=a(2265),n=a(90535),l=a(93448);let i=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,...c}=e;return(0,r.jsx)("button",{className:(0,l.cn)(i({variant:s,size:n,className:a})),ref:t,...c})});c.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight text-lg",a),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground/70",a),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return n},x:function(){return l}});var r=a(61994),s=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function l(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},90535:function(e,t,a){"use strict";a.d(t,{j:function(){return l}});var r=a(61994);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=r.W,l=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return n(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:l,defaultVariants:i}=t,c=Object.keys(l).map(e=>{let t=null==a?void 0:a[e],r=null==i?void 0:i[e];if(null===t)return null;let n=s(t)||s(r);return l[e][n]}),o=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return n(e,c,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:a,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...i,...o}[t]):({...i,...o})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}}},function(e){e.O(0,[2882,6137,2971,2117,1744],function(){return e(e.s=45393)}),_N_E=e.O()}]);