(()=>{var e={};e.id=39920,e.ids=[39920],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},51942:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(83696),a(16193),a(49991),a(35866);var s=a(23191),r=a(88716),i=a(37922),l=a.n(i),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let c=["",{children:["cliente",{children:["reputacao",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,83696)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\reputacao\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,16193)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\cliente\\reputacao\\page.tsx"],m="/cliente/reputacao/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cliente/reputacao/page",pathname:"/cliente/reputacao",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4121:(e,t,a)=>{Promise.resolve().then(a.bind(a,78765))},24230:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},997:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},26754:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9015:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},11019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},21405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},58038:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},687:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]])},59593:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},29163:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},3634:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},78765:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(10326),r=a(17577),i=a(9086),l=a(28870),n=a(21405),d=a(33734),c=a(17069),o=a(29163),m=a(11019),x=a(997),u=a(30361),p=a(50949),g=a(58038),h=a(40617),y=a(59593),b=a(687),f=a(26754),j=a(1572),w=a(3634),N=a(53468);let v=(0,a(62881).Z)("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);var _=a(51223);a(2777),a(42629);var k=a(9015),Z=a(24230),q=a(90434);function A({featureName:e}){return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center p-8 rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-4",children:s.jsx(k.Z,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Funcionalidade n\xe3o dispon\xedvel"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center max-w-sm mb-4",children:e?`A funcionalidade "${e}" n\xe3o est\xe1 inclu\xedda no seu plano atual.`:"Esta funcionalidade n\xe3o est\xe1 inclu\xedda no seu plano atual."}),(0,s.jsxs)(q.default,{href:"/cliente/servicos",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#1672d6] text-white rounded-lg text-sm font-medium hover:bg-[#1260b5] transition-colors",children:[s.jsx(j.Z,{className:"w-4 h-4"}),"Ver planos dispon\xedveis",s.jsx(Z.Z,{className:"w-4 h-4"})]})]})}function M(){return s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl"})})}function R({feature:e,children:t,fallback:a,hideWhenDisabled:i=!1,showLoading:l=!1}){let{hasAccess:n,loading:d}=function(e){let[t,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)(null);return{hasAccess:t,loading:s,error:l}}(0);return d&&l?s.jsx(M,{}):d?null:n?s.jsx(s.Fragment,{children:t}):i?null:s.jsx(s.Fragment,{children:a||s.jsx(A,{})})}function S(){let[e,t]=(0,r.useState)("overview"),[a,k]=(0,r.useState)(null),[Z,q]=(0,r.useState)([]),[A,M]=(0,r.useState)(null),[S,C]=(0,r.useState)(!0),[E,O]=(0,r.useState)(null),P=async()=>{C(!0);try{let[e,t,a]=await Promise.all([fetch("/api/reputation/analyze?action=overview").then(e=>e.json()),fetch("/api/reputation/analyze?action=reviews").then(e=>e.json()),fetch("/api/reputation/analyze?action=predictive").then(e=>e.json())]);e.success&&k(e.data),t.success&&q(t.data),a.success&&M(a.data)}catch(e){console.error("Erro ao carregar dados:",e)}finally{C(!1)}};return S?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:s.jsx(n.Z,{className:"w-8 h-8 animate-spin text-[#1672d6]"})}):s.jsx(R,{feature:"reputation",children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center",children:s.jsx(d.Z,{className:"w-7 h-7 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:"Central de Reputa\xe7\xe3o"}),s.jsx("p",{className:"text-gray-500",children:"Monitore e gerencie sua reputa\xe7\xe3o em todas as plataformas"})]})]}),(0,s.jsxs)("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(n.Z,{className:"w-4 h-4"}),"Atualizar"]})]}),a&&(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"col-span-1 bg-gradient-to-br from-[#001533] to-[#1672d6] rounded-2xl p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-white/70 text-sm font-medium",children:"Score Geral"}),(0,s.jsxs)("div",{className:(0,_.cn)("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold","up"===a.trend?"bg-green-500/20 text-green-300":"down"===a.trend?"bg-red-500/20 text-red-300":"bg-white/20 text-white"),children:["up"===a.trend&&s.jsx(c.Z,{className:"w-3 h-3"}),"down"===a.trend&&s.jsx(o.Z,{className:"w-3 h-3"}),"stable"===a.trend&&s.jsx(m.Z,{className:"w-3 h-3"}),"up"===a.trend?"Subindo":"down"===a.trend?"Caindo":"Est\xe1vel"]})]}),(0,s.jsxs)("div",{className:"flex items-end gap-2 mb-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:a.score}),s.jsx("span",{className:"text-white/50 text-xl mb-2",children:"/100"})]}),(0,s.jsxs)("div",{className:(0,_.cn)("inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium","excellent"===a.status&&"bg-green-500/20 text-green-300","good"===a.status&&"bg-blue-500/20 text-blue-300","attention"===a.status&&"bg-yellow-500/20 text-yellow-300","critical"===a.status&&"bg-red-500/20 text-red-300"),children:["excellent"===a.status&&s.jsx(x.Z,{className:"w-4 h-4"}),"good"===a.status&&s.jsx(u.Z,{className:"w-4 h-4"}),"attention"===a.status&&s.jsx(p.Z,{className:"w-4 h-4"}),"critical"===a.status&&s.jsx(p.Z,{className:"w-4 h-4"}),"excellent"===a.status&&"Excelente","good"===a.status&&"Bom","attention"===a.status&&"Aten\xe7\xe3o","critical"===a.status&&"Cr\xedtico"]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Google"})]}),a.platforms.google.pendingReplies>0&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-amber-100 text-primary rounded-full text-xs font-medium",children:[a.platforms.google.pendingReplies," pendente",a.platforms.google.pendingReplies>1?"s":""]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:a.platforms.google.rating.toFixed(1)}),s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(e=>s.jsx(d.Z,{className:(0,_.cn)("w-4 h-4",e<=Math.round(a.platforms.google.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},e))})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[a.platforms.google.totalReviews," avalia\xe7\xf5es"]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center",children:s.jsx(g.Z,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Reclame Aqui"})]}),a.platforms.reclameAqui.pendingComplaints>0&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-600 rounded-full text-xs font-medium",children:[a.platforms.reclameAqui.pendingComplaints," pendente",a.platforms.reclameAqui.pendingComplaints>1?"s":""]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:a.platforms.reclameAqui.rating.toFixed(1)}),s.jsx("span",{className:(0,_.cn)("px-2 py-1 rounded-full text-xs font-bold uppercase","otimo"===a.platforms.reclameAqui.reputation&&"bg-green-100 text-green-700","bom"===a.platforms.reclameAqui.reputation&&"bg-blue-100 text-blue-700","regular"===a.platforms.reclameAqui.reputation&&"bg-yellow-100 text-yellow-700","ruim"===a.platforms.reclameAqui.reputation&&"bg-amber-100 text-amber-700","nao_recomendado"===a.platforms.reclameAqui.reputation&&"bg-red-100 text-red-700"),children:a.platforms.reclameAqui.reputation.replace("_"," ")})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[a.platforms.reclameAqui.solutionRate,"% de solu\xe7\xe3o"]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center",children:s.jsx(h.Z,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Redes Sociais"})]}),a.platforms.social.alerts>0&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-amber-100 text-primary rounded-full text-xs font-medium",children:[a.platforms.social.alerts," alerta",a.platforms.social.alerts>1?"s":""]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:[a.platforms.social.sentiment>0?"+":"",(100*a.platforms.social.sentiment).toFixed(0),"%"]}),(0,s.jsxs)("div",{className:(0,_.cn)("w-6 h-6 rounded-full flex items-center justify-center",a.platforms.social.sentiment>.2&&"bg-green-100",a.platforms.social.sentiment<=.2&&a.platforms.social.sentiment>=-.2&&"bg-gray-100",a.platforms.social.sentiment<-.2&&"bg-red-100"),children:[a.platforms.social.sentiment>.2&&s.jsx(y.Z,{className:"w-3 h-3 text-green-600"}),a.platforms.social.sentiment<=.2&&a.platforms.social.sentiment>=-.2&&s.jsx(m.Z,{className:"w-3 h-3 text-gray-600"}),a.platforms.social.sentiment<-.2&&s.jsx(b.Z,{className:"w-3 h-3 text-red-600"})]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[a.platforms.social.mentions," men\xe7\xf5es recentes"]})]})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[{id:"overview",label:"Vis\xe3o Geral",icon:f.Z},{id:"google",label:"Google",icon:d.Z},{id:"reclameaqui",label:"Reclame Aqui",icon:g.Z},{id:"social",label:"Redes Sociais",icon:h.Z},{id:"insights",label:"Insights Preditivos",icon:j.Z}].map(a=>(0,s.jsxs)("button",{onClick:()=>t(a.id),className:(0,_.cn)("flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 -mb-px whitespace-nowrap",e===a.id?"border-[#1672d6] text-[#1672d6]":"border-transparent text-gray-500 hover:text-gray-700"),children:[s.jsx(a.icon,{className:"w-4 h-4"}),a.label]},a.id))}),(0,s.jsxs)(i.M,{mode:"wait",children:["overview"===e&&a&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"col-span-2 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(w.Z,{className:"w-5 h-5 text-yellow-500"}),"Insights e A\xe7\xf5es Recomendadas"]}),s.jsx("div",{className:"space-y-3",children:a.insights.map((e,t)=>(0,s.jsxs)("div",{className:(0,_.cn)("flex items-start gap-4 p-4 rounded-xl","action"===e.type&&"bg-blue-50 border border-blue-200","warning"===e.type&&"bg-amber-50 border border-amber-200","opportunity"===e.type&&"bg-green-50 border border-green-200","success"===e.type&&"bg-emerald-50 border border-emerald-200"),children:[(0,s.jsxs)("div",{className:(0,_.cn)("w-10 h-10 rounded-xl flex items-center justify-center","action"===e.type&&"bg-blue-100","warning"===e.type&&"bg-amber-100","opportunity"===e.type&&"bg-green-100","success"===e.type&&"bg-emerald-100"),children:["action"===e.type&&s.jsx(N.Z,{className:"w-5 h-5 text-blue-600"}),"warning"===e.type&&s.jsx(p.Z,{className:"w-5 h-5 text-primary"}),"opportunity"===e.type&&s.jsx(c.Z,{className:"w-5 h-5 text-green-600"}),"success"===e.type&&s.jsx(u.Z,{className:"w-5 h-5 text-emerald-600"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:e.title}),e.platform&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:e.platform}),s.jsx("span",{className:(0,_.cn)("px-2 py-0.5 rounded-full text-xs font-medium","high"===e.priority&&"bg-red-100 text-red-600","medium"===e.priority&&"bg-yellow-100 text-yellow-600","low"===e.priority&&"bg-gray-100 text-gray-600"),children:"high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),e.actionUrl&&s.jsx("button",{className:"px-3 py-1.5 bg-[#1672d6] text-white rounded-lg text-sm font-medium hover:bg-[#1260b5] transition-colors",children:"Ver"})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5 text-gray-400"}),"\xdaltimas Avalia\xe7\xf5es"]}),s.jsx("div",{className:"space-y-3",children:Z.slice(0,5).map(e=>(0,s.jsxs)("div",{className:(0,_.cn)("p-3 rounded-xl border cursor-pointer hover:shadow-sm transition-shadow",e.needsAttention?"border-amber-200 bg-amber-50":"border-gray-100 dark:border-gray-700"),onClick:()=>O(e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:e.authorName}),(0,s.jsxs)("span",{className:(0,_.cn)("w-6 h-6 rounded-full flex items-center justify-center","positive"===e.sentiment&&"bg-green-100","neutral"===e.sentiment&&"bg-gray-100","negative"===e.sentiment&&"bg-red-100"),children:["positive"===e.sentiment&&s.jsx(y.Z,{className:"w-3 h-3 text-green-600"}),"neutral"===e.sentiment&&s.jsx(m.Z,{className:"w-3 h-3 text-gray-600"}),"negative"===e.sentiment&&s.jsx(b.Z,{className:"w-3 h-3 text-red-600"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.text}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-xs text-gray-400 capitalize",children:e.platform}),e.needsAttention&&!e.hasReply&&s.jsx("span",{className:"text-xs text-primary font-medium",children:"Responder"})]})]},e.id))})]})]}),"google"===e&&s.jsx(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Reviews do Google"}),s.jsx("div",{className:"space-y-4",children:Z.filter(e=>"google"===e.platform).map(e=>(0,s.jsxs)("div",{className:"flex gap-4 p-4 border border-gray-100 dark:border-gray-700 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:e.authorName.charAt(0)}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:e.authorName}),s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>s.jsx(d.Z,{className:(0,_.cn)("w-3 h-3",t<=(e.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300")},t))}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.text}),s.jsx("div",{className:"flex items-center gap-2 mt-3",children:e.hasReply?(0,s.jsxs)("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(u.Z,{className:"w-3 h-3"}),"Respondido"]}):(0,s.jsxs)("button",{className:"text-xs text-[#1672d6] font-medium flex items-center gap-1 hover:underline",children:[s.jsx(v,{className:"w-3 h-3"}),"Responder"]})})]})]},e.id))})]})}),"reclameaqui"===e&&s.jsx(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Reclama\xe7\xf5es no Reclame Aqui"}),s.jsx("div",{className:"space-y-4",children:Z.filter(e=>"reclame_aqui"===e.platform).map(e=>(0,s.jsxs)("div",{className:(0,_.cn)("p-4 border rounded-xl",e.needsAttention?"border-red-200 bg-red-50":e.hasReply?"border-green-200 bg-green-50":"border-gray-100 dark:border-gray-700"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:e.authorName}),s.jsx("span",{className:(0,_.cn)("px-2 py-1 rounded-full text-xs font-medium",e.needsAttention&&"bg-red-100 text-red-600",e.hasReply&&!e.needsAttention&&"bg-green-100 text-green-600"),children:e.needsAttention?"Pendente":e.hasReply?"Respondido":"Aguardando"})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.text}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString("pt-BR")}),e.needsAttention&&(0,s.jsxs)("button",{className:"text-xs text-red-600 font-medium flex items-center gap-1 hover:underline",children:[s.jsx(v,{className:"w-3 h-3"}),"Responder Urgente"]})]})]},e.id))})]})}),"social"===e&&s.jsx(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Men\xe7\xf5es nas Redes Sociais"}),s.jsx("div",{className:"space-y-4",children:Z.filter(e=>["instagram","facebook","other"].includes(e.platform)).map(e=>(0,s.jsxs)("div",{className:"flex gap-4 p-4 border border-gray-100 dark:border-gray-700 rounded-xl",children:[s.jsx("div",{className:(0,_.cn)("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold","instagram"===e.platform&&"bg-gradient-to-br from-purple-500 to-pink-500","facebook"===e.platform&&"bg-blue-600","other"===e.platform&&"bg-gray-500"),children:e.authorName.charAt(0)}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:e.authorName}),s.jsx("span",{className:"text-xs text-gray-400 capitalize",children:e.platform}),(0,s.jsxs)("span",{className:(0,_.cn)("w-5 h-5 rounded-full flex items-center justify-center","positive"===e.sentiment&&"bg-green-100","neutral"===e.sentiment&&"bg-gray-100","negative"===e.sentiment&&"bg-red-100"),children:["positive"===e.sentiment&&s.jsx(y.Z,{className:"w-2.5 h-2.5 text-green-600"}),"neutral"===e.sentiment&&s.jsx(m.Z,{className:"w-2.5 h-2.5 text-gray-600"}),"negative"===e.sentiment&&s.jsx(b.Z,{className:"w-2.5 h-2.5 text-red-600"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.text}),s.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:new Date(e.createdAt).toLocaleDateString("pt-BR")})]})]},e.id))})]})}),"insights"===e&&A&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(j.Z,{className:"w-5 h-5 text-yellow-500"}),"Previs\xf5es da Val IA"]}),s.jsx("div",{className:"space-y-4",children:A.predictions.map(e=>(0,s.jsxs)("div",{className:(0,_.cn)("p-4 rounded-xl border","risk"===e.type?"border-red-200 bg-red-50":"border-green-200 bg-green-50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:["risk"===e.type?s.jsx(p.Z,{className:"w-5 h-5 text-red-500"}):s.jsx(c.Z,{className:"w-5 h-5 text-green-500"}),s.jsx("h4",{className:"font-medium text-gray-800",children:e.title})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Probabilidade: ",(0,s.jsxs)("strong",{children:[Math.round(100*e.probability),"%"]})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Impacto: ",s.jsx("strong",{className:(0,_.cn)("high"===e.impact&&"text-red-600","medium"===e.impact&&"text-yellow-600","low"===e.impact&&"text-gray-600"),children:"high"===e.impact?"Alto":"medium"===e.impact?"M\xe9dio":"Baixo"})]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:e.timeframe})]}),e.action&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"A\xe7\xe3o recomendada:"}),s.jsx("p",{className:"text-sm text-[#1672d6] font-medium",children:e.action})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(N.Z,{className:"w-5 h-5 text-blue-500"}),"Recomenda\xe7\xf5es"]}),s.jsx("div",{className:"space-y-3",children:A.recommendations.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-[#1672d6] flex items-center justify-center text-white text-xs font-bold",children:t+1}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},t))}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-br from-[#001533] to-[#1672d6] rounded-xl text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:s.jsx(j.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-bold",children:"Precisa de ajuda?"}),s.jsx("p",{className:"text-xs text-white/70",children:"Converse com a Val IA"})]})]}),s.jsx("p",{className:"text-sm text-white/80 mb-3",children:"A Val pode ajudar voc\xea a criar respostas para reviews, analisar tend\xeancias e sugerir a\xe7\xf5es."}),s.jsx("button",{className:"w-full py-2 bg-white text-[#001533] rounded-lg text-sm font-bold hover:bg-white/90 transition-colors",children:"Conversar com Val IA"})]})]})]})]})]})})})}},42629:(e,t,a)=>{"use strict";a.d(t,{Cq:()=>r,UV:()=>o,a8:()=>m,hX:()=>l,o$:()=>d,oY:()=>n,r5:()=>c,zx:()=>i});var s=a(2777);async function r(){let{data:e,error:t}=await s.O.from("features").select("*").eq("is_active",!0).order("sort_order");return t?(console.error("Erro ao buscar features:",t),[]):e||[]}async function i(e){let{data:t,error:a}=await s.O.from("features").select("*").eq("is_active",!0).order("sort_order");if(a||!t)return console.error("Erro ao buscar features:",a),[];let{data:r,error:i}=await s.O.from("client_features").select("*").eq("client_id",e);i&&console.error("Erro ao buscar features do cliente:",i);let{data:l,error:n}=await s.O.from("feature_requests").select("feature_id").eq("client_id",e).eq("status","pending");n&&console.error("Erro ao buscar solicita\xe7\xf5es:",n);let d=new Map((r||[]).map(e=>[e.feature_id,e])),c=new Set((l||[]).map(e=>e.feature_id));return t.map(e=>{let t=d.get(e.id),a=c.has(e.id),s="disabled";return t?.is_enabled?(!t.expires_at||new Date(t.expires_at)>new Date)&&(s="enabled"):a&&(s="pending"),{feature:e,status:s,enabled_by:t?.enabled_by,enabled_at:t?.enabled_at||void 0,expires_at:t?.expires_at||void 0}})}async function l(e,t,a,r,i){try{let{data:l,error:n}=await s.O.from("features").select("id").eq("code",t).single();if(n||!l)return{success:!1,error:"Feature n\xe3o encontrada"};let{error:d}=await s.O.from("client_features").upsert({client_id:e,feature_id:l.id,is_enabled:a,enabled_by:"manual",enabled_by_user_id:r,enabled_at:a?new Date().toISOString():null,notes:i},{onConflict:"client_id,feature_id"});if(d)return{success:!1,error:d.message};return await s.O.from("feature_logs").insert({client_id:e,feature_id:l.id,feature_code:t,action:a?"enabled":"disabled",changed_by_user_id:r,reason:i||"Altera\xe7\xe3o manual"}),{success:!0}}catch(e){return console.error("Erro ao toggle feature:",e),{success:!1,error:"Erro interno"}}}async function n(){let{data:e,error:t}=await s.O.from("feature_requests").select(`
      *,
      feature:features(*)
    `).eq("status","pending").order("created_at",{ascending:!1});return t?(console.error("Erro ao buscar solicita\xe7\xf5es:",t),[]):e||[]}async function d(e,t,a){try{let{data:r,error:i}=await s.O.from("feature_requests").select("client_id, feature_id").eq("id",e).single();if(i||!r)return{success:!1,error:"Solicita\xe7\xe3o n\xe3o encontrada"};let{error:l}=await s.O.from("feature_requests").update({status:"approved",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),review_notes:a}).eq("id",e);if(l)return{success:!1,error:l.message};let{error:n}=await s.O.from("client_features").upsert({client_id:r.client_id,feature_id:r.feature_id,is_enabled:!0,enabled_by:"request",enabled_by_user_id:t,enabled_at:new Date().toISOString(),notes:`Aprovado via solicita\xe7\xe3o. ${a||""}`},{onConflict:"client_id,feature_id"});if(n)return{success:!1,error:n.message};return await s.O.from("feature_logs").insert({client_id:r.client_id,feature_id:r.feature_id,action:"request_approved",changed_by_user_id:t,reason:a||"Solicita\xe7\xe3o aprovada"}),{success:!0}}catch(e){return console.error("Erro ao aprovar solicita\xe7\xe3o:",e),{success:!1,error:"Erro interno"}}}async function c(e,t,a){try{let{data:r,error:i}=await s.O.from("feature_requests").select("client_id, feature_id").eq("id",e).single();if(i||!r)return{success:!1,error:"Solicita\xe7\xe3o n\xe3o encontrada"};let{error:l}=await s.O.from("feature_requests").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),review_notes:a}).eq("id",e);if(l)return{success:!1,error:l.message};return await s.O.from("feature_logs").insert({client_id:r.client_id,feature_id:r.feature_id,action:"request_rejected",changed_by_user_id:t,reason:a}),{success:!0}}catch(e){return console.error("Erro ao rejeitar solicita\xe7\xe3o:",e),{success:!1,error:"Erro interno"}}}async function o(){let{data:e,error:t}=await s.O.from("services").select(`
      *,
      service_features(
        feature:features(*)
      )
    `).eq("is_active",!0).order("sort_order");return t?(console.error("Erro ao buscar servi\xe7os:",t),[]):(e||[]).map(e=>({...e,features:e.service_features?.map(e=>e.feature).filter(Boolean)||[]}))}async function m(e,t=50){let{data:a,error:r}=await s.O.from("feature_logs").select("*").eq("client_id",e).order("created_at",{ascending:!1}).limit(t);return r?(console.error("Erro ao buscar logs:",r),[]):a||[]}},83696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\cliente\reputacao\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,62198,18832,14574,79925],()=>a(51942));module.exports=s})();