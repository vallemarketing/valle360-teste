(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4183],{16169:function(e,a,r){Promise.resolve().then(r.bind(r,6933))},94766:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},53581:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},83229:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},88906:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},92369:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6933:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return x}});var t=r(57437),s=r(2265),i=r(92369),l=r(53581),n=r(83229),o=r(88906),c=r(94766),d=r(26892),u=r(95452),m=r(14438);function x(){let[e,a]=(0,s.useState)({email:!0,push:!0,tasks:!0,messages:!0,updates:!1}),[r,x]=(0,s.useState)("auto"),[h,g]=(0,s.useState)({name:"",email:"",avatarUrl:"",phone:"",bio:""}),[p,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),j=(0,s.useRef)(null),N=(0,u.createClientComponentClient)();(0,s.useEffect)(()=>{w()},[]);let w=async()=>{try{let{data:{user:e}}=await N.auth.getUser();if(!e)return;let{data:a}=await N.from("user_profiles").select("*").eq("user_id",e.id).single();a&&g({name:a.full_name||"",email:e.email||"",avatarUrl:a.avatar_url||"https://ui-avatars.com/api/?name=".concat(a.full_name),phone:a.phone||"",bio:a.bio||""})}catch(e){console.error("Erro ao carregar perfil:",e)}},k=async e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r){v(!0);try{let e=r.name.split(".").pop(),a="".concat(Math.random(),".").concat(e),t="avatars/".concat(a),{error:s}=await N.storage.from("avatars").upload(t,r);if(s)throw s;let{data:i}=N.storage.from("avatars").getPublicUrl(t),l=i.publicUrl,{data:{user:n}}=await N.auth.getUser();n&&(await N.from("user_profiles").update({avatar_url:l}).eq("user_id",n.id),g(e=>({...e,avatarUrl:l})),m.Am.success("Foto de perfil atualizada!"))}catch(e){console.error("Erro ao fazer upload:",e),m.Am.error("Erro ao atualizar foto: "+e.message)}finally{v(!1)}}},C=async()=>{try{let{data:{user:e}}=await N.auth.getUser();if(!e)return;let{error:a}=await N.from("user_profiles").update({full_name:h.name,phone:h.phone,bio:h.bio}).eq("user_id",e.id);a?m.Am.error("Erro ao salvar perfil: "+a.message):m.Am.success("Perfil atualizado com sucesso!")}catch(e){console.error("Erro ao salvar perfil:",e),m.Am.error("Erro ao salvar perfil")}},A=async()=>{b(!p),m.Am.success(p?"2FA Desativado":"2FA Ativado (Simulado)")};return(0,t.jsx)("div",{className:"min-h-screen p-8 bg-gray-50/50",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:"Configura\xe7\xf5es"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Personalize sua experi\xeancia e gerencie sua conta"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-gray-200 bg-white shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-indigo-100 text-indigo-600",children:(0,t.jsx)(i.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Perfil"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Gerencie suas informa\xe7\xf5es pessoais e foto"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:h.avatarUrl,alt:h.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-md"}),(0,t.jsx)("button",{onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},disabled:y,className:"absolute bottom-0 right-0 w-8 h-8 rounded-full flex items-center justify-center bg-indigo-600 text-white hover:bg-indigo-700 transition-all shadow-sm",children:y?(0,t.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):(0,t.jsx)(l.Z,{className:"w-4 h-4"})}),(0,t.jsx)("input",{ref:j,type:"file",accept:"image/*",className:"hidden",onChange:k})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium mb-1 text-gray-900",children:"Foto de perfil"}),(0,t.jsx)("p",{className:"text-sm mb-3 text-gray-500",children:"Recomendado: JPG ou PNG. M\xe1x 5MB."}),(0,t.jsx)("button",{onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},disabled:y,className:"text-sm px-4 py-2 rounded-lg bg-indigo-50 text-indigo-700 hover:bg-indigo-100 transition-colors font-medium",children:y?"Enviando...":"Carregar nova foto"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Nome Completo"}),(0,t.jsx)("input",{type:"text",value:h.name,onChange:e=>g({...h,name:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Telefone"}),(0,t.jsx)("input",{type:"tel",value:h.phone,onChange:e=>g({...h,phone:e.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Bio / Sobre"}),(0,t.jsx)("textarea",{value:h.bio,onChange:e=>g({...h,bio:e.target.value}),placeholder:"Conte um pouco sobre voc\xea...",rows:3,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Email (Login)"}),(0,t.jsx)("input",{type:"email",value:h.email,disabled:!0,className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed"})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all font-medium shadow-lg shadow-indigo-200",children:[(0,t.jsx)(n.Z,{size:18}),"Salvar Altera\xe7\xf5es"]})})]})]}),(0,t.jsxs)(d.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"p-6 rounded-2xl border border-gray-200 bg-white shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-emerald-100 text-emerald-600",children:(0,t.jsx)(o.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Seguran\xe7a"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Proteja sua conta com autentica\xe7\xe3o de dois fatores"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 bg-gray-50/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Autentica\xe7\xe3o de Dois Fatores (2FA)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:p?"Sua conta est\xe1 protegida com uma camada extra de seguran\xe7a.":"Adicione uma camada extra de seguran\xe7a via App Autenticador."})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p,onChange:A}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]}),(0,t.jsxs)(d.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-gray-200 bg-white shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-amber-100 text-blue-600",children:(0,t.jsx)(c.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Gerencie como voc\xea recebe atualiza\xe7\xf5es"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f,{label:"Notifica\xe7\xf5es por Email",description:"Receba atualiza\xe7\xf5es importantes por email",checked:e.email,onChange:r=>a({...e,email:r})}),(0,t.jsx)(f,{label:"Novas Tarefas e Prazos",description:"Alertas sobre tarefas atribu\xeddas e vencimentos pr\xf3ximos",checked:e.tasks,onChange:r=>a({...e,tasks:r})})]})]})]})]})})}function f(e){let{label:a,description:r,checked:s,onChange:i}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,t.jsxs)("div",{className:"flex-1 pr-4",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 mb-0.5",children:a}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:s,onChange:e=>i(e.target.checked)}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})}}},function(e){e.O(0,[2882,4609,2724,4438,5452,2971,2117,1744],function(){return e(e.s=16169)}),_N_E=e.O()}]);