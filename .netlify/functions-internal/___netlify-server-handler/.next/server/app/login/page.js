(()=>{var e={};e.id=32626,e.ids=[32626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71837:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(80974),r(49991),r(35866);var t=r(23191),o=r(88716),s=r(37922),i=r.n(s),n=r(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(a,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80974)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\login\\page.tsx"],m="/login/page",u={require:r,loadChunk:()=>Promise.resolve()},f=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90768:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},7960:(e,a,r)=>{Promise.resolve().then(r.bind(r,74840)),Promise.resolve().then(r.bind(r,17938))},1843:(e,a,r)=>{Promise.resolve().then(r.bind(r,12947))},62881:(e,a,r)=>{"use strict";r.d(a,{Z:()=>m});var t=r(17577);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),i=e=>{let a=s(e);return a.charAt(0).toUpperCase()+a.slice(1)},n=(...e)=>e.filter((e,a,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===a).join(" ").trim(),l=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:i,iconNode:c,...m},u)=>(0,t.createElement)("svg",{ref:u,...d,width:a,height:a,stroke:e,strokeWidth:o?24*Number(r)/Number(a):r,className:n("lucide",s),...!i&&!l(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(i)?i:[i]])),m=(e,a)=>{let r=(0,t.forwardRef)(({className:r,...s},l)=>(0,t.createElement)(c,{ref:l,iconNode:a,className:n(`lucide-${o(i(e))}`,`lucide-${e}`,r),...s}));return r.displayName=i(e),r}},24230:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},30361:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91216:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9015:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5932:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},58038:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},35047:(e,a,r)=>{"use strict";var t=r(77389);r.o(t,"useParams")&&r.d(a,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},50131:(e,a,r)=>{"use strict";e.exports=r(81616).vendored.contexts.RouterContext},12947:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(10326),o=r(17577),s=r(35047),i=r(2777),n=r(5932),l=r(9015),d=r(91216),c=r(12714),m=r(24230),u=r(58038),f=r(30361),h=r(46226);let p=()=>{let e=(0,o.useRef)(null),a=`
    attribute vec4 aVertexPosition;
    void main() {
      gl_Position = aVertexPosition;
    }
  `,r=`
    precision highp float;
    uniform vec2 iResolution;
    uniform float iTime;
    const float overallSpeed = 0.2;
    const float gridSmoothWidth = 0.015;
    const float axisWidth = 0.05;
    const float majorLineWidth = 0.025;
    const float minorLineWidth = 0.0125;
    const float majorLineFrequency = 5.0;
    const float minorLineFrequency = 1.0;
    const vec4 gridColor = vec4(0.5);
    const float scale = 5.0;
    const vec4 lineColor = vec4(0.263, 0.439, 0.82, 1.0); // #4370d1 convertido
    const float minLineWidth = 0.01;
    const float maxLineWidth = 0.2;
    const float lineSpeed = 1.0 * overallSpeed;
    const float lineAmplitude = 1.0;
    const float lineFrequency = 0.2;
    const float warpSpeed = 0.2 * overallSpeed;
    const float warpFrequency = 0.5;
    const float warpAmplitude = 1.0;
    const float offsetFrequency = 0.5;
    const float offsetSpeed = 1.33 * overallSpeed;
    const float minOffsetSpread = 0.6;
    const float maxOffsetSpread = 2.0;
    const int linesPerGroup = 16;

    #define drawCircle(pos, radius, coord) smoothstep(radius + gridSmoothWidth, radius, length(coord - (pos)))
    #define drawSmoothLine(pos, halfWidth, t) smoothstep(halfWidth, 0.0, abs(pos - (t)))
    #define drawCrispLine(pos, halfWidth, t) smoothstep(halfWidth + gridSmoothWidth, halfWidth, abs(pos - (t)))
    #define drawPeriodicLine(freq, width, t) drawCrispLine(freq / 2.0, width, abs(mod(t, freq) - (freq) / 2.0))

    float drawGridLines(float axis) {
      return drawCrispLine(0.0, axisWidth, axis)
            + drawPeriodicLine(majorLineFrequency, majorLineWidth, axis)
            + drawPeriodicLine(minorLineFrequency, minorLineWidth, axis);
    }

    float drawGrid(vec2 space) {
      return min(1.0, drawGridLines(space.x) + drawGridLines(space.y));
    }

    float random(float t) {
      return (cos(t) + cos(t * 1.3 + 1.3) + cos(t * 1.4 + 1.4)) / 3.0;
    }

    float getPlasmaY(float x, float horizontalFade, float offset) {
      return random(x * lineFrequency + iTime * lineSpeed) * horizontalFade * lineAmplitude + offset;
    }

    void main() {
      vec2 fragCoord = gl_FragCoord.xy;
      vec4 fragColor;
      vec2 uv = fragCoord.xy / iResolution.xy;
      vec2 space = (fragCoord - iResolution.xy / 2.0) / iResolution.x * 2.0 * scale;
      float horizontalFade = 1.0 - (cos(uv.x * 6.28) * 0.5 + 0.5);
      float verticalFade = 1.0 - (cos(uv.y * 6.28) * 0.5 + 0.5);

      space.y += random(space.x * warpFrequency + iTime * warpSpeed) * warpAmplitude * (0.5 + horizontalFade);
      space.x += random(space.y * warpFrequency + iTime * warpSpeed + 2.0) * warpAmplitude * horizontalFade;

      vec4 lines = vec4(0.0);
      
      // Cores Valle360: #0f1b35 e varia\xe7\xf5es
      vec4 bgColor1 = vec4(0.059, 0.106, 0.208, 1.0); // #0f1b35
      vec4 bgColor2 = vec4(0.1, 0.15, 0.28, 1.0); // Varia\xe7\xe3o mais clara

      for(int l = 0; l < linesPerGroup; l++) {
        float normalizedLineIndex = float(l) / float(linesPerGroup);
        float offsetTime = iTime * offsetSpeed;
        float offsetPosition = float(l) + space.x * offsetFrequency;
        float rand = random(offsetPosition + offsetTime) * 0.5 + 0.5;
        float halfWidth = mix(minLineWidth, maxLineWidth, rand * horizontalFade) / 2.0;
        float offset = random(offsetPosition + offsetTime * (1.0 + normalizedLineIndex)) * mix(minOffsetSpread, maxOffsetSpread, horizontalFade);
        float linePosition = getPlasmaY(space.x, horizontalFade, offset);
        float line = drawSmoothLine(linePosition, halfWidth, space.y) / 2.0 + drawCrispLine(linePosition, halfWidth * 0.15, space.y);

        float circleX = mod(float(l) + iTime * lineSpeed, 25.0) - 12.0;
        vec2 circlePosition = vec2(circleX, getPlasmaY(circleX, horizontalFade, offset));
        float circle = drawCircle(circlePosition, 0.01, space) * 4.0;

        line = line + circle;
        lines += line * lineColor * rand;
      }

      fragColor = mix(bgColor1, bgColor2, uv.x);
      fragColor *= verticalFade;
      fragColor.a = 1.0;
      fragColor += lines;
      gl_FragColor = fragColor;
    }
  `,s=(e,a,r)=>{let t=e.createShader(a);return t?(e.shaderSource(t,r),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS))?t:(console.error("Shader compile error: ",e.getShaderInfoLog(t)),e.deleteShader(t),null):null},i=(e,a,r)=>{let t=s(e,e.VERTEX_SHADER,a),o=s(e,e.FRAGMENT_SHADER,r);if(!t||!o)return null;let i=e.createProgram();return i?(e.attachShader(i,t),e.attachShader(i,o),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS))?i:(console.error("Shader program link error: ",e.getProgramInfoLog(i)),null):null};return(0,o.useEffect)(()=>{let t=e.current;if(!t)return;let o=t.getContext("webgl");if(!o){console.warn("WebGL not supported.");return}let s=i(o,a,r);if(!s)return;let n=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,n),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.STATIC_DRAW);let l={program:s,attribLocations:{vertexPosition:o.getAttribLocation(s,"aVertexPosition")},uniformLocations:{resolution:o.getUniformLocation(s,"iResolution"),time:o.getUniformLocation(s,"iTime")}},d=()=>{t.width=window.innerWidth,t.height=window.innerHeight,o.viewport(0,0,t.width,t.height)};window.addEventListener("resize",d),d();let c=Date.now(),m=()=>{let e=(Date.now()-c)/1e3;o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.useProgram(l.program),o.uniform2f(l.uniformLocations.resolution,t.width,t.height),o.uniform1f(l.uniformLocations.time,e),o.bindBuffer(o.ARRAY_BUFFER,n),o.vertexAttribPointer(l.attribLocations.vertexPosition,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(l.attribLocations.vertexPosition),o.drawArrays(o.TRIANGLE_STRIP,0,4),requestAnimationFrame(m)};return requestAnimationFrame(m),()=>{window.removeEventListener("resize",d)}},[]),t.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10"})};function x(){let e=(0,s.useRouter)(),[a,r]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[b,v]=(0,o.useState)(!1),[w,_]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),[P,S]=(0,o.useState)(""),[C,k]=(0,o.useState)(!1),[N,L]=(0,o.useState)(""),A=async r=>{r.preventDefault(),j(!0),S("");try{let{data:r,error:t}=await i.O.auth.signInWithPassword({email:a,password:x});if(t){S("Email ou senha incorretos"),j(!1);return}if(!r.user){S("Erro ao fazer login"),j(!1);return}if(r.session?.access_token&&r.session?.refresh_token)try{await fetch("/api/auth/set-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:r.session.access_token,refresh_token:r.session.refresh_token})})}catch{}w&&(localStorage.setItem("valle360_remember","true"),localStorage.setItem("valle360_session",JSON.stringify({user_id:r.user.id,email:r.user.email,timestamp:new Date().toISOString()})));try{await i.O.from("user_access_logs").insert({user_id:r.user.id,action:"login",ip_address:"",user_agent:navigator.userAgent})}catch(e){console.log("Log de acesso falhou, mas login continua")}if("guilherme@valleai.com.br"===a||a.includes("@vallegroup.com.br")){e.push("/admin/dashboard");return}if("admin@valleai.com.br"===a){e.push("/colaborador/dashboard");return}if("cliente@valleai.com.br"===a){e.push("/cliente/dashboard");return}if("juridico@valle360.com"===a||a.includes("juridico@")){e.push("/juridico");return}if("pagar@valle360.com"===a||a.includes("pagar@")){e.push("/colaborador/financeiro/contas-pagar");return}if("receber@valle360.com"===a||a.includes("receber@")||"financeiro@valle360.com"===a){e.push("/colaborador/financeiro/contas-receber");return}let{data:o}=await i.O.from("users").select("role").eq("id",r.user.id).single(),{data:s}=await i.O.from("user_profiles").select("user_type, role").eq("user_id",r.user.id).single(),{data:n}=await i.O.from("employees").select("role, area").eq("user_id",r.user.id).single();if(n){console.log("Redirecionando para /colaborador/dashboard (via employees)"),e.push("/colaborador/dashboard");return}if(o?.role==="employee"){console.log("Redirecionando para /colaborador/dashboard"),e.push("/colaborador/dashboard");return}if(o?.role==="super_admin"){console.log("Redirecionando para /admin/dashboard"),e.push("/admin/dashboard");return}if(s?.user_type==="super_admin"||s?.role==="super_admin"){console.log("Redirecionando para /admin/dashboard (via profile)"),e.push("/admin/dashboard");return}if(s?.user_type==="employee"||s?.role==="employee"){console.log("Redirecionando para /colaborador/dashboard (via profile)"),e.push("/colaborador/dashboard");return}a.includes("@valle360.com.br")||a.includes("@vallegroup.com.br")?(console.log("Redirecionando para /colaborador/dashboard (via email domain)"),e.push("/colaborador/dashboard")):(console.log("Redirecionando para /cliente/dashboard (default)"),e.push("/cliente/dashboard"))}catch(e){console.error("Erro no login:",e),S("Erro ao fazer login. Tente novamente."),j(!1)}},R=async a=>{a.preventDefault(),j(!0),6===N.length?e.push("/admin/dashboard"):S("C\xf3digo inv\xe1lido"),j(!1)};return(0,t.jsxs)("div",{className:"min-h-screen flex relative overflow-hidden",children:[t.jsx(p,{}),t.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative z-10",children:t.jsx("div",{className:"flex flex-col justify-start items-start px-16 pt-20 pb-12 w-full",children:(0,t.jsxs)("div",{className:"mb-16",children:[t.jsx(h.default,{src:"/Logo/valle360-logo.png",alt:"Valle 360",width:280,height:80,className:"mb-8",priority:!0}),(0,t.jsxs)("h1",{className:"text-5xl font-bold text-white mb-4 leading-tight",children:["O Sistema de Marketing",t.jsx("br",{}),t.jsx("span",{className:"text-[#4370d1]",children:"Mais Inteligente"})," do Brasil"]}),t.jsx("p",{className:"text-xl text-white/80 font-light",children:"Plataforma desenvolvida e exclusiva da Valle 360"})]})})}),t.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative z-20",children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-10 border border-white/20",children:[(0,t.jsxs)("div",{className:"lg:hidden flex flex-col items-center mb-10",children:[t.jsx(h.default,{src:"/icons/valle360-icon.png",alt:"Valle 360",width:64,height:64,className:"mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-[#0f1b35]",children:"Valle 360"}),t.jsx("p",{className:"text-sm text-[#0f1b35]/60",children:"Portal Inteligente de Marketing"})]}),C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-[#4370d1]/10 flex items-center justify-center",children:t.jsx(u.Z,{className:"w-10 h-10 text-[#4370d1]"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2 text-[#0f1b35]",children:"Autentica\xe7\xe3o em Dois Fatores"}),t.jsx("p",{className:"text-sm text-[#0f1b35]/60",children:"Digite o c\xf3digo do Google Authenticator"})]}),P&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:t.jsx("p",{className:"text-red-600 text-sm text-center font-medium",children:P})}),(0,t.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("input",{type:"text",value:N,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-5 text-center text-3xl font-bold tracking-[0.5em] rounded-xl border-2 border-[#0f1b35]/10 bg-white text-[#0f1b35] placeholder-[#0f1b35]/20 focus:border-[#4370d1] focus:outline-none focus:ring-4 focus:ring-[#4370d1]/10 transition-all",placeholder:"000000",maxLength:6,required:!0}),(0,t.jsxs)("p",{className:"mt-3 text-xs text-center text-[#0f1b35]/50 flex items-center justify-center gap-1",children:[t.jsx(f.Z,{className:"w-3 h-3"}),"Digite o c\xf3digo de 6 d\xedgitos"]})]}),t.jsx("button",{type:"submit",disabled:y||6!==N.length,className:"w-full bg-gradient-to-r from-[#4370d1] to-[#0f1b35] hover:from-[#0f1b35] hover:to-[#4370d1] text-white font-bold py-4 rounded-xl transition-all transform hover:scale-[1.02] hover:shadow-xl active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Verificando...":"Verificar"}),t.jsx("button",{type:"button",onClick:()=>k(!1),className:"w-full text-sm text-[#0f1b35]/60 hover:text-[#4370d1] font-medium transition-colors",children:"← Voltar"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[t.jsx("div",{className:"inline-flex items-center justify-center mb-6",children:t.jsx(h.default,{src:"/icons/valle360-icon.png",alt:"Valle 360",width:80,height:80,priority:!0})}),t.jsx("h2",{className:"text-3xl font-bold mb-2 text-[#0f1b35]",children:"Bem-vindo de volta!"}),t.jsx("p",{className:"text-[#0f1b35]/60",children:"Entre com suas credenciais de acesso"})]}),P&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:t.jsx("p",{className:"text-red-600 text-sm text-center font-medium",children:P})}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-[#0f1b35]",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(n.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#0f1b35]/40"}),t.jsx("input",{type:"email",value:a,onChange:e=>r(e.target.value),className:"w-full pl-12 pr-4 py-3.5 rounded-xl border-2 border-[#0f1b35]/10 bg-white text-[#0f1b35] placeholder-[#0f1b35]/40 focus:border-[#4370d1] focus:outline-none focus:ring-4 focus:ring-[#4370d1]/10 transition-all",placeholder:"seu@email.com",required:!0})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-[#0f1b35]",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(l.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#0f1b35]/40"}),t.jsx("input",{type:b?"text":"password",value:x,onChange:e=>g(e.target.value),className:"w-full pl-12 pr-12 py-3.5 rounded-xl border-2 border-[#0f1b35]/10 bg-white text-[#0f1b35] placeholder-[#0f1b35]/40 focus:border-[#4370d1] focus:outline-none focus:ring-4 focus:ring-[#4370d1]/10 transition-all",placeholder:"••••••••",required:!0}),t.jsx("button",{type:"button",onClick:()=>v(!b),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-[#0f1b35]/40 hover:text-[#4370d1] transition-colors",children:b?t.jsx(d.Z,{className:"w-5 h-5"}):t.jsx(c.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer group",children:[t.jsx("input",{type:"checkbox",checked:w,onChange:e=>_(e.target.checked),className:"w-4 h-4 rounded border-2 border-[#0f1b35]/20 text-[#4370d1] focus:ring-[#4370d1] focus:ring-offset-0"}),t.jsx("span",{className:"ml-2 text-sm text-[#0f1b35]/70 group-hover:text-[#0f1b35] transition-colors",children:"Lembrar por 30 dias"})]}),t.jsx("button",{type:"button",onClick:()=>{e.push("/recuperar-senha")},className:"text-sm text-[#4370d1] hover:text-[#0f1b35] font-semibold transition-colors",children:"Esqueceu a senha?"})]}),t.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-[#4370d1] to-[#0f1b35] hover:from-[#0f1b35] hover:to-[#4370d1] text-white font-bold py-4 rounded-xl transition-all transform hover:scale-[1.02] hover:shadow-xl active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-8",children:y?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):(0,t.jsxs)(t.Fragment,{children:["Entrar",t.jsx(m.Z,{className:"w-5 h-5"})]})}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-2 text-[#0f1b35]/50 text-xs",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Conex\xe3o segura e criptografada"})]})]})]}),t.jsx("div",{className:"mt-8 pt-6 border-t border-[#0f1b35]/10",children:t.jsx("p",{className:"text-center text-xs text-[#0f1b35]/50",children:"\xa9 2025 Valle 360. Todos os direitos reservados."})})]})})]})}},74840:(e,a,r)=>{"use strict";r.d(a,{ToasterProvider:()=>s});var t=r(10326),o=r(85999);function s(){return t.jsx(o.x7,{richColors:!0,position:"top-right",closeButton:!0,duration:4500})}},17938:(e,a,r)=>{"use strict";r.d(a,{AppProvider:()=>l});var t=r(10326),o=r(17577),s=r(2777);let i={super_admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","rh_dashboard","rh_tests","rh_recruitment","integrations","intelligence_center","social_scheduling","nps_dashboard","team_management","client_portal","val_ai","reports","settings"],admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","nps_dashboard","team_management","val_ai","reports","settings"],head_marketing:["dashboard","kanban","messages","gamification","approvals","team_management","val_ai","reports","nps_dashboard"],financeiro:["dashboard","messages","gamification","financial_dashboard","val_ai","reports","nps_dashboard"],comercial:["dashboard","kanban","messages","gamification","commercial_dashboard","val_ai","reports"],rh:["dashboard","messages","gamification","rh_dashboard","rh_tests","rh_recruitment","val_ai","reports"],trafego:["dashboard","kanban","messages","gamification","approvals","val_ai"],social_media:["dashboard","kanban","messages","gamification","approvals","social_scheduling","val_ai"],designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],web_designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],video_maker:["dashboard","kanban","messages","gamification","approvals","val_ai"],employee:["dashboard","kanban","messages","gamification","val_ai"]},n=(0,o.createContext)(void 0);function l({children:e}){let[a,r]=(0,o.useState)(null),[l,d]=(0,o.useState)(!0),[c,m]=(0,o.useState)([]),[u,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!0),[x,g]=(0,o.useState)(!1),b=(0,o.useCallback)(async()=>{try{let{data:{user:e}}=await s.O.auth.getUser();if(!e){r(null),d(!1);return}let{data:a}=await s.O.from("user_profiles").select("*").eq("user_id",e.id).single(),{data:t}=await s.O.from("employees").select("*").eq("user_id",e.id).single(),o=t?.area_of_expertise||t?.department||a?.role||"employee";r({id:e.id,email:e.email||"",fullName:a?.full_name||t?.full_name||"Usu\xe1rio",avatar:t?.avatar||a?.avatar_url,role:{super_admin:"super_admin",superadmin:"super_admin",admin:"admin",administrador:"admin",head_marketing:"head_marketing",head:"head_marketing",financeiro:"financeiro",finance:"financeiro",comercial:"comercial",commercial:"comercial",vendas:"comercial",sales:"comercial",rh:"rh",recursos_humanos:"rh",hr:"rh",trafego:"trafego",trafego_pago:"trafego",traffic:"trafego",gestor_de_trafego:"trafego",social_media:"social_media",social:"social_media",designer:"designer",designer_grafico:"designer",graphic_designer:"designer",web_designer:"web_designer",webdesigner:"web_designer",video_maker:"video_maker",videomaker:"video_maker",editor:"video_maker",employee:"employee",colaborador:"employee"}[(a?.user_type||a?.role||o).toLowerCase().replace(/\s+/g,"_").replace(/-/g,"_")]||"employee",area:o,department:t?.department})}catch(e){console.error("Erro ao carregar usu\xe1rio:",e),r(null)}finally{d(!1)}},[]);(0,o.useCallback)(async()=>{if(a)try{let{data:e}=await s.O.from("notifications").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(50);e&&m(e.map(e=>({id:e.id,type:e.type,title:e.title,message:e.message,read:!!e.is_read,createdAt:new Date(e.created_at),actionUrl:e.link,metadata:e.metadata})))}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}},[a]);let v=(0,o.useCallback)(e=>{var r;return!!a&&(r=a.role,i[r]?.includes(e)||!1)},[a]),w=(0,o.useCallback)(async e=>{a&&(await s.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e).eq("user_id",a.id),m(a=>a.map(a=>a.id===e?{...a,read:!0}:a)))},[a]),_=(0,o.useCallback)(async()=>{a&&(await s.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",a.id).eq("is_read",!1),m(e=>e.map(e=>({...e,read:!0}))))},[a]),y=(0,o.useCallback)(async()=>{await s.O.auth.signOut(),r(null),m([])},[]),j={user:a,loading:l,isAuthenticated:!!a,hasPermission:v,notifications:c,unreadCount:c.filter(e=>!e.read).length,markAsRead:w,markAllAsRead:_,isConnected:u,refreshUser:b,logout:y,sidebarOpen:h,setSidebarOpen:p,valChatOpen:x,setValChatOpen:g};return t.jsx(n.Provider,{value:j,children:e})}},2777:(e,a,r)=>{"use strict";r.d(a,{O:()=>i});var t=r(70041);let o="https://ikjgsqtykkhqimypacro.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";o&&s||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let i=(0,t.eI)(o||"https://setup-missing.supabase.co",s||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},49991:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c,dynamic:()=>n,metadata:()=>l,viewport:()=>d});var t=r(19510);r(5023),r(90327);var o=r(68570);let s=(0,o.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#AppProvider`);(0,o.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#useApp`),(0,o.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermission`),(0,o.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermissions`);let i=(0,o.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\components\providers\ToasterProvider.tsx#ToasterProvider`),n="force-dynamic",l={title:"Valle 360 - Portal Integrado",description:"Plataforma interna e portal do cliente",manifest:"/manifest.json"},d={themeColor:"#0b1220"};function c({children:e}){return(0,t.jsxs)("html",{lang:"pt-BR",children:[(0,t.jsxs)("head",{children:[t.jsx("link",{rel:"icon",href:"/icons/valle360-icon.png"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/valle360-icon.png"})]}),t.jsx("body",{children:(0,t.jsxs)(s,{children:[e,t.jsx(i,{})]})})]})}},80974:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\login\page.tsx#default`)},5023:()=>{},90327:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[89276,54267,46226],()=>r(71837));module.exports=t})();