(()=>{var e={};e.id=83497,e.ids=[83497],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50936:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(81491),t(9457),t(49991),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["admin",{children:["machine-learning",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,81491)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\machine-learning\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\machine-learning\\page.tsx"],h="/admin/machine-learning/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/machine-learning/page",pathname:"/admin/machine-learning",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86679:(e,s,t)=>{Promise.resolve().then(t.bind(t,47081))},38787:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},7507:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},52952:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},48238:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},26092:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},25880:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])},92529:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},86645:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},29798:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},52351:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("kanban",[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]])},14802:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},17129:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},77506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},58038:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},85571:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},50949:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94909:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},99513:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},47081:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(10326),r=t(17577),i=t(2777),l=t(29752),n=t(50384),d=t(38443),c=t(98360),o=t(53468),h=t(17069),x=t(14802),m=t(50949),p=t(85999);function u(){let[e,s]=(0,r.useState)([]),[t,u]=(0,r.useState)([]),[g,y]=(0,r.useState)([]),[j,b]=(0,r.useState)([]),[f,v]=(0,r.useState)(!0),[N,k]=(0,r.useState)(!1),[w,_]=(0,r.useState)(null),Z=async()=>{try{let{data:e}=await i.O.from("ml_marketing_patterns").select("*").order("success_rate",{ascending:!1}).limit(10),{data:t}=await i.O.from("ml_predictions_log").select("*").order("created_at",{ascending:!1}).limit(10),{data:a}=await i.O.from("super_admin_insights").select("*").eq("status","new").order("insight_priority",{ascending:!1}).limit(10),{data:r}=await i.O.from("ml_client_behavior_patterns").select("*").order("churn_risk_score",{ascending:!1}).limit(10);s(e||[]);let l=(t||[]).map(e=>{let s=e?.predicted_value,t=s&&"object"==typeof s?s.value??s:s;return{id:e.id,prediction_type:e.prediction_type,target_entity:(s&&"object"==typeof s?s.entity_name:null)||e.prediction_target||"—",confidence_score:Number(e.predicted_probability||0),predicted_value:"number"==typeof t?t:"string"==typeof t?t:JSON.stringify(t??"—"),created_at:e.predicted_at||e.created_at}});u(l||[]),y(a||[]),b(r||[])}catch(e){console.error("Erro ao carregar dados:",e)}finally{v(!1)}},M=async()=>{k(!0);try{let e=await fetch("/api/cron/ml",{method:"POST"}),s=await e.json();if(!e.ok)throw Error(s?.error||"Falha ao executar jobs");p.Am.success("Jobs de ML executados. Atualizando painel…"),await Z()}catch(e){p.Am.error(e?.message||"Erro ao executar jobs")}finally{k(!1)}},C=async(e,s)=>{_(e);try{let t=await fetch("/api/admin/ml/predictions/outcome",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({predictionId:e,wasCorrect:s})}),a=await t.json().catch(()=>null);if(!t.ok||!a?.success)throw Error(a?.error||"Falha ao registrar feedback");p.Am.success("Feedback registrado."),await Z()}catch(e){p.Am.error(e?.message||"Erro ao registrar feedback")}finally{_(null)}};return f?a.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(c.Z,{className:"w-16 h-16 animate-pulse mx-auto mb-4 text-blue-600"}),a.jsx("p",{className:"text-lg",children:"Carregando Machine Learning..."})]})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(c.Z,{className:"w-8 h-8 text-blue-600"}),"Machine Learning & IA"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Padr\xf5es aprendidos, predi\xe7\xf5es e insights autom\xe1ticos"})]}),a.jsx("button",{onClick:M,disabled:N,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed",children:N?"Executando…":"Executar jobs agora"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Padr\xf5es Detectados"}),a.jsx("p",{className:"text-3xl font-bold",children:e.length})]}),a.jsx(o.Z,{className:"w-10 h-10 text-blue-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Predi\xe7\xf5es Ativas"}),a.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),a.jsx(h.Z,{className:"w-10 h-10 text-green-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Insights Novos"}),a.jsx("p",{className:"text-3xl font-bold",children:g.length})]}),a.jsx(x.Z,{className:"w-10 h-10 text-yellow-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Clientes em Risco"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:j.filter(e=>e.churn_risk_score>70).length})]}),a.jsx(m.Z,{className:"w-10 h-10 text-red-500"})]})})})]}),(0,a.jsxs)(n.mQ,{defaultValue:"insights",className:"w-full",children:[(0,a.jsxs)(n.dr,{className:"grid w-full grid-cols-4",children:[a.jsx(n.SP,{value:"insights",children:"Insights Executivos"}),a.jsx(n.SP,{value:"patterns",children:"Padr\xf5es de Marketing"}),a.jsx(n.SP,{value:"behavior",children:"Comportamento Clientes"}),a.jsx(n.SP,{value:"predictions",children:"Predi\xe7\xf5es"})]}),(0,a.jsxs)(n.nU,{value:"insights",className:"space-y-4",children:[g.map(e=>(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(d.C,{variant:"critical"===e.insight_priority?"danger":"high"===e.insight_priority?"default":"secondary",children:e.insight_priority.toUpperCase()}),a.jsx(d.C,{variant:"outline",children:e.insight_category})]}),a.jsx(l.ll,{className:"text-xl",children:e.insight_title}),a.jsx(l.SZ,{className:"mt-2",children:e.insight_description})]}),e.potential_impact_revenue&&(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["+R$ ",e.potential_impact_revenue.toLocaleString("pt-BR")]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Impacto Estimado"})]})]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Confian\xe7a da IA"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${e.confidence_score}%`}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[e.confidence_score,"%"]})]})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Visualizar Detalhes"}),a.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Aprovar A\xe7\xe3o"})]})]})})]},e.id)),0===g.length&&a.jsx(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-12 text-center",children:[a.jsx(x.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Nenhum insight novo no momento"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"A IA est\xe1 analisando seus dados..."})]})})]}),a.jsx(n.nU,{value:"patterns",className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(d.C,{className:"mb-2",children:e.pattern_type}),a.jsx(l.ll,{className:"text-lg",children:e.pattern_name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[e.success_rate,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Taxa de Sucesso"})]})]})}),(0,a.jsxs)(l.aY,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.pattern_description}),(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"\uD83D\uDCA1 Recomenda\xe7\xe3o:"}),a.jsx("p",{className:"text-sm text-blue-800 mt-1",children:e.recommendation})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Engajamento m\xe9dio:"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.avg_engagement_rate,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Confian\xe7a:"}),(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[e.confidence_score,"%"]})]})]})]})]},e.id))})}),a.jsx(n.nU,{value:"behavior",className:"space-y-4",children:a.jsx("div",{className:"space-y-4",children:j.map(e=>(0,a.jsxs)(l.Zb,{className:e.churn_risk_score>70?"border-red-500 border-2":"",children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ll,{children:["Cliente #",e.client_id]}),a.jsx(l.SZ,{className:"mt-1",children:"An\xe1lise de comportamento e risco de churn"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:`text-3xl font-bold ${e.churn_risk_score>70?"text-red-600":e.churn_risk_score>40?"text-yellow-600":"text-green-600"}`,children:[e.churn_risk_score,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Risco de Churn"})]})]})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Prob. Renova\xe7\xe3o"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:[e.renewal_probability,"%"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Prob. Upsell"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-blue-600",children:[e.upsell_probability,"%"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Valor Previsto"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:["R$ ",e.predicted_ltv?.toLocaleString("pt-BR")||"0"]})]})]}),e.churn_risk_score>70&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm font-semibold text-red-900",children:"⚠️ A\xe7\xe3o Urgente Necess\xe1ria"}),a.jsx("p",{className:"text-sm text-red-800 mt-1",children:"Este cliente est\xe1 em alto risco de cancelamento. Recomendamos contato imediato."}),a.jsx("button",{className:"mt-3 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Criar Plano de Reten\xe7\xe3o"})]})]})]},e.id))})}),a.jsx(n.nU,{value:"predictions",className:"space-y-4",children:a.jsx("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(d.C,{className:"mb-2",children:e.prediction_type}),(0,a.jsxs)(l.ll,{className:"text-lg",children:["Predi\xe7\xe3o para ",e.target_entity]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Confian\xe7a"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.confidence_score,"%"]})]})]})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Valor Previsto:"}),a.jsx("p",{className:"text-lg font-bold text-blue-900 mt-1",children:e.predicted_value})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{className:"px-3 py-1.5 rounded-lg text-sm bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",onClick:()=>C(String(e.id),!0),disabled:w===String(e.id),title:"Marcar como correta",children:"Correta"}),a.jsx("button",{className:"px-3 py-1.5 rounded-lg text-sm bg-rose-600 text-white hover:bg-rose-700 disabled:opacity-60",onClick:()=>C(String(e.id),!1),disabled:w===String(e.id),title:"Marcar como incorreta",children:"Incorreta"}),w===String(e.id)&&a.jsx("span",{className:"text-sm text-gray-500",children:"Salvando…"})]})]})]},e.id))})})]})]})}},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>l,aY:()=>o,ll:()=>d});var a=t(10326),r=t(17577),i=t(51223);let l=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",e),...s}));l.displayName="Card";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight text-lg",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-foreground/70",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},50384:(e,s,t)=>{"use strict";t.d(s,{SP:()=>c,dr:()=>d,mQ:()=>n,nU:()=>o});var a=t(10326),r=t(17577),i=t(51223);let l=r.createContext(void 0);function n({defaultValue:e,value:s,onValueChange:t,children:n,className:d}){if(void 0===s&&void 0===e)throw Error("Tabs requires either `value` (controlled) or `defaultValue` (uncontrolled).");let c=s??e??"",[o,h]=r.useState(c);return r.useEffect(()=>{void 0!==s&&h(s)},[s]),a.jsx(l.Provider,{value:{activeTab:o,setActiveTab:e=>{void 0===s&&h(e),t?.(e)}},children:a.jsx("div",{className:(0,i.cn)("",d),children:n})})}function d({children:e,className:s}){return a.jsx("div",{className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 p-1 text-gray-600 dark:text-gray-400",s),children:e})}function c({value:e,children:s,className:t}){let n=r.useContext(l);if(!n)throw Error("TabsTrigger must be used within Tabs");let{activeTab:d,setActiveTab:c}=n,o=d===e;return a.jsx("button",{type:"button",onClick:()=>c(e),className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",t),children:s})}function o({value:e,children:s,className:t}){let n=r.useContext(l);if(!n)throw Error("TabsContent must be used within Tabs");let{activeTab:d}=n;return d!==e?null:a.jsx("div",{className:(0,i.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),children:s})}},81491:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\admin\machine-learning\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,86148,61288,36499,18832,14574,92237],()=>t(50936));module.exports=a})();