(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7911],{91772:function(e,a,s){Promise.resolve().then(s.bind(s,79562))},79562:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ev}});var t=s(57437),r=s(2265),i=s(26892),l=s(57586),n=s(27648),o=s(92735),c=s(61649),d=s(80581),m=s(14438),x=s(13337),h=s(79820),u=s(69174),p=s(12381),g=s(95252),j=s(95805),b=s(58896),f=s(33327),v=s(76865),N=s(96215),y=s(82023),w=s(70525),C=s(3085),k=s(10407),A=s(64972),E=s(41671),S=s(11239),Z=s(81596),_=s(40370),z=s(86595),P=s(91723),R=s(42208),I=s(12194),O=s(82800),T=s(89345),D=s(31810),M=s(31047),L=s(48736),F=s(32489),q=s(60044),V=s(13041),Y=s(53417),B=s(78867),H=s(96362),J=s(44743),U=s(95452),W=s(61102),G=s(92934),K=s(76858);function Q(){let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),l=(0,U.createClientComponentClient)();return((0,r.useEffect)(()=>{(async()=>{let{data:e,error:s}=await l.from("view_scope_creep").select("*").in("status",["critical","warning"]).limit(5);s?console.error("Erro ao carregar scope creep:",s):a(e||[]),i(!1)})()},[]),s)?(0,t.jsx)("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:"Carregando..."}):(0,t.jsxs)(h.Zb,{className:"border-l-4 border-l-red-500 shadow-md",children:[(0,t.jsx)(h.Ol,{className:"pb-2",children:(0,t.jsxs)(h.ll,{className:"flex items-center justify-between text-gray-900",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.Z,{className:"w-5 h-5 text-red-500"}),"Detector de Scope Creep"]}),(0,t.jsxs)(u.C,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.length," alertas"]})]})}),(0,t.jsxs)(h.aY,{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Clientes solicitando mais entregas do que o contratado."}),(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500 bg-gray-50 rounded-lg",children:[(0,t.jsx)(G.Z,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),(0,t.jsx)("p",{children:"Nenhum desvio de escopo detectado."})]}):e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border hover:shadow-sm transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:e.client_name}),"critical"===e.status&&(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.service_name," • ",(0,t.jsx)("span",{className:"capitalize",children:e.deliverable_type})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-gray-900",children:[e.produced_qty," ",(0,t.jsxs)("span",{className:"text-gray-400 text-xs font-normal",children:["/ ",e.contracted_qty]})]}),(0,t.jsxs)("p",{className:"text-xs font-medium text-red-600",children:["+",e.excess_qty," extra"]})]}),(0,t.jsx)(p.z,{size:"icon",variant:"ghost",className:"h-8 w-8",children:(0,t.jsx)(K.Z,{className:"w-4 h-4"})})]})]},a))})]})]})}var X=s(82431),$=s(71422),ee=s(22676),ea=s(33117),es=s(82718),et=s(99388);function er(){let[e,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)("7d"),[o,c]=(0,r.useState)(null),d=async()=>{i(!0),c(null);try{let e=await fetch("/api/admin/conversation-analytics?period=".concat(l)),s=await e.json();s.success?a(s):c(s.error||"Erro ao carregar dados")}catch(e){c("Erro ao conectar com o servidor")}finally{i(!1)}};(0,r.useEffect)(()=>{d()},[l]);let m=async(e,a)=>{try{await fetch("/api/admin/conversation-analytics",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({alertId:e,action:a})}),d()}catch(e){console.error("Erro ao atualizar alerta:",e)}},x=e=>{switch(e){case"critical":return"bg-red-600 text-white";case"high":return"bg-primary text-white";case"medium":return"bg-yellow-500 text-black";default:return"bg-blue-500 text-white"}},g=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});if(s)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(X.Z,{className:"w-8 h-8 animate-spin text-primary"})});if(o)return(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(v.Z,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:o}),(0,t.jsx)(p.z,{onClick:d,variant:"outline",className:"mt-4",children:"Tentar novamente"})]});if(!e)return null;let b=e.summary.total>0?Math.round(e.summary.positive/e.summary.total*100):0,f=e.summary.total>0?Math.round(e.summary.neutral/e.summary.total*100):0,N=e.summary.total>0?Math.round(e.summary.negative/e.summary.total*100):0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"An\xe1lise de Conversas"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.analyzedMessages," mensagens analisadas"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[["7d","30d","90d"].map(e=>(0,t.jsx)(p.z,{variant:l===e?"default":"outline",size:"sm",onClick:()=>n(e),className:l===e?"bg-primary hover:bg-[#1260b5]":"",children:"7d"===e?"7 dias":"30d"===e?"30 dias":"90 dias"},e)),(0,t.jsx)(p.z,{variant:"outline",size:"sm",onClick:d,children:(0,t.jsx)(X.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(h.Zb,{className:"border-l-4 border-l-green-500",children:(0,t.jsx)(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Positivo"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[b,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.positive," mensagens"]})]}),(0,t.jsx)($.Z,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),(0,t.jsx)(h.Zb,{className:"border-l-4 border-l-gray-400",children:(0,t.jsx)(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Neutro"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-600",children:[f,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.neutral," mensagens"]})]}),(0,t.jsx)(ee.Z,{className:"w-10 h-10 text-gray-400 opacity-50"})]})})}),(0,t.jsx)(h.Zb,{className:"border-l-4 border-l-red-500",children:(0,t.jsx)(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Negativo"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[N,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.negative," mensagens"]})]}),(0,t.jsx)(ea.Z,{className:"w-10 h-10 text-red-500 opacity-50"})]})})}),(0,t.jsx)(h.Zb,{className:"border-l-4 border-l-blue-500",children:(0,t.jsx)(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Analisado"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:e.summary.total}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"mensagens"})]}),(0,t.jsx)(es.Z,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"w-5 h-5 text-primary"}),"Tend\xeancia de Sentimento"]})}),(0,t.jsx)(h.aY,{children:0===e.trend.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Sem dados suficientes para exibir tend\xeancia"}):(0,t.jsxs)("div",{className:"space-y-2",children:[e.trend.slice(-7).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-16 text-xs text-gray-500",children:g(e.date)}),(0,t.jsxs)("div",{className:"flex-1 h-4 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[(0,t.jsx)("div",{className:"bg-green-500 h-full",style:{width:"".concat(e.positive+e.neutral+e.negative>0?e.positive/(e.positive+e.neutral+e.negative)*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-gray-400 h-full",style:{width:"".concat(e.positive+e.neutral+e.negative>0?e.neutral/(e.positive+e.neutral+e.negative)*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-red-500 h-full",style:{width:"".concat(e.positive+e.neutral+e.negative>0?e.negative/(e.positive+e.neutral+e.negative)*100:0,"%")}})]}),(0,t.jsx)("span",{className:"w-8 text-xs text-gray-500 text-right",children:e.positive+e.neutral+e.negative})]},e.date)),(0,t.jsxs)("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"})," Positivo"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"})," Neutro"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"})," Negativo"]})]})]})})]}),(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 text-yellow-500"}),"Alertas de Sentimento",e.alerts.length>0&&(0,t.jsx)(u.C,{variant:"danger",className:"ml-2",children:e.alerts.length})]})}),(0,t.jsx)(h.aY,{children:0===e.alerts.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(E.Z,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Nenhum alerta pendente"})]}):(0,t.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.alerts.map(e=>(0,t.jsx)("div",{className:"p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u.C,{className:x(e.severity),children:e.severity}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:g(e.createdAt)})]}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.conversationName})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:["pending"===e.status&&(0,t.jsx)(p.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"acknowledge"),title:"Reconhecer",children:(0,t.jsx)(E.Z,{className:"w-4 h-4 text-blue-500"})}),(0,t.jsx)(p.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"resolve"),title:"Resolver",children:(0,t.jsx)(E.Z,{className:"w-4 h-4 text-green-500"})}),(0,t.jsx)(p.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"dismiss"),title:"Dispensar",children:(0,t.jsx)(et.Z,{className:"w-4 h-4 text-gray-400"})})]})]})},e.id))})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(es.Z,{className:"w-5 h-5 text-blue-500"}),"Por Tipo de Conversa"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.byType.map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.label}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.positivePercent,"% positivo (",e.total," msgs)"]})]}),(0,t.jsxs)("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[(0,t.jsx)("div",{className:"bg-green-500 h-full transition-all",style:{width:"".concat(e.total>0?e.positive/e.total*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-gray-400 h-full transition-all",style:{width:"".concat(e.total>0?e.neutral/e.total*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-red-500 h-full transition-all",style:{width:"".concat(e.total>0?e.negative/e.total*100:0,"%")}})]})]},e.type))})})]}),(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"w-5 h-5 text-purple-500"}),"Por Tipo de Remetente"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.bySender.filter(e=>e.total>0).map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.label}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.positivePercent,"% positivo (",e.total," msgs)"]})]}),(0,t.jsxs)("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[(0,t.jsx)("div",{className:"bg-green-500 h-full transition-all",style:{width:"".concat(e.total>0?e.positive/e.total*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-gray-400 h-full transition-all",style:{width:"".concat(e.total>0?e.neutral/e.total*100:0,"%")}}),(0,t.jsx)("div",{className:"bg-red-500 h-full transition-all",style:{width:"".concat(e.total>0?e.negative/e.total*100:0,"%")}})]})]},e.type)),0===e.bySender.filter(e=>e.total>0).length&&(0,t.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Sem dados suficientes"})]})})]})]})]})}var ei=s(91436),el=s(21156),en=s(56940),eo=s(97059),ec=s(62994),ed=s(78155),em=s(53250),ex=s(52797),eh=s(77031),eu=s(69442),ep=s(86810),eg=s(10062),ej=s(20407),eb=s(93448),ef=s(23457);function ev(){let[e,a]=(0,r.useState)("overview"),[s,U]=(0,r.useState)(!1),[W,G]=(0,r.useState)(null),[K,X]=(0,r.useState)(!1),[$,ee]=(0,r.useState)([]),[ea,es]=(0,r.useState)(!1),[et,ev]=(0,r.useState)(!1),[eN,ey]=(0,r.useState)(!1),[ew,eC]=(0,r.useState)("pdf"),[ek,eA]=(0,r.useState)(!1),[eE,eS]=(0,r.useState)([]),[eZ,e_]=(0,r.useState)(null),[ez,eP]=(0,r.useState)(!0),[eR,eI]=(0,r.useState)(!1),[eO,eT]=(0,r.useState)(null),[eD,eM]=(0,r.useState)(!1),[eL,eF]=(0,r.useState)(null),[eq,eV]=(0,r.useState)(!1),[eY,eB]=(0,r.useState)(!1),[eH,eJ]=(0,r.useState)(!1),[eU,eW]=(0,r.useState)(""),[eG,eK]=(0,r.useState)({sendgrid:{configured:!1,fromEmail:null},whatsapp:{configured:!1}}),[eQ,eX]=(0,r.useState)(!0),e$=[{id:"1",name:"Roberto Mendes",company:"TechVision Ltda",position:"CEO",phone:"(11) 99876-5432",email:"roberto@techvision.com.br",score:95,interest:"Busca solu\xe7\xf5es de automa\xe7\xe3o de marketing",lastContact:"2 dias atr\xe1s",script:"Ol\xe1 Roberto, aqui \xe9 [Seu Nome] da Valle 360!\n\nVi que a TechVision est\xe1 crescendo muito no setor de tecnologia. Parab\xe9ns pelos resultados!\n\nEstou entrando em contato porque trabalhamos com empresas similares ajudando a automatizar o marketing digital e aumentar a gera\xe7\xe3o de leads qualificados.\n\nConseguimos em m\xe9dia um aumento de 40% na convers\xe3o de leads para nossos clientes do segmento tech.\n\nGostaria de agendar uma conversa de 15 minutos para mostrar como podemos ajudar a TechVision a escalar ainda mais?",status:"hot"},{id:"2",name:"Ana Paula Ferreira",company:"Construtora Horizonte",position:"Diretora de Marketing",phone:"(21) 98765-4321",email:"ana.paula@horizonte.com.br",score:88,interest:"Precisa melhorar presen\xe7a nas redes sociais",lastContact:"1 semana atr\xe1s",script:"Ol\xe1 Ana Paula, tudo bem?\n\nAqui \xe9 [Seu Nome] da Valle 360. Notei que a Construtora Horizonte tem lan\xe7amentos incr\xedveis, mas a presen\xe7a digital ainda tem muito potencial.\n\nTrabalhamos com construtoras e conseguimos aumentar em m\xe9dia 60% o engajamento nas redes sociais e 35% nos leads de im\xf3veis.\n\nSeria interessante uma conversa r\xe1pida para mostrar cases do setor imobili\xe1rio?",status:"warm"},{id:"3",name:"Carlos Eduardo",company:"Cl\xednica Premium Sa\xfade",position:"S\xf3cio-administrador",phone:"(31) 97654-3210",email:"carlos@premiumsaude.com.br",score:82,interest:"Quer aumentar agendamentos online",lastContact:"3 dias atr\xe1s",script:"Ol\xe1 Dr. Carlos, aqui \xe9 [Seu Nome] da Valle 360!\n\nAcompanhei o crescimento da Cl\xednica Premium Sa\xfade e o trabalho excepcional que voc\xeas fazem.\n\nTrabalhamos com cl\xednicas e consult\xf3rios ajudando a aumentar os agendamentos online atrav\xe9s de campanhas segmentadas e automa\xe7\xe3o de WhatsApp.\n\nUm de nossos clientes do segmento de sa\xfade aumentou 45% os agendamentos em 2 meses.\n\nPodemos marcar uma conversa para apresentar nossa metodologia?",status:"warm"},{id:"4",name:"Mariana Santos",company:"E-commerce Fashion Store",position:"Fundadora",phone:"(41) 96543-2109",email:"mariana@fashionstore.com.br",score:76,interest:"Procura melhorar convers\xe3o do e-commerce",lastContact:"5 dias atr\xe1s",script:"Ol\xe1 Mariana, tudo bem?\n\nAqui \xe9 [Seu Nome] da Valle 360. Conhe\xe7o o Fashion Store e vi o potencial enorme que voc\xeas t\xeam!\n\nTrabalhamos com e-commerces de moda ajudando a otimizar campanhas de tr\xe1fego pago e aumentar a taxa de convers\xe3o.\n\nConseguimos para um cliente similar aumentar 52% o ROAS em 3 meses.\n\nPodemos agendar uma call para mostrar como replicar isso no Fashion Store?",status:"cold"}],{generateInsights:e0,generateContent:e1,generateEmail:e5,isLoading:e2,error:e3}=(0,d.l)();(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{let i=await fetch("/api/admin/integrations/status",{cache:"no-store"}),l=await i.json().catch(()=>null);if(!e&&i.ok&&l){var a,s,t,r;eK({sendgrid:{configured:!!(null==l?void 0:null===(a=l.sendgrid)||void 0===a?void 0:a.configured),fromEmail:null!==(r=null==l?void 0:null===(s=l.sendgrid)||void 0===s?void 0:s.fromEmail)&&void 0!==r?r:null},whatsapp:{configured:!!(null==l?void 0:null===(t=l.whatsapp)||void 0===t?void 0:t.configured)}})}}catch(e){}finally{e||eX(!1)}})(),()=>{e=!0}},[]),(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{let a=await fetch("/api/admin/analytics/preditivo",{cache:"no-store"}),s=await a.json().catch(()=>null);!e&&a.ok&&(null==s?void 0:s.success)&&e_(s)}catch(e){}finally{e||eP(!1)}})(),()=>{e=!0}},[]);let e6=async()=>{es(!0);try{m.Am.loading("Gerando an\xe1lise com IA...");let e=await e0("strategic",{period:"30d"});eS(e),ev(!0),eT({title:"✅ An\xe1lise de IA Gerada!",message:"A IA analisou seus dados e encontrou ".concat(e.length," insights estrat\xe9gicos."),insights:e.slice(0,5)}),eI(!0),m.Am.dismiss(),m.Am.success("An\xe1lise gerada com sucesso!"),(0,x.L)("ci_generate_analysis_success",{level:"info",data:{insightsCount:e.length}})}catch(a){console.error("Erro ao gerar an\xe1lise:",a),m.Am.dismiss();let e=String((null==a?void 0:a.message)||"Erro ao gerar an\xe1lise");e.includes("[401]")||e.toLowerCase().includes("n\xe3o autorizado")?m.Am.error("Sess\xe3o inv\xe1lida. Fa\xe7a login novamente para usar a IA."):e.toLowerCase().includes("openai api key")?m.Am.error("OpenAI n\xe3o configurada na Vercel. Configure OPENAI_API_KEY."):m.Am.error("Erro ao gerar an\xe1lise: ".concat(e)),(0,x.L)("ci_generate_analysis_error",{level:"error",message:e})}finally{es(!1)}},e4=async e=>{eC(e),eA(!0);try{let a=await e1("report",{type:"executive",period:"monthly",includeInsights:!0,includeMetrics:!0}),s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download="relatorio-valle360.".concat("excel"===e?"xlsx":"pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),ey(!1),m.Am.success("Relat\xf3rio exportado em ".concat(e.toUpperCase()," com sucesso!"))}catch(e){console.error("Erro ao exportar:",e),m.Am.error("Erro ao exportar relat\xf3rio.")}finally{eA(!1)}},e7=async e=>{try{switch(e){case"cobrar":let a=await e5({type:"cobranca",recipientName:"Cliente",context:"Pagamento em atraso h\xe1 15 dias",tone:"formal"});eT({title:"\uD83D\uDCE7 Email de Cobran\xe7a Gerado",message:"A IA criou o seguinte email para envio:",email:a}),eI(!0);break;case"elogiar":let s=await e5({type:"feedback",recipientName:"Colaborador",context:"Excelente performance no \xfaltimo m\xeas, superou todas as metas",tone:"amigavel"});eT({title:"\uD83C\uDF89 Reconhecimento Gerado",message:"A IA criou a seguinte mensagem de reconhecimento:",email:s}),eI(!0);break;case"agendar":eT({title:"\uD83D\uDCC5 Reuni\xf5es Agendadas",message:"Foram identificadas 4 reuni\xf5es pendentes e os convites foram preparados.",actions:["Reuni\xe3o de alinhamento com Cliente A - Ter\xe7a 14h","Review mensal com equipe - Quarta 10h","Apresenta\xe7\xe3o de resultados - Quinta 15h","Reuni\xe3o estrat\xe9gica - Sexta 9h"]}),eI(!0);break;case"relatorio":let t=await e1("report",{type:"monthly",metrics:["revenue","clients","tasks","nps"]});eT({title:"\uD83D\uDCCA Relat\xf3rio Mensal Gerado",message:"A IA compilou os dados do m\xeas:",report:t}),eI(!0);break;default:m.Am.message("A\xe7\xe3o em execu\xe7\xe3o...")}}catch(e){console.error("Erro na a\xe7\xe3o:",e),m.Am.error("Erro ao executar a\xe7\xe3o.")}},e8=e=>{G(e),U(!0)},e9=async()=>{if(W){X(!0);try{m.Am.loading("Executando a\xe7\xe3o...");let e=await fetch("/api/admin/intelligence/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({actionId:W.id,title:W.title,description:W.description,category:W.category,priority:W.priority})}),a=await e.json().catch(()=>({}));if(!e.ok)throw Error((null==a?void 0:a.error)||"Falha ao executar a\xe7\xe3o");ee(e=>[...e,W.id]),U(!1),eT({title:"✅ ".concat(W.title),message:(null==a?void 0:a.already_executed)?"Esta a\xe7\xe3o j\xe1 estava executada (tarefa j\xe1 existia no Kanban).":"A\xe7\xe3o executada: tarefa criada no Kanban do Super Admin.",actions:[(null==a?void 0:a.link)?"\uD83D\uDDC2️ Abrir no Kanban: ".concat(a.link):null].filter(Boolean),link:(null==a?void 0:a.link)||null}),eI(!0),(0,x.L)("ci_execute_action_success",{level:"info",data:{actionId:W.id,already:!!(null==a?void 0:a.already_executed)}})}catch(e){console.error("Erro ao executar:",e),m.Am.dismiss(),m.Am.error("Erro ao executar a\xe7\xe3o: ".concat(String((null==e?void 0:e.message)||e))),(0,x.L)("ci_execute_action_error",{level:"error",message:String((null==e?void 0:e.message)||e)})}finally{m.Am.dismiss(),X(!1),G(null)}}},ae=[{label:"Receita Mensal",value:"R$ 287.450",change:12.5,trend:"up",icon:(0,t.jsx)(g.Z,{className:"w-6 h-6"}),color:"text-green-600"},{label:"Clientes Ativos",value:"42",change:8.3,trend:"up",icon:(0,t.jsx)(j.Z,{className:"w-6 h-6"}),color:"text-blue-600"},{label:"Taxa de Conclus\xe3o",value:"94.2%",change:3.7,trend:"up",icon:(0,t.jsx)(b.Z,{className:"w-6 h-6"}),color:"text-purple-600"},{label:"NPS M\xe9dio",value:"8.7",change:-.5,trend:"down",icon:(0,t.jsx)(f.Z,{className:"w-6 h-6"}),color:"text-primary"}],aa=(()=>{var e,a,s,t,r;let i=[{id:"fallback_1",type:"info",title:ez?"Carregando preditivo…":"Sem alertas preditivos",description:ez?"Buscando health score e previs\xf5es recentes…":"Rode o pipeline ML para gerar previs\xf5es reais (churn, pagamento, LTV, demanda/capacidade).",actionable:!0,link:"/admin/analytics/preditivo"}];if(!eZ)return i;let l=Array.isArray(null==eZ?void 0:eZ.riskyClients)?eZ.riskyClients:[],n=Array.isArray(null==eZ?void 0:eZ.predictions)?eZ.predictions:[],o=e=>{if((null==e?void 0:e.value)!=null)return Number(e.value);let a=null==e?void 0:e.predicted_value;return a&&"object"==typeof a&&"value"in a?Number(a.value):Number.NaN},c=e=>n.filter(a=>String((null==a?void 0:a.type)||(null==a?void 0:a.prediction_type)||"")===e),d=[],m=e=>Number.isFinite(e.v);if(l[0]){let e=l[0];d.push({id:"churn_".concat(String(e.client_id)),type:"critical",title:"Risco de Churn: ".concat(String(e.client_name||e.client_id)),description:"churn ".concat(Math.round(Number(e.churn_probability||0)),"% • score ").concat(Math.round(Number(e.overall_score||0))," • ").concat(String(e.risk_level||"-")),actionable:!0,link:"/admin/analytics/preditivo"})}let x=c("payment_risk").map(e=>({p:e,v:o(e)})).filter(m).sort((e,a)=>a.v-e.v);if(x[0]&&x[0].v>=55){let a=x[0].p,s=(null==a?void 0:a.entity_name)||(null==a?void 0:null===(e=a.predicted_value)||void 0===e?void 0:e.entity_name)||(null==a?void 0:a.target_id)||"Cliente";d.push({id:"pay_".concat(String((null==a?void 0:a.id)||"top")),type:x[0].v>=75?"critical":"warning",title:"Risco de Pagamento: ".concat(String(s)),description:"risco ".concat(Math.round(x[0].v),"% • ver faturas e acionar cobran\xe7a"),actionable:!0,link:"/admin/financeiro/clientes"})}let h=c("demand_capacity").map(e=>({p:e,v:o(e)})).filter(m).sort((e,a)=>a.v-e.v);if(h[0]){let e=h[0].v;d.push({id:"cap_".concat(String((null===(a=h[0].p)||void 0===a?void 0:a.id)||"latest")),type:e>=85?"critical":e>=65?"warning":"info",title:"Capacidade da equipe em ".concat(Math.round(e),"%"),description:e>=85?"Capacidade cr\xedtica: redistribuir demandas e revisar prioridades.":e>=65?"Capacidade pressionada: planejar refor\xe7o/automa\xe7\xe3o.":"Capacidade saud\xe1vel no per\xedodo.",actionable:!0,link:"/admin/rh"})}let u=c("budget_overrun").map(e=>({p:e,v:o(e)})).filter(m).sort((e,a)=>a.v-e.v);if(u[0]&&u[0].v>=70){let e=u[0].p,a=(null==e?void 0:e.entity_name)||(null==e?void 0:null===(s=e.predicted_value)||void 0===s?void 0:s.entity_name)||(null==e?void 0:e.target_id)||"Campanha";d.push({id:"bud_".concat(String((null==e?void 0:e.id)||"top")),type:u[0].v>=90?"critical":"warning",title:"Risco de or\xe7amento: ".concat(String(a)),description:"risco ".concat(Math.round(u[0].v),"% • revisar budget e otimiza\xe7\xf5es da campanha"),actionable:!0,link:"/admin/analytics/preditivo"})}let p=c("revenue").map(e=>({p:e,v:o(e)})).filter(m).sort((e,a)=>a.v-e.v);p[0]&&d.push({id:"rev_".concat(String((null===(t=p[0].p)||void 0===t?void 0:t.id)||"latest")),type:"info",title:"Forecast de Receita (ML/heur\xedstica)",description:"estimativa: R$ ".concat(Math.round(p[0].v).toLocaleString("pt-BR")," • veja detalhes em Analytics Preditivo"),actionable:!0,link:"/admin/analytics/preditivo"});let g=c("conversion").map(e=>({p:e,v:o(e)})).filter(m).sort((e,a)=>a.v-e.v);if(g[0]&&g[0].v>=70){let e=g[0].p,a=(null==e?void 0:e.entity_name)||(null==e?void 0:null===(r=e.predicted_value)||void 0===r?void 0:r.entity_name)||"Lead";d.push({id:"conv_".concat(String((null==e?void 0:e.id)||"top")),type:"info",title:"Alta convers\xe3o prov\xe1vel: ".concat(String(a)),description:"probabilidade ".concat(Math.round(g[0].v),"% • priorizar contato/proposta"),actionable:!0,link:"/admin/prospeccao"})}return d.length?d.slice(0,6):i})(),as=[{name:"Social Media",value:30,color:"#3B82F6"},{name:"Tr\xe1fego",value:25,color:"#10B981"},{name:"Design",value:20,color:"#F59E0B"},{name:"V\xeddeo",value:15,color:"#EF4444"},{name:"Web",value:10,color:"#8B5CF6"}],at=e=>{switch(e){case"critical":return(0,t.jsx)(v.Z,{className:"w-5 h-5 text-red-600"});case"warning":return(0,t.jsx)(v.Z,{className:"w-5 h-5 text-yellow-600"});default:return(0,t.jsx)(v.Z,{className:"w-5 h-5 text-blue-600"})}},ar=e=>{switch(e){case"high":return"border-red-500 bg-red-50 dark:bg-red-900/10";case"medium":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/10";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/10"}},ai=e=>{eF(e),eM(!0)},al=e=>{eF(e),eJ(!1),eW(""),eB(!0)},an=e=>{eF(e),eV(!0)},ao=async e=>{if(eQ){m.Am.info("Verificando integra\xe7\xf5es...");return}m.Am.loading("Preparando email...");try{let a="Valle 360 | ".concat(e.company),s=e.script;try{let t=await e5({objective:"qualified_lead_outreach",lead:{name:e.name,company:e.company,position:e.position,interest:e.interest}});(null==t?void 0:t.subject)&&(a=t.subject),(null==t?void 0:t.body)&&(s=t.body)}catch(e){}let t='<div style="font-family: Arial, sans-serif; line-height: 1.5;">'.concat(String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>"),"</div>"),r=await fetch("/api/admin/outbound/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:e.email,toName:e.name,subject:a,html:t,text:s})}),i=await r.json().catch(()=>({}));if(!r.ok)throw Error((null==i?void 0:i.error)||"Falha ao preparar email");m.Am.dismiss(),(null==i?void 0:i.mailtoUrl)?(window.open(i.mailtoUrl,"_blank"),m.Am.success("Email pronto! Abra seu app de email.")):m.Am.success("Email preparado com sucesso!"),(0,x.L)("ci_lead_send_email_success",{level:"info",data:{leadId:e.id}})}catch(e){m.Am.dismiss(),m.Am.error("Erro ao enviar email: ".concat(String((null==e?void 0:e.message)||e))),(0,x.L)("ci_lead_send_email_error",{level:"error",message:String((null==e?void 0:e.message)||e)})}},ac=async e=>{if(eQ){m.Am.info("Verificando integra\xe7\xf5es...");return}if(!eG.whatsapp.configured){m.Am.error("WhatsApp n\xe3o configurado. Configure WHATSAPP_PHONE_NUMBER_ID e WHATSAPP_ACCESS_TOKEN na Vercel.");return}m.Am.loading("Enviando WhatsApp...");try{let a=await fetch("/api/admin/outbound/whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toPhone:e.phone,text:e.script})}),s=await a.json().catch(()=>({}));if(!a.ok)throw Error((null==s?void 0:s.error)||"Falha ao enviar WhatsApp");m.Am.dismiss(),m.Am.success("WhatsApp enviado com sucesso!"),(0,x.L)("ci_lead_send_whatsapp_success",{level:"info",data:{leadId:e.id}})}catch(e){m.Am.dismiss(),m.Am.error("Erro ao enviar WhatsApp: ".concat(String((null==e?void 0:e.message)||e))),(0,x.L)("ci_lead_send_whatsapp_error",{level:"error",message:String((null==e?void 0:e.message)||e)})}},ad=e=>{switch(e){case"hot":return"bg-red-500";case"warm":return"bg-primary";default:return"bg-blue-500"}},am=e=>{switch(e){case"hot":return"Quente";case"warm":return"Morno";default:return"Frio"}};return(0,t.jsxs)("div",{className:"space-y-6 pb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Centro de Intelig\xeancia de Gest\xe3o"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Dashboard executivo com insights e recomenda\xe7\xf5es automatizadas por IA"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.z,{variant:"outline",onClick:()=>ey(!0),children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Exportar Relat\xf3rio"]}),(0,t.jsx)(p.z,{className:"bg-primary hover:bg-[#1260b5]",onClick:e6,disabled:ea,children:ea?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Gerando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Gerar An\xe1lise IA"]})})]})]}),(0,t.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("nav",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>a("overview"),className:"pb-3 px-1 text-sm font-medium transition-colors border-b-2 ".concat("overview"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:"Vis\xe3o Geral"}),(0,t.jsx)("button",{onClick:()=>a("conversations"),className:"pb-3 px-1 text-sm font-medium transition-colors border-b-2 ".concat("conversations"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:"An\xe1lise de Conversas"})]})}),"conversations"===e?(0,t.jsx)(er,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ae.map((e,a)=>(0,t.jsx)(n.default,{href:["/admin/financeiro","/admin/clientes","/admin/performance","/admin/nps"][a],children:(0,t.jsx)(i.E.div,{whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},children:(0,t.jsx)(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-[#1672d6]/30 hover:shadow-lg transition-all",children:(0,t.jsxs)(h.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("div",{className:e.color,children:e.icon}),(0,t.jsxs)(u.C,{className:"up"===e.trend?"bg-emerald-600":"down"===e.trend?"bg-red-600":"bg-gray-600",children:["up"===e.trend?(0,t.jsx)(w.Z,{className:"w-3 h-3 mr-1"}):(0,t.jsx)(C.Z,{className:"w-3 h-3 mr-1"}),e.change>0?"+":"",e.change,"%"]})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:e.value}),(0,t.jsx)("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:e.label}),(0,t.jsxs)("div",{className:"mt-2 flex items-center text-[#1672d6] text-xs font-medium",children:["Ver detalhes ",(0,t.jsx)(k.Z,{className:"w-3 h-3 ml-1"})]})]})})})},a))}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsxs)(h.Zb,{className:"lg:col-span-2",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 text-purple-600"}),"Recomenda\xe7\xf5es de IA Priorizadas"]})}),(0,t.jsx)(h.aY,{className:"space-y-3",children:[{id:"1",priority:"high",title:"Aumentar pre\xe7o do pacote Premium",description:"An\xe1lise de mercado e satisfa\xe7\xe3o dos clientes indica que h\xe1 espa\xe7o para aumento de 15% sem impacto no churn.",impact:"+R$ 12.500/m\xeas",category:"Receita"},{id:"2",priority:"high",title:"Contratar Social Media J\xfanior",description:"Equipe de Social Media est\xe1 com carga de 95%. Nova contrata\xe7\xe3o pode aumentar capacidade em 30%.",impact:"+10 clientes potenciais",category:"Recursos Humanos"},{id:"3",priority:"medium",title:"Implementar upsell para Cliente B",description:"Cliente B tem crescimento de 45% em engajamento. Momento ideal para oferecer servi\xe7os adicionais.",impact:"+R$ 3.200/m\xeas",category:"Vendas"},{id:"4",priority:"medium",title:"Reuni\xe3o 1-on-1 com Maria Santos",description:"Performance excelente (110% das metas). Momento para discutir promo\xe7\xe3o e evitar perda de talento.",impact:"Reten\xe7\xe3o de talento",category:"Gest\xe3o de Pessoas"},{id:"5",priority:"low",title:"Automatizar relat\xf3rios mensais",description:"Equipe gasta 8h/m\xeas em relat\xf3rios manuais. Automa\xe7\xe3o pode economizar 80% desse tempo.",impact:"6.4h economizadas/m\xeas",category:"Efici\xeancia Operacional"}].map(e=>(0,t.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(ar(e.priority)," transition-all hover:shadow-md"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,t.jsx)(u.C,{variant:"outline",className:"text-xs",children:e.category})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["Impacto: ",e.impact]}),(0,t.jsx)("span",{className:"text-gray-500",children:"•"}),(0,t.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:["high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"," Prioridade"]})]})]}),$.includes(e.id)?(0,t.jsxs)(u.C,{className:"ml-4 bg-emerald-600",children:[(0,t.jsx)(E.Z,{className:"w-3 h-3 mr-1"}),"Executado"]}):(0,t.jsxs)(p.z,{size:"sm",className:"ml-4 bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>e8(e),children:[(0,t.jsx)(S.Z,{className:"w-4 h-4 mr-1"}),"Executar"]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(Q,{}),(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 text-red-600"}),"Alertas Cr\xedticos"]})}),(0,t.jsx)(h.aY,{className:"space-y-3",children:aa.map(e=>(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat("critical"===e.type?"bg-red-50 dark:bg-red-900/10 border border-red-200":"warning"===e.type?"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200":"bg-blue-50 dark:bg-blue-900/10 border border-blue-200"),children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[at(e.type),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h5",{className:"font-medium text-sm text-gray-900 dark:text-white mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description}),e.actionable&&(0,t.jsx)(p.z,{variant:"ghost",size:"sm",className:"p-0 h-auto mt-1 text-xs",onClick:()=>{e.link&&(window.location.href=e.link)},disabled:!e.link,children:"Ver detalhes →"})]})]})},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"w-5 h-5 text-blue-600"}),"Evolu\xe7\xe3o Financeira"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsx)(ei.h,{width:"100%",height:300,children:(0,t.jsxs)(el.w,{data:[{month:"Jul",receita:245e3,despesas:18e4,lucro:65e3},{month:"Ago",receita:258e3,despesas:185e3,lucro:73e3},{month:"Set",receita:267e3,despesas:19e4,lucro:77e3},{month:"Out",receita:275e3,despesas:192e3,lucro:83e3},{month:"Nov",receita:287e3,despesas:195e3,lucro:92e3}],children:[(0,t.jsx)(en.q,{strokeDasharray:"3 3"}),(0,t.jsx)(eo.K,{dataKey:"month"}),(0,t.jsx)(ec.B,{}),(0,t.jsx)(ed.u,{}),(0,t.jsx)(em.D,{}),(0,t.jsx)(ex.x,{type:"monotone",dataKey:"receita",stroke:"#10B981",strokeWidth:2,name:"Receita"}),(0,t.jsx)(ex.x,{type:"monotone",dataKey:"despesas",stroke:"#EF4444",strokeWidth:2,name:"Despesas"}),(0,t.jsx)(ex.x,{type:"monotone",dataKey:"lucro",stroke:"#3B82F6",strokeWidth:2,name:"Lucro"})]})})})]}),(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"w-5 h-5 text-purple-600"}),"Ranking de Performance da Equipe"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsx)(ei.h,{width:"100%",height:300,children:(0,t.jsxs)(eh.v,{data:[{name:"Maria Santos",score:110},{name:"Pedro Costa",score:105},{name:"Ana Lima",score:98},{name:"Carlos Souza",score:92},{name:"Julia Alves",score:88},{name:"Jo\xe3o Silva",score:65}],layout:"vertical",children:[(0,t.jsx)(en.q,{strokeDasharray:"3 3"}),(0,t.jsx)(eo.K,{type:"number",domain:[0,120]}),(0,t.jsx)(ec.B,{dataKey:"name",type:"category",width:100}),(0,t.jsx)(ed.u,{}),(0,t.jsx)(eu.$,{dataKey:"score",fill:"#3B82F6",name:"Performance Score"})]})})})]})]}),(0,t.jsxs)(h.Zb,{children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(_.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Distribui\xe7\xe3o de Receita por Departamento"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(ei.h,{width:"100%",height:300,children:(0,t.jsxs)(ep.u,{children:[(0,t.jsx)(eg.b,{data:as,cx:"50%",cy:"50%",labelLine:!1,label:e=>"".concat(e.name," ").concat((100*(e.percent||0)).toFixed(0),"%"),outerRadius:100,fill:"#8884d8",dataKey:"value",children:as.map((e,a)=>(0,t.jsx)(ej.b,{fill:e.color},"cell-".concat(a)))}),(0,t.jsx)(ed.u,{})]})})})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-transparent",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 text-purple-600"}),"Insights de IA - Leads Qualificados",(0,t.jsxs)(u.C,{className:"bg-purple-500/10 text-purple-600 border border-purple-500/30 text-[10px]",children:[(0,t.jsx)(y.Z,{className:"w-2.5 h-2.5 mr-0.5"}),e$.length," Leads"]})]})})}),(0,t.jsx)(h.aY,{children:(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e$.map(e=>(0,t.jsxs)(i.E.div,{whileHover:{y:-2},className:"p-4 rounded-xl border border-border bg-white dark:bg-[#0a0f1a] shadow-sm hover:shadow-md transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.position," @ ",e.company]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.C,{className:(0,eb.cn)("text-white text-[10px]",ad(e.status)),children:am(e.status)}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 px-2 py-1 rounded-full text-xs font-medium",children:[(0,t.jsx)(z.Z,{className:"w-3 h-3 fill-current"}),e.score,"%"]})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.interest}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-4",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3"}),"\xdaltimo contato: ",e.lastContact]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.z,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>ai(e),children:[(0,t.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),"Ver"]}),(0,t.jsxs)(p.z,{size:"sm",variant:"outline",className:"flex-1 text-xs text-emerald-600 border-emerald-500/30 hover:bg-emerald-500/10",onClick:()=>al(e),children:[(0,t.jsx)(I.Z,{className:"w-3 h-3 mr-1"}),"Ligar"]}),(0,t.jsxs)(p.z,{size:"sm",className:"flex-1 text-xs bg-purple-600 hover:bg-purple-700",onClick:()=>an(e),children:[(0,t.jsx)(O.Z,{className:"w-3 h-3 mr-1"}),"Ver Roteiro"]})]})]},e.id))})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-[#1672d6]/20 overflow-hidden",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Insights Estrat\xe9gicos em 3D",(0,t.jsxs)(u.C,{className:"bg-[#1672d6]/10 text-[#1672d6] border-[#1672d6]/30 text-[10px]",children:[(0,t.jsx)(y.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Preditivo"]})]}),(0,t.jsxs)(p.z,{variant:"outline",size:"sm",children:["Ver Todos",(0,t.jsx)(k.Z,{className:"w-4 h-4 ml-1"})]})]})}),(0,t.jsxs)(h.aY,{children:[(0,t.jsx)("div",{className:"h-[400px] w-full",children:(0,t.jsx)(ef.ZP,{items:[{id:1,title:"Crescimento de Receita +22%",description:"Proje\xe7\xe3o baseada em contratos ativos",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400",category:"Financeiro"},{id:2,title:"3 Clientes com Risco de Churn",description:"An\xe1lise comportamental detectou alertas",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400",category:"Reten\xe7\xe3o"},{id:3,title:"5 Oportunidades de Upsell",description:"Clientes com alto engajamento",image:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=400",category:"Vendas"},{id:4,title:"8 Leads Qualificados",description:"Prontos para convers\xe3o este m\xeas",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400",category:"Comercial"},{id:5,title:"Performance da Equipe +15%",description:"Melhoria cont\xednua nos indicadores",image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400",category:"RH"},{id:6,title:"ROI M\xe9dio das Campanhas",description:"Retorno de 340% nos \xfaltimos 3 meses",image:"https://images.unsplash.com/photo-1533750349088-cd871a92f312?w=400",category:"Marketing"}],onItemClick:e=>console.log("Clicked:",e),hideInstructions:!0})}),(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Arraste para explorar os insights • Clique para ver detalhes"})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(n.default,{href:"/admin/analytics/preditivo",children:(0,t.jsx)(i.E.div,{whileHover:{y:-4},children:(0,t.jsx)(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-emerald-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-emerald-500/10",children:(0,t.jsx)(w.Z,{className:"w-5 h-5 text-emerald-500"})}),(0,t.jsx)("span",{className:"text-xs text-emerald-500 font-medium",children:"Previs\xe3o"})]}),(0,t.jsx)("h4",{className:"font-bold text-lg mb-1",children:"+22% Receita"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Proje\xe7\xe3o para pr\xf3ximo trimestre baseada em contratos ativos"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-emerald-500 text-xs font-medium",children:["Ver an\xe1lise ",(0,t.jsx)(k.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),(0,t.jsx)(n.default,{href:"/admin/clientes?filter=churn_risk",children:(0,t.jsx)(i.E.div,{whileHover:{y:-4},children:(0,t.jsx)(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-amber-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-amber-500/10",children:(0,t.jsx)(v.Z,{className:"w-5 h-5 text-amber-500"})}),(0,t.jsx)("span",{className:"text-xs text-amber-500 font-medium",children:"Alerta IA"})]}),(0,t.jsx)("h4",{className:"font-bold text-lg mb-1",children:"3 Clientes Risco"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Probabilidade de churn detectada pela an\xe1lise comportamental"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-amber-500 text-xs font-medium",children:["Ver clientes ",(0,t.jsx)(k.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),(0,t.jsx)(n.default,{href:"/admin/clientes?filter=upsell",children:(0,t.jsx)(i.E.div,{whileHover:{y:-4},children:(0,t.jsx)(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-purple-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-purple-500/10",children:(0,t.jsx)(j.Z,{className:"w-5 h-5 text-purple-500"})}),(0,t.jsx)("span",{className:"text-xs text-purple-500 font-medium",children:"Oportunidade"})]}),(0,t.jsx)("h4",{className:"font-bold text-lg mb-1",children:"5 Upsells"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Clientes com alto engajamento prontos para upgrade"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-purple-500 text-xs font-medium",children:["Ver oportunidades ",(0,t.jsx)(k.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),(0,t.jsx)(n.default,{href:"/admin/comercial/leads",children:(0,t.jsx)(i.E.div,{whileHover:{y:-4},children:(0,t.jsx)(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-[#1672d6]/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-[#1672d6]/10",children:(0,t.jsx)(b.Z,{className:"w-5 h-5 text-[#1672d6]"})}),(0,t.jsx)("span",{className:"text-xs text-[#1672d6] font-medium",children:"SQL"})]}),(0,t.jsx)("h4",{className:"font-bold text-lg mb-1",children:"8 Leads Quentes"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Leads qualificados prontos para convers\xe3o este m\xeas"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-[#1672d6] text-xs font-medium",children:["Ver leads ",(0,t.jsx)(k.Z,{className:"w-3 h-3 ml-1"})]})]})})})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-[#1672d6]/20 bg-gradient-to-br from-[#1672d6]/5 to-transparent",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"w-5 h-5 text-[#1672d6]"}),"A\xe7\xf5es R\xe1pidas com IA"]})}),(0,t.jsx)(h.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e7("cobrar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-[#1672d6]/30 transition-all text-left",children:[(0,t.jsx)(T.Z,{className:"w-6 h-6 text-[#1672d6] mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Cobrar Clientes"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"3 em atraso"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e7("elogiar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-emerald-500/30 transition-all text-left",children:[(0,t.jsx)(D.Z,{className:"w-6 h-6 text-emerald-500 mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Elogiar Equipe"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"5 destaques"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e7("agendar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-purple-500/30 transition-all text-left",children:[(0,t.jsx)(M.Z,{className:"w-6 h-6 text-purple-500 mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Agendar Reuni\xf5es"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"4 pendentes"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e7("relatorio"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-primary/30 transition-all text-left",children:[(0,t.jsx)(L.Z,{className:"w-6 h-6 text-primary mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Gerar Relat\xf3rio"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Mensal"})]})]})})]}),(0,t.jsx)(l.M,{children:s&&W&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!K&&U(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-[#1672d6]/10",children:(0,t.jsx)(S.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Confirmar Execu\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Esta a\xe7\xe3o ser\xe1 executada automaticamente"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground mb-1",children:W.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:W.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(u.C,{className:"bg-emerald-500/10 text-emerald-600 border border-emerald-500/30",children:["Impacto: ",W.impact]}),(0,t.jsx)(u.C,{variant:"outline",children:W.category})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Ao confirmar, a IA ir\xe1 executar as a\xe7\xf5es necess\xe1rias automaticamente."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(p.z,{variant:"outline",className:"flex-1",onClick:()=>U(!1),disabled:K,children:"Cancelar"}),(0,t.jsx)(p.z,{className:"flex-1 bg-[#1672d6] hover:bg-[#1260b5]",onClick:e9,disabled:K,children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Executando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Z,{className:"w-4 h-4 mr-2"}),"Confirmar Execu\xe7\xe3o"]})})]})]})]})})}),(0,t.jsx)(l.M,{children:eN&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!ek&&ey(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Exportar Relat\xf3rio"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Escolha o formato do arquivo"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e4("pdf"),disabled:ek,className:"p-6 rounded-xl border-2 border-red-500/30 bg-red-500/5 hover:bg-red-500/10 transition-all text-center",children:[(0,t.jsx)(o.Z,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-red-600",children:"PDF"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Relat\xf3rio formatado"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e4("excel"),disabled:ek,className:"p-6 rounded-xl border-2 border-emerald-500/30 bg-emerald-500/5 hover:bg-emerald-500/10 transition-all text-center",children:[(0,t.jsx)(c.Z,{className:"w-8 h-8 text-emerald-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"font-semibold text-emerald-600",children:"Excel"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Planilha edit\xe1vel"})]})]}),ek&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[#1672d6]",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#1672d6]/30 border-t-[#1672d6] rounded-full animate-spin"}),(0,t.jsxs)("span",{className:"text-sm",children:["Gerando ",ew.toUpperCase(),"..."]})]}),(0,t.jsx)(p.z,{variant:"outline",className:"w-full mt-4",onClick:()=>ey(!1),disabled:ek,children:"Cancelar"})]})]})})}),(0,t.jsx)(l.M,{children:eD&&eL&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eM(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:eL.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:eL.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:eL.position})]})]}),(0,t.jsx)(p.z,{variant:"ghost",size:"icon",onClick:()=>eM(!1),children:(0,t.jsx)(F.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[(0,t.jsx)(q.Z,{className:"w-3 h-3"}),"Empresa"]}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:eL.company})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[(0,t.jsx)(z.Z,{className:"w-3 h-3"}),"Score"]}),(0,t.jsxs)("p",{className:"font-medium text-foreground",children:[eL.score,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[(0,t.jsx)(V.Z,{className:"w-3 h-3"}),"Telefone"]}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:eL.phone})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[(0,t.jsx)(T.Z,{className:"w-3 h-3"}),"Email"]}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:eL.email})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-purple-600 mb-1",children:[(0,t.jsx)(A.Z,{className:"w-3 h-3"}),"Interesse Detectado pela IA"]}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:eL.interest})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsxs)(p.z,{variant:"outline",className:"flex-1",onClick:()=>{eM(!1),al(eL)},children:[(0,t.jsx)(I.Z,{className:"w-4 h-4 mr-2"}),"Ligar"]}),(0,t.jsxs)(p.z,{className:"flex-1 bg-purple-600 hover:bg-purple-700",onClick:()=>{eM(!1),an(eL)},children:[(0,t.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"Ver Roteiro"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(p.z,{variant:"outline",className:"flex-1",onClick:()=>ao(eL),disabled:eQ,title:"Abrir email via mailto",children:[(0,t.jsx)(T.Z,{className:"w-4 h-4 mr-2"}),"Enviar Email"]}),(0,t.jsxs)(p.z,{variant:"outline",className:"flex-1",onClick:()=>ac(eL),disabled:eQ||!eG.whatsapp.configured,title:eG.whatsapp.configured?"":"WhatsApp n\xe3o configurado (WHATSAPP_PHONE_NUMBER_ID / WHATSAPP_ACCESS_TOKEN)",children:[(0,t.jsx)(Y.Z,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]})]})})}),(0,t.jsx)(l.M,{children:eY&&eL&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!eH&&eB(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:(0,t.jsx)(I.Z,{className:"w-6 h-6 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Agendar Liga\xe7\xe3o"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Para ",eL.name]})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:eL.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:eL.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:eL.phone})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:eL.company})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Escolha a data e hor\xe1rio"}),(0,t.jsx)("input",{type:"datetime-local",value:eU,onChange:e=>eW(e.target.value),className:"w-full p-3 rounded-xl border border-border bg-background text-foreground"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[(0,t.jsx)(A.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Dica da IA:"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Melhores hor\xe1rios para ",eL.name,": 10h-12h ou 14h-16h"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(p.z,{variant:"outline",className:"flex-1",onClick:()=>eB(!1),disabled:eH,children:"Cancelar"}),(0,t.jsx)(p.z,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",onClick:()=>{if(!eU){m.Am.error("Selecione um hor\xe1rio para a liga\xe7\xe3o");return}eJ(!0),setTimeout(()=>{eB(!1),eT({title:"\uD83D\uDCDE Liga\xe7\xe3o Agendada!",message:"Liga\xe7\xe3o para ".concat(null==eL?void 0:eL.name," agendada com sucesso."),actions:["\uD83D\uDCC5 Data: ".concat(eU),"\uD83D\uDCF1 Telefone: ".concat(null==eL?void 0:eL.phone),"\uD83C\uDFE2 Empresa: ".concat(null==eL?void 0:eL.company),"⏰ Lembrete ser\xe1 enviado 15 min antes"]}),eI(!0)},1500)},disabled:eH,children:eH?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Agendando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.Z,{className:"w-4 h-4 mr-2"}),"Agendar Liga\xe7\xe3o"]})})]}),(0,t.jsxs)(p.z,{variant:"ghost",className:"w-full text-emerald-600",onClick:()=>window.open("tel:".concat(eL.phone)),children:[(0,t.jsx)(V.Z,{className:"w-4 h-4 mr-2"}),"Ligar Agora"]})]})]})})}),(0,t.jsx)(l.M,{children:eq&&eL&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eV(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl max-h-[85vh] overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-500/20 to-indigo-500/20",children:(0,t.jsx)(O.Z,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Roteiro de Abordagem"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Gerado pela IA para ",eL.name]})]})]}),(0,t.jsx)(p.z,{variant:"ghost",size:"icon",onClick:()=>eV(!1),children:(0,t.jsx)(F.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 overflow-auto max-h-[50vh]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsxs)(u.C,{className:(0,eb.cn)("text-white",ad(eL.status)),children:["Lead ",am(eL.status)]}),(0,t.jsxs)(u.C,{variant:"outline",children:["Score: ",eL.score,"%"]}),(0,t.jsxs)(u.C,{className:"bg-purple-500/10 text-purple-600 border border-purple-500/30",children:[(0,t.jsx)(y.Z,{className:"w-3 h-3 mr-1"}),"IA Personalizado"]})]}),(0,t.jsx)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/5 to-indigo-500/5 border border-purple-500/20",children:(0,t.jsx)("p",{className:"text-foreground whitespace-pre-line leading-relaxed",children:eL.script})}),(0,t.jsxs)("div",{className:"mt-4 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-amber-600 mb-1",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Pontos de Aten\xe7\xe3o:"})]}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6 list-disc",children:[(0,t.jsxs)("li",{children:["Foque nos benef\xedcios espec\xedficos para ",eL.company]}),(0,t.jsx)("li",{children:"Mencione cases de sucesso do mesmo segmento"}),(0,t.jsx)("li",{children:"Prepare-se para obje\xe7\xf5es de pre\xe7o"})]})]})]}),(0,t.jsx)("div",{className:"p-6 border-t border-border bg-muted/30",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(p.z,{variant:"outline",className:"flex-1",onClick:()=>{eL&&(navigator.clipboard.writeText(eL.script),m.Am.success("Roteiro copiado para a \xe1rea de transfer\xeancia!"))},children:[(0,t.jsx)(B.Z,{className:"w-4 h-4 mr-2"}),"Copiar Roteiro"]}),(0,t.jsxs)(p.z,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",onClick:()=>{eV(!1),al(eL)},children:[(0,t.jsx)(I.Z,{className:"w-4 h-4 mr-2"}),"Ligar Agora"]})]})})]})})}),(0,t.jsx)(l.M,{children:eR&&eO&&(0,t.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eI(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-border sticky top-0 bg-white dark:bg-[#0a0f1a]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r from-[#1672d6]/20 to-purple-500/20",children:(0,t.jsx)(y.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:eO.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gerado pela IA"})]})]}),(0,t.jsx)(p.z,{variant:"ghost",size:"icon",onClick:()=>eI(!1),children:(0,t.jsx)(F.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:eO.message}),eO.link&&(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)(p.z,{className:"bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>window.open(String(eO.link),"_blank"),children:[(0,t.jsx)(H.Z,{className:"w-4 h-4 mr-2"}),"Abrir no Kanban"]})}),eO.insights&&eO.insights.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Insights Encontrados:"}),eO.insights.map((e,a)=>(0,t.jsx)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(u.C,{className:(0,eb.cn)("shrink-0","critical"===e.priority||"high"===e.priority?"bg-red-500/10 text-red-600":"medium"===e.priority?"bg-yellow-500/10 text-yellow-600":"bg-green-500/10 text-green-600"),children:e.priority}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-[#1672d6] mt-2",children:["\uD83D\uDCA1 ",e.action]})]})]})},a))]}),eO.email&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[(0,t.jsxs)("p",{className:"font-medium text-foreground mb-2",children:["Assunto: ",eO.email.subject]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:eO.email.body}})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.z,{className:"flex-1 bg-[#1672d6]",children:[(0,t.jsx)(J.Z,{className:"w-4 h-4 mr-2"}),"Enviar Email"]}),(0,t.jsx)(p.z,{variant:"outline",className:"flex-1",children:"Copiar"})]})]}),eO.actions&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"A\xe7\xf5es Preparadas:"}),eO.actions.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)(E.Z,{className:"w-5 h-5 text-emerald-500"}),(0,t.jsx)("span",{className:"text-sm text-foreground",children:e})]},a))]}),eO.report&&(0,t.jsx)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:(0,t.jsx)("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap overflow-auto max-h-60",children:JSON.stringify(eO.report,null,2)})}),(0,t.jsx)(p.z,{className:"w-full bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>eI(!1),children:"Fechar"})]})]})})})]})]})}},69174:function(e,a,s){"use strict";s.d(a,{C:function(){return n}});var t=s(57437);s(2265);var r=s(90535),i=s(93448);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-valle-blue-600 text-white",secondary:"border-transparent bg-valle-silver-300 text-valle-navy-800",outline:"text-valle-navy-700 border-valle-silver-400",success:"border-transparent bg-green-600 text-white",warning:"border-transparent bg-yellow-600 text-white",danger:"border-transparent bg-red-600 text-white"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:s}),a),...r})}},12381:function(e,a,s){"use strict";s.d(a,{z:function(){return o}});var t=s(57437),r=s(2265),i=s(90535),l=s(93448);let n=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:s,variant:r,size:i,...o}=e;return(0,t.jsx)("button",{className:(0,l.cn)(n({variant:r,size:i,className:s})),ref:a,...o})});o.displayName="Button"},79820:function(e,a,s){"use strict";s.d(a,{Ol:function(){return n},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var t=s(57437),r=s(2265),i=s(93448);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",s),...r})});l.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight text-lg",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-foreground/70",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},23457:function(e,a,s){"use strict";s.d(a,{h3:function(){return p}});var t=s(57437),r=s(2265),i=s(81906),l=s(33728),n=s(26892),o=s(19653),c=s(57586),d=s(93448);let m=r.useLayoutEffect,x={duration:.15,ease:"easeOut"},h={duration:.5,ease:"easeOut"},u=(0,r.memo)(e=>{let{handleClick:a,controls:s,items:o,isCarouselActive:c}=e,d=!function(e){let{defaultValue:a=!1,initializeWithValue:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e=>window.matchMedia(e).matches,[i,l]=(0,r.useState)(()=>s?t(e):a),n=()=>{l(t(e))};return m(()=>{let a=window.matchMedia(e);return n(),a.addEventListener("change",n),()=>{a.removeEventListener("change",n)}},[e]),i}("(max-width: 640px)")?1800:1100,h=o.length,u=d/h,p=d/(2*Math.PI),g=(0,i.c)(0),j=(0,l.H)(g,e=>"rotate3d(0, 1, 0, ".concat(e,"deg)"));return(0,t.jsx)("div",{className:"flex h-full items-center justify-center",style:{perspective:"1000px",transformStyle:"preserve-3d",willChange:"transform"},children:(0,t.jsx)(n.E.div,{drag:!!c&&"x",className:"relative flex h-full origin-center cursor-grab justify-center active:cursor-grabbing",style:{transform:j,rotateY:g,width:d,transformStyle:"preserve-3d"},onDrag:(e,a)=>c&&g.set(g.get()+.05*a.offset.x),onDragEnd:(e,a)=>c&&s.start({rotateY:g.get()+.05*a.velocity.x,transition:{type:"spring",stiffness:100,damping:30,mass:.1}}),animate:s,children:o.map((e,s)=>(0,t.jsx)(n.E.div,{className:"absolute flex h-full origin-center items-center justify-center rounded-xl p-2",style:{width:"".concat(u,"px"),transform:"rotateY(".concat(360/h*s,"deg) translateZ(").concat(p,"px)")},onClick:()=>a(e,s),children:(0,t.jsxs)("div",{className:"relative w-full rounded-xl overflow-hidden bg-white dark:bg-[#001533]/80 shadow-lg border-2 border-[#001533]/10 dark:border-white/10 hover:shadow-xl transition-shadow",children:[(0,t.jsx)(n.E.img,{src:e.image,alt:e.title,layoutId:"img-".concat(e.id),className:"pointer-events-none w-full aspect-video object-cover",initial:{filter:"blur(4px)"},layout:"position",animate:{filter:"blur(0px)"},transition:x}),(0,t.jsxs)("div",{className:"p-4",children:[e.category&&(0,t.jsx)("span",{className:"text-xs font-medium text-[#1672d6] mb-1 block",children:e.category}),(0,t.jsx)("h3",{className:"font-semibold text-[#001533] dark:text-white text-sm line-clamp-2",children:e.title}),e.date&&(0,t.jsx)("p",{className:"text-xs text-[#001533]/50 dark:text-white/50 mt-2",children:e.date})]})]})},"carousel-".concat(e.id,"-").concat(s)))})})});function p(e){let{items:a,onItemClick:s,className:i,hideInstructions:l=!1}=e,[m,x]=(0,r.useState)(null),[p,g]=(0,r.useState)(!0),j=(0,o._)();return(0,t.jsxs)(n.E.div,{layout:!0,className:(0,d.cn)("relative",i),children:[(0,t.jsx)(c.M,{mode:"sync",children:m&&(0,t.jsx)(n.E.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},layoutId:"img-container-".concat(m.id),layout:"position",onClick:()=>{x(null),g(!0)},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 md:p-12 cursor-pointer",style:{willChange:"opacity"},transition:h,children:(0,t.jsxs)(n.E.div,{onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl overflow-hidden max-w-3xl w-full cursor-default",children:[(0,t.jsx)(n.E.img,{layoutId:"img-".concat(m.id),src:m.image,alt:m.title,className:"w-full aspect-video object-cover",initial:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.4,ease:[.25,.1,.25,1]}}),(0,t.jsxs)("div",{className:"p-6",children:[m.category&&(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-[#1672d6]/10 text-[#1672d6] text-sm font-medium rounded-full mb-3",children:m.category}),(0,t.jsx)("h2",{className:"text-xl font-bold text-[#001533] dark:text-white mb-2",children:m.title}),m.description&&(0,t.jsx)("p",{className:"text-[#001533]/70 dark:text-white/70 mb-4",children:m.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[m.date&&(0,t.jsx)("p",{className:"text-sm text-[#001533]/50 dark:text-white/50",children:m.date}),m.href&&(0,t.jsx)("a",{href:m.href,className:"text-[#1672d6] font-medium text-sm hover:underline",children:"Ler mais →"})]})]})]})})}),(0,t.jsx)("div",{className:"relative h-[400px] w-full overflow-hidden",children:(0,t.jsx)(u,{handleClick:(e,a)=>{s?s(e):(x(e),g(!1),j.stop())},controls:j,items:a,isCarouselActive:p})}),!l&&(0,t.jsx)("p",{className:"text-center text-sm text-[#001533]/50 dark:text-white/50 mt-4",children:"Arraste para explorar os insights • Clique para ver detalhes"})]})}u.displayName="CarouselInner",a.ZP=p},80581:function(e,a,s){"use strict";s.d(a,{l:function(){return i}});var t=s(2265),r=s(5526);function i(){let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),l=async e=>{try{return await e.json()}catch(e){return null}},n=async()=>{try{var e;let{data:a}=await r.supabase.auth.getSession(),s=null===(e=a.session)||void 0===e?void 0:e.access_token;return s?{Authorization:"Bearer ".concat(s)}:{}}catch(e){return{}}},o=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:e,data:s})}),r=await l(t);if(!t.ok){let e=(null==r?void 0:r.details)?" (".concat(r.details,")"):"";throw Error(((null==r?void 0:r.error)||"Erro ao gerar insights [".concat(t.status,"]"))+e)}return(null==r?void 0:r.data)||[]}catch(e){throw i(e.message),e}finally{a(!1)}},[]),c=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:"client_health",data:{clientId:e,...s}})}),r=await l(t);if(!t.ok){let e=(null==r?void 0:r.details)?" (".concat(r.details,")"):"";throw Error(((null==r?void 0:r.error)||"Erro ao analisar cliente [".concat(t.status,"]"))+e)}return null==r?void 0:r.data}catch(e){throw i(e.message),e}finally{a(!1)}},[]),d=(0,t.useCallback)(async e=>{a(!0),i(null);try{let a=await n(),s=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:"financial_forecast",data:e})}),t=await l(s);if(!s.ok){let e=(null==t?void 0:t.details)?" (".concat(t.details,")"):"";throw Error(((null==t?void 0:t.error)||"Erro ao gerar previs\xe3o [".concat(s.status,"]"))+e)}return null==t?void 0:t.data}catch(e){throw i(e.message),e}finally{a(!1)}},[]),m=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:e,params:s})}),r=await l(t);if(!t.ok){let e=(null==r?void 0:r.details)?" (".concat(r.details,")"):"";throw Error(((null==r?void 0:r.error)||"Erro ao gerar conte\xfado [".concat(t.status,"]"))+e)}return null==r?void 0:r.content}catch(e){throw i(e.message),e}finally{a(!1)}},[]),x=(0,t.useCallback)(async e=>{let a=await m("email",e);return{subject:a.subject||a.title||"",body:a.body||a.content||""}},[m]),h=(0,t.useCallback)(async e=>m("social",e),[m]),u=(0,t.useCallback)(async e=>m("job",e),[m]),p=(0,t.useCallback)(async e=>m("report",e),[m]);return{isLoading:e,error:s,generateInsights:o,analyzeClient:c,getForecast:d,generateContent:m,generateEmail:x,generateSocialPost:h,generateJobDescription:u,generateReport:p,askVal:(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/val",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({message:e,context:s})}),r=await l(t);if(!t.ok){let e=(null==r?void 0:r.details)?" (".concat(r.details,")"):"";throw Error(((null==r?void 0:r.error)||"Erro ao processar mensagem [".concat(t.status,"]"))+e)}return null==r?void 0:r.response}catch(e){throw i(e.message),e}finally{a(!1)}},[]),analyzeText:(0,t.useCallback)(async e=>{a(!0),i(null);try{let a=await n(),s=await fetch("/api/sentiment/analyze",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({text:e})}),t=await l(s);if(!s.ok){let e=(null==t?void 0:t.details)?" (".concat(t.details,")"):"";throw Error(((null==t?void 0:t.error)||"Erro ao analisar texto [".concat(s.status,"]"))+e)}return t}catch(e){throw i(e.message),e}finally{a(!1)}},[])}}},5526:function(e,a,s){"use strict";s.r(a),s.d(a,{supabase:function(){return l}});var t=s(62724);let r="https://ikjgsqtykkhqimypacro.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";r&&i||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let l=(0,t.eI)(r||"https://setup-missing.supabase.co",i||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},13337:function(e,a,s){"use strict";async function t(e,a){try{await fetch("/api/telemetry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,level:(null==a?void 0:a.level)||"info",message:null==a?void 0:a.message,data:null==a?void 0:a.data,path:null==a?void 0:a.path,requestId:null==a?void 0:a.requestId,ts:new Date().toISOString()})})}catch(e){}}s.d(a,{L:function(){return t}})},93448:function(e,a,s){"use strict";s.d(a,{cn:function(){return i},x:function(){return l}});var t=s(61994),r=s(53335);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.m6)((0,t.W)(a))}function l(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}},function(e){e.O(0,[2882,6137,4609,2724,4438,2972,5906,3964,5452,6291,9946,4175,6156,6299,2971,2117,1744],function(){return e(e.s=91772)}),_N_E=e.O()}]);