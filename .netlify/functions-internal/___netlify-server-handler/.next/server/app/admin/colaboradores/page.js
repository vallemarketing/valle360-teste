(()=>{var e={};e.id=91361,e.ids=[91361],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4051:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(75437),r(9457),r(49991),r(35866);var s=r(23191),l=r(88716),t=r(37922),o=r.n(t),i=r(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(a,n);let c=["",{children:["admin",{children:["colaboradores",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75437)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\colaboradores\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9457)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\colaboradores\\page.tsx"],m="/admin/colaboradores/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/colaboradores/page",pathname:"/admin/colaboradores",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},35601:(e,a,r)=>{Promise.resolve().then(r.bind(r,15237))},39447:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},42887:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},83855:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98295:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},85962:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]])},21405:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},69508:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},33734:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},98091:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},15237:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>$});var s=r(10326),l=r(17577),t=r(28870),o=r(9086),i=r(1572),n=r(83855),c=r(94019),d=r(43810),m=r(88307),x=r(5932),p=r(42887),h=r(37358),y=r(39183),u=r(39447),v=r(12714),b=r(69508),g=r(21405),j=r(98295),f=r(85962),N=r(98091),w=r(53468),C=r(33734),k=r(30361),E=r(50949),Z=r(17069),S=r(35047),M=r(17352),A=r(90434),P=r(91664),D=r(38443),T=r(33269),z=r(51223),U=r(2777),F=r(85999);function $(){let e=(0,S.useRouter)(),[a,r]=(0,l.useState)(""),[$,_]=(0,l.useState)("all"),[L,q]=(0,l.useState)(null),[H,R]=(0,l.useState)(!1),[O,V]=(0,l.useState)(!1),[G,B]=(0,l.useState)(null),[I,J]=(0,l.useState)(null),[K,X]=(0,l.useState)(null),[Q,W]=(0,l.useState)(null),[Y,ee]=(0,l.useState)(!1),[ea,er]=(0,l.useState)(null),[es,el]=(0,l.useState)(!1),[et,eo]=(0,l.useState)(null),[ei,en]=(0,l.useState)(!1),[ec,ed]=(0,l.useState)(null),em=e=>{q(e),R(!0)},ex=a=>{e.push(`/admin/colaboradores/${a.id}/editar`),W(null)},ep=e=>{er(e),ee(!0),W(null)},eh=async()=>{if(ea)try{el(!0);let e=await ef(),a=await fetch(`/api/admin/employees/${ea.id}`,{method:"DELETE",headers:e}),r=await a.json().catch(()=>null);if(!a.ok)throw Error(r?.error||"Falha ao excluir colaborador");F.Am.success("Colaborador exclu\xeddo com sucesso!"),ee(!1),er(null),await eE()}catch(e){F.Am.error(e?.message||"Erro ao excluir colaborador")}finally{el(!1)}},ey=async e=>{try{let a="active"===e.status?"inactive":"active",r=await ef(),s=await fetch(`/api/admin/employees/${e.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",...r},body:JSON.stringify({status:a})}),l=await s.json().catch(()=>null);if(!s.ok)throw Error(l?.error||"Falha ao atualizar status");F.Am.success(`Colaborador ${"active"===a?"ativado":"desativado"} com sucesso!`),W(null),await eE()}catch(e){F.Am.error(e?.message||"Erro ao atualizar status")}},eu=async e=>{try{eo(e.id);let a=await ef(),r=e.employeeId||e.id,s=await fetch("/api/admin/resend-welcome",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({employeeId:r,userId:e.id,tipo:"colaborador"})}),l=await s.json().catch(()=>null);if(l?.success)F.Am.success(`Email enviado via ${l.provider||"webhook"}!`),l.credentials&&(ed({email:l.credentials.email,senha:l.credentials.senha,nome:e.fullName,emailEnviado:!0,provider:l.provider,mailtoUrl:l.mailtoUrl}),en(!0));else if(l?.fallbackMode)F.Am.warning("Falha no envio autom\xe1tico. Use o bot\xe3o mailto no modal."),ed({email:l.credentials.email,senha:l.credentials.senha,nome:e.fullName,emailEnviado:!1,mailtoUrl:l.mailtoUrl}),en(!0);else throw Error(l?.error||"Falha ao enviar email");W(null)}catch(e){F.Am.error(e?.message||"Erro ao reenviar email")}finally{eo(null)}},[ev,eb]=(0,l.useState)([]),[eg,ej]=(0,l.useState)(!0),ef=async()=>{try{let{data:e}=await U.O.auth.getSession(),a=e.session?.access_token;return a?{Authorization:`Bearer ${a}`}:{}}catch{return{}}},eN=async()=>{try{V(!0);let e=await ef(),a=await fetch("/api/admin/provision-test-employees",{method:"POST",headers:{"Content-Type":"application/json",...e}}),r=await a.json().catch(()=>null);if(!a.ok)throw Error(r?.error||"Falha ao criar colaboradores de teste");let s=String(r?.password||"Valle@Teste2024"),l=Array.isArray(r?.credentials)?r.credentials:null,t=Array.isArray(r?.warnings)?r.warnings:null;if(J(t?.map(e=>({email:String(e.email||""),warning:String(e.warning||"")}))||null),l&&l.length>0)B(l.map(e=>({email:String(e.email),password:String(e.password||s),type:"client"===e.type?"client":"employee"})));else{let e=Array.isArray(r?.users)?r.users:[];B(e.map(e=>({email:String(e.email),password:s,type:"employee"})))}await eE()}catch(e){F.Am.error(e?.message||"Erro ao criar colaboradores de teste")}finally{V(!1)}},ew=()=>{B(null),J(null),X(null)},eC=(0,l.useMemo)(()=>{if(!G)return null;let e=[...G];return e.sort((e,a)=>{let r="client"===e.type?0:1,s="client"===a.type?0:1;return r!==s?r-s:e.email.localeCompare(a.email)}),e},[G]),ek=async(e,a)=>{try{await navigator.clipboard.writeText(e),X(a),window.setTimeout(()=>X(e=>e===a?null:e),1200)}catch{}},eE=async()=>{try{ej(!0);let e=await ef(),a=await fetch("/api/admin/employees",{headers:e}),r=await a.json().catch(()=>null);if(!a.ok)throw Error(r?.error||"Falha ao carregar colaboradores");eb(Array.isArray(r?.employees)?r.employees:[])}catch{eb([])}finally{ej(!1)}},eZ=ev.filter(e=>{let r=e.fullName.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.position.toLowerCase().includes(a.toLowerCase()),s="all"===$||e.department===$;return r&&s}),eS=e=>({active:{bg:"var(--success-50)",text:"var(--success-700)",label:"Ativo"},inactive:{bg:"var(--error-50)",text:"var(--error-700)",label:"Inativo"},vacation:{bg:"var(--warning-50)",text:"var(--warning-700)",label:"F\xe9rias"}})[e],eM=e=>e>=90?"var(--success-500)":e>=70?"var(--primary-500)":e>=50?"var(--warning-500)":"var(--error-500)";return(0,s.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Colaboradores"}),s.jsx("p",{style:{color:"var(--text-secondary)"},children:"Gerencie a equipe da Valle 360"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(t.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:eN,disabled:O,className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium border shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)",opacity:O?.7:1},children:[s.jsx(i.Z,{className:"w-5 h-5"}),O?"Criando testes…":"Criar testes (Equipe + Cliente)"]}),s.jsx(A.default,{href:"/admin/colaboradores/vincular",children:s.jsx(t.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium border shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:"Vincular existente"})}),s.jsx(A.default,{href:"/admin/colaboradores/novo",children:(0,s.jsxs)(t.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium text-white shadow-md",style:{backgroundColor:"var(--primary-500)"},children:[s.jsx(n.Z,{className:"w-5 h-5"}),"Novo Colaborador"]})})]})]}),s.jsx(o.M,{children:eC&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(t.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:ew}),s.jsx(t.E.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"w-full max-w-2xl rounded-2xl border shadow-2xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"p-4 sm:p-6 border-b",style:{borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:["Acessos de teste (",eC.length,")"]}),s.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Use para testes provis\xf3rios. Depois voc\xeas podem excluir."})]}),s.jsx("button",{onClick:ew,className:"p-2 rounded-lg shrink-0",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},"aria-label":"Fechar",children:s.jsx(c.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:["Senha padr\xe3o: ",s.jsx("span",{className:"font-mono",style:{color:"var(--text-primary)"},children:"Valle@Teste2024"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsxs)(P.z,{variant:"outline",onClick:()=>{ek(eC.map(e=>`${"client"===e.type?"Cliente":"Colaborador"}
Email: ${e.email}
Senha: ${e.password}`).join("\n\n"),"all")},children:[s.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"all"===K?"Copiado!":"Copiar tudo"]}),s.jsx(P.z,{onClick:ew,children:"Fechar"})]})]}),I&&I.length>0&&(0,s.jsxs)("div",{className:"mt-3 rounded-xl border p-3 text-xs",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[s.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Avisos"}),s.jsx("div",{className:"max-h-20 overflow-y-auto space-y-1 pr-1",children:I.map(e=>(0,s.jsxs)("div",{className:"break-words",children:[s.jsx("span",{className:"font-mono",children:e.email}),": ",e.warning]},`${e.email}:${e.warning}`))})]})]}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-1 space-y-2",children:eC.map(e=>{let a="client"===e.type?"Cliente":"Colaborador",r=`row:${e.email}`;return s.jsx("div",{className:"rounded-xl border p-3 sm:p-4",style:{borderColor:"var(--border-light)"},children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"mb-2 text-[11px] inline-flex items-center rounded-full border px-2 py-0.5",style:{borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:a}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Email"}),s.jsx("div",{className:"font-mono text-sm break-all",style:{color:"var(--text-primary)"},children:e.email})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Senha"}),s.jsx("div",{className:"font-mono text-sm",style:{color:"var(--text-primary)"},children:e.password})]})]})]}),(0,s.jsxs)(P.z,{variant:"outline",className:"shrink-0",onClick:()=>ek(`${e.email}
${e.password}`,r),children:[s.jsx(d.Z,{className:"w-4 h-4 mr-2"}),K===r?"Copiado!":"Copiar"]})]})},e.email)})})})]})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[s.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Total Colaboradores"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:eZ.length})]}),(0,s.jsxs)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[s.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Ativos"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--success-600)"},children:ev.filter(e=>"active"===e.status).length})]}),(0,s.jsxs)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[s.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Performance M\xe9dia"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--primary-500)"},children:ev.length>0?`${Math.round(ev.reduce((e,a)=>e+a.performanceScore,0)/ev.length)}%`:"—"})]}),(0,s.jsxs)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-xl p-6 shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[s.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Departamentos"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--purple-500)"},children:new Set(ev.map(e=>e.department)).size})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"var(--text-tertiary)"}}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou cargo...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,s.jsxs)("select",{value:$,onChange:e=>_(e.target.value),className:"px-4 py-3 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[s.jsx("option",{value:"all",children:"Todos os Departamentos"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Comercial",children:"Comercial"}),s.jsx("option",{value:"Financeiro",children:"Financeiro"}),s.jsx("option",{value:"RH",children:"RH"})]})]}),s.jsx("div",{className:"space-y-4",children:eZ.map((e,a)=>{let r=eS(e.status);return s.jsx(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"rounded-xl p-6 shadow-sm border hover:shadow-md transition-all",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("img",{src:e.avatar,alt:e.fullName,className:"w-16 h-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:e.fullName}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:r.bg,color:r.text},children:r.label})]}),(0,s.jsxs)("p",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:[e.position," • ",e.department]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[s.jsx(x.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",title:e.email,children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[s.jsx(p.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",title:e.phone,children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",style:{color:"var(--text-secondary)"},children:[s.jsx(h.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"truncate",title:new Date(e.hireDate).toLocaleDateString("pt-BR",{month:"short",year:"numeric"}),children:["Desde ",new Date(e.hireDate).toLocaleDateString("pt-BR",{month:"short",year:"numeric"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center font-bold text-lg border-4",style:{borderColor:eM(e.performanceScore),color:eM(e.performanceScore)},children:e.performanceScore}),s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Performance"})]}),(0,s.jsxs)(t.E.button,{onClick:()=>em(e),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",style:{backgroundColor:"var(--primary-50)",color:"var(--primary-600)"},children:["Ver Detalhes",s.jsx(y.Z,{className:"w-4 h-4"})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:a=>{a.stopPropagation(),W(Q===e.id?null:e.id)},className:"p-2 rounded-lg hover:bg-opacity-50 transition-colors",style:{backgroundColor:"var(--bg-tertiary)"},children:s.jsx(u.Z,{className:"w-5 h-5",style:{color:"var(--text-tertiary)"}})}),s.jsx(o.M,{children:Q===e.id&&s.jsx(t.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 z-50 w-56 rounded-xl shadow-xl border overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),em(e),W(null)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsx(v.Z,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{style:{color:"var(--text-primary)"},children:"Ver Detalhes"})]}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),ex(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsx(b.Z,{className:"w-4 h-4 text-amber-500"}),s.jsx("span",{style:{color:"var(--text-primary)"},children:"Editar Colaborador"})]}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),eu(e)},disabled:et===e.id,className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:[et===e.id?s.jsx(g.Z,{className:"w-4 h-4 text-green-500 animate-spin"}):s.jsx(x.Z,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{style:{color:"var(--text-primary)"},children:et===e.id?"Enviando...":"Reenviar Credenciais"})]}),s.jsx("div",{className:"my-2 border-t",style:{borderColor:"var(--border-primary)"}}),s.jsx("button",{onClick:a=>{a.stopPropagation(),ey(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"active"===e.status?(0,s.jsxs)(s.Fragment,{children:[s.jsx(j.Z,{className:"w-4 h-4 text-orange-500"}),s.jsx("span",{style:{color:"var(--text-primary)"},children:"Desativar Colaborador"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(f.Z,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{style:{color:"var(--text-primary)"},children:"Ativar Colaborador"})]})}),(0,s.jsxs)("button",{onClick:a=>{a.stopPropagation(),ep(e)},className:"w-full px-4 py-2.5 text-left flex items-center gap-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-600",children:[s.jsx(N.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Excluir Colaborador"})]})]})})})]})]})]})},e.id)})}),eg?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Carregando colaboradores..."})}):0===eZ.length&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Nenhum colaborador encontrado"})})]}),s.jsx(o.M,{children:H&&L&&s.jsx(t.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>R(!1),children:(0,s.jsxs)(t.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:L.avatar,alt:L.fullName,className:"w-16 h-16 rounded-full border-4 border-[#1672d6]/30"}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-[#001533] dark:text-white",children:L.fullName}),s.jsx("p",{className:"text-gray-500",children:L.position}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(D.C,{variant:"outline",children:L.department}),(e=>{switch(e){case"reter":return s.jsx(D.C,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30",children:"Reter"});case"melhorar":return s.jsx(D.C,{className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:"Melhorar"});case"aten\xe7\xe3o":return s.jsx(D.C,{className:"bg-red-500/10 text-red-600 border-red-500/30",children:"Aten\xe7\xe3o"});default:return null}})(L.retentionStatus)]})]})]}),s.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx(c.Z,{className:"w-5 h-5"})})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-[#1672d6]/10 to-[#001533]/5 border border-[#1672d6]/20",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(w.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Performance Geral"]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:(0,z.cn)("w-24 h-24 rounded-full flex items-center justify-center text-3xl font-bold border-4",L.performanceScore>=90?"border-emerald-500 text-emerald-500":L.performanceScore>=70?"border-[#1672d6] text-[#1672d6]":L.performanceScore>=50?"border-amber-500 text-amber-500":"border-red-500 text-red-500"),children:[L.performanceScore,"%"]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Entregas no Prazo"}),(0,s.jsxs)("span",{className:"font-medium",children:[L.deliveriesOnTime,"/",L.totalDeliveries]})]}),s.jsx(T.E,{value:L.deliveriesOnTime/L.totalDeliveries*100,className:"h-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,s.jsxs)("div",{className:"text-center p-3 rounded-lg bg-white dark:bg-[#001533]/50",children:[s.jsx("p",{className:"text-2xl font-bold text-[#1672d6]",children:L.clientsAssigned}),s.jsx("p",{className:"text-xs text-gray-500",children:"Clientes Atribu\xeddos"})]}),(0,s.jsxs)("div",{className:"text-center p-3 rounded-lg bg-white dark:bg-[#001533]/50",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-emerald-500",children:[Math.round(L.deliveriesOnTime/L.totalDeliveries*100),"%"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Taxa de Entrega"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-[#001533]/30",children:[s.jsx(x.Z,{className:"w-4 h-4 text-[#1672d6]"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"E-mail"}),s.jsx("p",{className:"text-sm font-medium",children:L.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-[#001533]/30",children:[s.jsx(p.Z,{className:"w-4 h-4 text-[#1672d6]"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Telefone"}),s.jsx("p",{className:"text-sm font-medium",children:L.phone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(C.Z,{className:"w-5 h-5 text-amber-500"}),"Hist\xf3rico de Feedbacks"]}),s.jsx("div",{className:"space-y-2",children:L.feedbackHistory.map((e,a)=>(0,s.jsxs)("div",{className:(0,z.cn)("p-3 rounded-lg border-l-4","positive"===e.type?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10":"negative"===e.type?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-300 bg-gray-50 dark:bg-gray-900/10"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("pt-BR")}),"positive"===e.type&&s.jsx(k.Z,{className:"w-4 h-4 text-emerald-500"}),"negative"===e.type&&s.jsx(E.Z,{className:"w-4 h-4 text-red-500"})]}),s.jsx("p",{className:"text-sm",children:e.comment})]},a))})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,s.jsxs)(P.z,{variant:"outline",className:"flex-1",children:[s.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Enviar Mensagem"]}),(0,s.jsxs)(P.z,{className:"flex-1 bg-[#1672d6] hover:bg-[#1260b5]",children:[s.jsx(Z.Z,{className:"w-4 h-4 mr-2"}),"Ver Performance Completa"]})]})]})]})})}),s.jsx(o.M,{children:Y&&ea&&s.jsx(t.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/60 flex items-center justify-center p-4",onClick:()=>{es||(ee(!1),er(null))},children:(0,s.jsxs)(t.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),className:"rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",style:{backgroundColor:"var(--bg-primary)"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:s.jsx(N.Z,{className:"w-6 h-6 text-red-600"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Excluir Colaborador"}),s.jsx("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("p",{style:{color:"var(--text-secondary)"},children:["Tem certeza que deseja excluir o colaborador"," ",s.jsx("strong",{style:{color:"var(--text-primary)"},children:ea.fullName}),"?"]}),s.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-tertiary)"},children:"Todos os dados associados a este colaborador ser\xe3o removidos permanentemente, incluindo:"}),(0,s.jsxs)("ul",{className:"mt-2 text-sm space-y-1",style:{color:"var(--text-tertiary)"},children:[s.jsx("li",{children:"• Hist\xf3rico de tarefas no Kanban"}),s.jsx("li",{children:"• Mensagens e conversas"}),s.jsx("li",{children:"• Atribui\xe7\xf5es de clientes"}),s.jsx("li",{children:"• Registro de performance"})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-primary)"},children:[s.jsx(P.z,{variant:"outline",className:"flex-1",onClick:()=>{ee(!1),er(null)},disabled:es,children:"Cancelar"}),s.jsx(P.z,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:eh,disabled:es,children:es?(0,s.jsxs)(s.Fragment,{children:[s.jsx(g.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluindo..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Excluir Colaborador"]})})]})]})})}),Q&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>W(null)}),ec&&s.jsx(M.$,{isOpen:ei,onClose:()=>{en(!1),ed(null)},credentials:{email:ec.email,senha:ec.senha,webmailUrl:"https://webmail.vallegroup.com.br/",loginUrl:"/login",mailtoUrl:ec.mailtoUrl},nome:ec.nome,tipo:"colaborador",emailEnviado:ec.emailEnviado,provider:ec.provider})]})}},33269:(e,a,r)=>{"use strict";r.d(a,{E:()=>o});var s=r(10326),l=r(17577),t=r(51223);let o=l.forwardRef(({className:e,value:a,max:r=100,variant:l="default",...o},i)=>s.jsx("div",{ref:i,className:(0,t.cn)("relative h-2 w-full overflow-hidden rounded-full bg-valle-navy/30",e),...o,children:s.jsx("div",{className:(0,t.cn)("h-full transition-all duration-500 ease-out",{default:"bg-valle-blue",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"}[l]),style:{width:`${Math.min(Math.max(a/r*100,0),100)}%`}})}));o.displayName="Progress"},75437:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\admin\colaboradores\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,86148,61288,36499,18832,14574,92237,61049],()=>r(4051));module.exports=s})();