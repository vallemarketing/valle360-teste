(()=>{var e={};e.id=90833,e.ids=[90833],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83206:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(13307),a(49991),a(35866);var t=a(23191),s=a(88716),i=a(37922),l=a.n(i),o=a(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(r,n);let d=["",{children:["rh",{children:["recompensas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13307)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\rh\\recompensas\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\rh\\recompensas\\page.tsx"],m="/rh/recompensas/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/rh/recompensas/page",pathname:"/rh/recompensas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90768:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},7960:(e,r,a)=>{Promise.resolve().then(a.bind(a,74840)),Promise.resolve().then(a.bind(a,17938))},13277:(e,r,a)=>{Promise.resolve().then(a.bind(a,62165))},62881:(e,r,a)=>{"use strict";a.d(r,{Z:()=>m});var t=a(17577);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),l=e=>{let r=i(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=(...e)=>e.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim(),n=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:c,...m},p)=>(0,t.createElement)("svg",{ref:p,...d,width:r,height:r,stroke:e,strokeWidth:s?24*Number(a)/Number(r):a,className:o("lucide",i),...!l&&!n(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),m=(e,r)=>{let a=(0,t.forwardRef)(({className:a,...i},n)=>(0,t.createElement)(c,{ref:n,iconNode:r,className:o(`lucide-${s(l(e))}`,`lucide-${e}`,a),...i}));return a.displayName=l(e),a}},997:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},32933:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},41291:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},71821:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},98908:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},88307:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},58907:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},79635:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},94019:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62165:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>j});var t=a(10326),s=a(17577),i=a(28870),l=a(9086),o=a(48998),n=a(30361),d=a(69669),c=a(98908),m=a(41291),p=a(58907),u=a(71821),h=a(88307),x=a(79635),y=a(997),v=a(32933),g=a(94019),f=a(2777),b=a(77943);function j(){let[e,r]=(0,s.useState)([]),[a,j]=(0,s.useState)(!0),[_,w]=(0,s.useState)("pending"),[k,C]=(0,s.useState)(""),[N,P]=(0,s.useState)(null),[Z,E]=(0,s.useState)(null),[S,A]=(0,s.useState)(""),[R,D]=(0,s.useState)(null),[U,M]=(0,s.useState)({pending:0,approved:0,rejected:0,totalValue:0}),I=async()=>{try{let e=f.O.from("employee_rewards").select(`
          *,
          employee:employees!employee_id(id, full_name, email, avatar),
          approver:employees!approved_by(id, full_name)
        `).order("requested_at",{ascending:!1});"all"!==_&&(e=e.eq("status",_));let{data:a,error:t}=await e;if(t)throw t;r(a||[]);let s=a||[];M({pending:s.filter(e=>"pending"===e.status).length,approved:s.filter(e=>"approved"===e.status||"redeemed"===e.status).length,rejected:s.filter(e=>"rejected"===e.status).length,totalValue:s.filter(e=>"bonus"===e.reward_type&&("approved"===e.status||"redeemed"===e.status)).reduce((e,r)=>e+(parseFloat(r.reward_value)||0),0)})}catch(e){console.error("Erro ao carregar recompensas:",e)}finally{j(!1)}},q=async e=>{if(R){E(e);try{let r=await fetch("/api/gamification/rewards",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rewardId:e,action:"approve",approvedBy:R})}),a=await r.json();if(!a.success)throw Error(a.error);I(),P(null)}catch(e){console.error("Erro ao aprovar:",e),alert("Erro ao aprovar recompensa")}finally{E(null)}}},O=async e=>{if(!R||!S.trim()){alert("Por favor, informe o motivo da rejei\xe7\xe3o");return}E(e);try{let r=await fetch("/api/gamification/rewards",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rewardId:e,action:"reject",approvedBy:R,rejectedReason:S})}),a=await r.json();if(!a.success)throw Error(a.error);I(),P(null),A("")}catch(e){console.error("Erro ao rejeitar:",e),alert("Erro ao rejeitar recompensa")}finally{E(null)}},L=e.filter(e=>{if(!k)return!0;let r=k.toLowerCase();return e.employee?.full_name?.toLowerCase().includes(r)||e.badge_name.toLowerCase().includes(r)||e.reward_description.toLowerCase().includes(r)}),B=e=>{switch(e){case"pending":return t.jsx(o.Z,{className:"w-4 h-4"});case"approved":return t.jsx(n.Z,{className:"w-4 h-4"});case"rejected":return t.jsx(d.Z,{className:"w-4 h-4"});case"redeemed":return t.jsx(c.Z,{className:"w-4 h-4"});default:return t.jsx(m.Z,{className:"w-4 h-4"})}};return(0,t.jsxs)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Gest\xe3o de Recompensas"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:"Aprove ou rejeite recompensas conquistadas pelos colaboradores (RH e SuperAdmin)"})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(p.Z,{className:"w-8 h-8",style:{color:"var(--warning-500)"}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--warning-100)"},children:t.jsx(o.Z,{className:"w-5 h-5",style:{color:"var(--warning-600)"}})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:U.pending}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Pendentes"})]})]})}),t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-4 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--success-100)"},children:t.jsx(n.Z,{className:"w-5 h-5",style:{color:"var(--success-600)"}})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:U.approved}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Aprovadas"})]})]})}),t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--error-100)"},children:t.jsx(d.Z,{className:"w-5 h-5",style:{color:"var(--error-600)"}})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:U.rejected}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Rejeitadas"})]})]})}),t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary-100)"},children:t.jsx(u.Z,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:["R$ ",U.totalValue.toLocaleString("pt-BR")]}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Total em B\xf4nus"})]})]})})]}),(0,t.jsxs)("div",{className:"p-4 rounded-xl flex flex-wrap items-center gap-4",style:{backgroundColor:"var(--bg-primary)"},children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px] relative",children:[t.jsx(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--text-tertiary)"}}),t.jsx("input",{type:"text",placeholder:"Buscar por colaborador, badge...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),t.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(e=>t.jsx("button",{onClick:()=>w(e),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${_===e?"ring-2":""}`,style:{backgroundColor:_===e?"var(--primary-100)":"var(--bg-secondary)",color:_===e?"var(--primary-700)":"var(--text-secondary)","--tw-ring-color":"var(--primary-500)"},children:"all"===e?"Todas":"pending"===e?"Pendentes":"approved"===e?"Aprovadas":"Rejeitadas"},e))})]}),t.jsx("div",{className:"space-y-3",children:a?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{style:{color:"var(--text-tertiary)"},children:"Carregando recompensas..."})]}):0===L.length?(0,t.jsxs)("div",{className:"text-center py-12 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--text-disabled)"}}),t.jsx("p",{className:"font-medium",style:{color:"var(--text-secondary)"},children:"Nenhuma recompensa encontrada"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:"pending"===_?"N\xe3o h\xe1 recompensas pendentes de aprova\xe7\xe3o":"Tente ajustar os filtros"})]}):L.map((e,r)=>t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"pending"===e.status?"var(--warning-300)":"var(--border-light)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative",children:e.employee?.avatar?t.jsx("img",{src:e.employee.avatar,alt:e.employee.full_name,className:"w-12 h-12 rounded-full object-cover"}):t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx(x.Z,{className:"w-6 h-6",style:{color:"var(--text-tertiary)"}})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("p",{className:"font-semibold truncate",style:{color:"var(--text-primary)"},children:e.employee?.full_name||"Colaborador"}),(0,t.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1",style:{backgroundColor:`${(0,b.Cm)(e.status)}20`,color:(0,b.Cm)(e.status)},children:[B(e.status),(0,b.wb)(e.status)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[t.jsx(y.Z,{className:"w-4 h-4",style:{color:"var(--warning-500)"}}),t.jsx("span",{className:"font-medium",children:e.badge_name}),t.jsx("span",{children:"•"}),(0,t.jsxs)("span",{children:[(0,b.FL)(e.reward_type)," ",e.reward_description]})]}),(0,t.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:["Solicitado em ",new Date(e.requested_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"font-bold text-lg",style:{color:"var(--primary-600)"},children:"bonus"===e.reward_type?`R$ ${e.reward_value}`:"time_off"===e.reward_type?`${e.reward_value}h folga`:"points"===e.reward_type?`+${e.reward_value} pts`:e.reward_description})}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>q(e.id),disabled:Z===e.id,className:"p-2 rounded-lg transition-all hover:scale-105 disabled:opacity-50",style:{backgroundColor:"var(--success-100)"},children:t.jsx(v.Z,{className:"w-5 h-5",style:{color:"var(--success-600)"}})}),t.jsx("button",{onClick:()=>P(e),disabled:Z===e.id,className:"p-2 rounded-lg transition-all hover:scale-105 disabled:opacity-50",style:{backgroundColor:"var(--error-100)"},children:t.jsx(g.Z,{className:"w-5 h-5",style:{color:"var(--error-600)"}})})]}),"rejected"===e.status&&e.rejected_reason&&(0,t.jsxs)("div",{className:"max-w-[200px] p-2 rounded-lg text-xs",style:{backgroundColor:"var(--error-50)"},children:[t.jsx("p",{className:"font-medium",style:{color:"var(--error-700)"},children:"Motivo:"}),t.jsx("p",{style:{color:"var(--error-600)"},children:e.rejected_reason})]})]})},e.id))})]}),t.jsx(l.M,{children:N&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>P(null),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"w-full max-w-md p-6 rounded-2xl shadow-2xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"Rejeitar Recompensa"}),(0,t.jsxs)("div",{className:"p-3 rounded-lg mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:N.employee?.full_name}),(0,t.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[N.badge_name," - ",N.reward_description]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Motivo da Rejei\xe7\xe3o *"}),t.jsx("textarea",{value:S,onChange:e=>A(e.target.value),placeholder:"Informe o motivo da rejei\xe7\xe3o...",rows:3,className:"w-full px-4 py-2 rounded-lg border resize-none",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{P(null),A("")},className:"flex-1 py-2 rounded-lg font-medium transition-all",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancelar"}),t.jsx("button",{onClick:()=>O(N.id),disabled:Z===N.id||!S.trim(),className:"flex-1 py-2 rounded-lg font-medium text-white transition-all disabled:opacity-50",style:{backgroundColor:"var(--error-500)"},children:Z===N.id?"Rejeitando...":"Confirmar Rejei\xe7\xe3o"})]})]})})})]})}},74840:(e,r,a)=>{"use strict";a.d(r,{ToasterProvider:()=>i});var t=a(10326),s=a(85999);function i(){return t.jsx(s.x7,{richColors:!0,position:"top-right",closeButton:!0,duration:4500})}},17938:(e,r,a)=>{"use strict";a.d(r,{AppProvider:()=>n});var t=a(10326),s=a(17577),i=a(2777);let l={super_admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","rh_dashboard","rh_tests","rh_recruitment","integrations","intelligence_center","social_scheduling","nps_dashboard","team_management","client_portal","val_ai","reports","settings"],admin:["dashboard","kanban","messages","gamification","approvals","financial_dashboard","commercial_dashboard","nps_dashboard","team_management","val_ai","reports","settings"],head_marketing:["dashboard","kanban","messages","gamification","approvals","team_management","val_ai","reports","nps_dashboard"],financeiro:["dashboard","messages","gamification","financial_dashboard","val_ai","reports","nps_dashboard"],comercial:["dashboard","kanban","messages","gamification","commercial_dashboard","val_ai","reports"],rh:["dashboard","messages","gamification","rh_dashboard","rh_tests","rh_recruitment","val_ai","reports"],trafego:["dashboard","kanban","messages","gamification","approvals","val_ai"],social_media:["dashboard","kanban","messages","gamification","approvals","social_scheduling","val_ai"],designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],web_designer:["dashboard","kanban","messages","gamification","approvals","val_ai"],video_maker:["dashboard","kanban","messages","gamification","approvals","val_ai"],employee:["dashboard","kanban","messages","gamification","val_ai"]},o=(0,s.createContext)(void 0);function n({children:e}){let[r,a]=(0,s.useState)(null),[n,d]=(0,s.useState)(!0),[c,m]=(0,s.useState)([]),[p,u]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!0),[y,v]=(0,s.useState)(!1),g=(0,s.useCallback)(async()=>{try{let{data:{user:e}}=await i.O.auth.getUser();if(!e){a(null),d(!1);return}let{data:r}=await i.O.from("user_profiles").select("*").eq("user_id",e.id).single(),{data:t}=await i.O.from("employees").select("*").eq("user_id",e.id).single(),s=t?.area_of_expertise||t?.department||r?.role||"employee";a({id:e.id,email:e.email||"",fullName:r?.full_name||t?.full_name||"Usu\xe1rio",avatar:t?.avatar||r?.avatar_url,role:{super_admin:"super_admin",superadmin:"super_admin",admin:"admin",administrador:"admin",head_marketing:"head_marketing",head:"head_marketing",financeiro:"financeiro",finance:"financeiro",comercial:"comercial",commercial:"comercial",vendas:"comercial",sales:"comercial",rh:"rh",recursos_humanos:"rh",hr:"rh",trafego:"trafego",trafego_pago:"trafego",traffic:"trafego",gestor_de_trafego:"trafego",social_media:"social_media",social:"social_media",designer:"designer",designer_grafico:"designer",graphic_designer:"designer",web_designer:"web_designer",webdesigner:"web_designer",video_maker:"video_maker",videomaker:"video_maker",editor:"video_maker",employee:"employee",colaborador:"employee"}[(r?.user_type||r?.role||s).toLowerCase().replace(/\s+/g,"_").replace(/-/g,"_")]||"employee",area:s,department:t?.department})}catch(e){console.error("Erro ao carregar usu\xe1rio:",e),a(null)}finally{d(!1)}},[]);(0,s.useCallback)(async()=>{if(r)try{let{data:e}=await i.O.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1}).limit(50);e&&m(e.map(e=>({id:e.id,type:e.type,title:e.title,message:e.message,read:!!e.is_read,createdAt:new Date(e.created_at),actionUrl:e.link,metadata:e.metadata})))}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}},[r]);let f=(0,s.useCallback)(e=>{var a;return!!r&&(a=r.role,l[a]?.includes(e)||!1)},[r]),b=(0,s.useCallback)(async e=>{r&&(await i.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r.id),m(r=>r.map(r=>r.id===e?{...r,read:!0}:r)))},[r]),j=(0,s.useCallback)(async()=>{r&&(await i.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",r.id).eq("is_read",!1),m(e=>e.map(e=>({...e,read:!0}))))},[r]),_=(0,s.useCallback)(async()=>{await i.O.auth.signOut(),a(null),m([])},[]),w={user:r,loading:n,isAuthenticated:!!r,hasPermission:f,notifications:c,unreadCount:c.filter(e=>!e.read).length,markAsRead:b,markAllAsRead:j,isConnected:p,refreshUser:g,logout:_,sidebarOpen:h,setSidebarOpen:x,valChatOpen:y,setValChatOpen:v};return t.jsx(o.Provider,{value:w,children:e})}},77943:(e,r,a)=>{"use strict";function t(e){return({points:"⭐",time_off:"\uD83C\uDFD6️",bonus:"\uD83D\uDCB0",gift:"\uD83C\uDF81",certificate:"\uD83D\uDCDC",recognition:"\uD83C\uDFC6",promotion_priority:"\uD83D\uDCC8"})[e]||"\uD83C\uDFAF"}function s(e){return({pending:"#F59E0B",approved:"#10B981",rejected:"#EF4444",redeemed:"#6B7280",expired:"#9CA3AF"})[e]}function i(e){return({pending:"Pendente",approved:"Aprovada",rejected:"Rejeitada",redeemed:"Resgatada",expired:"Expirada"})[e]}a.d(r,{Cm:()=>s,FL:()=>t,wb:()=>i})},2777:(e,r,a)=>{"use strict";a.d(r,{O:()=>l});var t=a(70041);let s="https://ikjgsqtykkhqimypacro.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";s&&i||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let l=(0,t.eI)(s||"https://setup-missing.supabase.co",i||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},49991:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c,dynamic:()=>o,metadata:()=>n,viewport:()=>d});var t=a(19510);a(5023),a(90327);var s=a(68570);let i=(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#AppProvider`);(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#useApp`),(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermission`),(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\contexts\AppContext.tsx#usePermissions`);let l=(0,s.createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\components\providers\ToasterProvider.tsx#ToasterProvider`),o="force-dynamic",n={title:"Valle 360 - Portal Integrado",description:"Plataforma interna e portal do cliente",manifest:"/manifest.json"},d={themeColor:"#0b1220"};function c({children:e}){return(0,t.jsxs)("html",{lang:"pt-BR",children:[(0,t.jsxs)("head",{children:[t.jsx("link",{rel:"icon",href:"/icons/valle360-icon.png"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/valle360-icon.png"})]}),t.jsx("body",{children:(0,t.jsxs)(i,{children:[e,t.jsx(l,{})]})})]})}},13307:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\rh\recompensas\page.tsx#default`)},5023:()=>{},90327:()=>{},9086:(e,r,a)=>{"use strict";a.d(r,{M:()=>f});var t=a(10326),s=a(17577),i=a(40339),l=a(74749),o=a(42482),n=a(40295),d=a(69539),c=a(73965);function m(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}class p extends s.Component{getSnapshotBeforeUpdate(e){let r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){let e=r.offsetParent,a=(0,d.R)(e)&&e.offsetWidth||0,t=this.props.sizeRef.current;t.height=r.offsetHeight||0,t.width=r.offsetWidth||0,t.top=r.offsetTop,t.left=r.offsetLeft,t.right=a-t.width-t.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:r,anchorX:a,root:i}){let l=(0,s.useId)(),o=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,s.useContext)(c._),u=function(...e){return s.useCallback(function(...e){return r=>{let a=!1,t=e.map(e=>{let t=m(e,r);return a||"function"!=typeof t||(a=!0),t});if(a)return()=>{for(let r=0;r<t.length;r++){let a=t[r];"function"==typeof a?a():m(e[r],null)}}}}(...e),e)}(o,e?.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:c,right:m}=n.current;if(r||!o.current||!e||!t)return;let p="left"===a?`left: ${c}`:`right: ${m}`;o.current.dataset.motionPopId=l;let u=document.createElement("style");d&&(u.nonce=d);let h=i??document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${p}px !important;
            top: ${s}px !important;
          }
        `),()=>{h.contains(u)&&h.removeChild(u)}},[r]),(0,t.jsx)(p,{isPresent:r,childRef:o,sizeRef:n,children:s.cloneElement(e,{ref:u})})}let h=({children:e,initial:r,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:d,mode:c,anchorX:m,root:p})=>{let h=(0,l.h)(x),y=(0,s.useId)(),v=!0,g=(0,s.useMemo)(()=>(v=!1,{id:y,initial:r,isPresent:a,custom:o,onExitComplete:e=>{for(let r of(h.set(e,!0),h.values()))if(!r)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[a,h,i]);return d&&v&&(g={...g}),(0,s.useMemo)(()=>{h.forEach((e,r)=>h.set(r,!1))},[a]),s.useEffect(()=>{a||h.size||!i||i()},[a]),"popLayout"===c&&(e=(0,t.jsx)(u,{isPresent:a,anchorX:m,root:p,children:e})),(0,t.jsx)(n.O.Provider,{value:g,children:e})};function x(){return new Map}var y=a(56933);let v=e=>e.key||"";function g(e){let r=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&r.push(e)}),r}let f=({children:e,custom:r,initial:a=!0,onExitComplete:n,presenceAffectsLayout:d=!0,mode:c="sync",propagate:m=!1,anchorX:p="left",root:u})=>{let[x,f]=(0,y.oO)(m),b=(0,s.useMemo)(()=>g(e),[e]),j=m&&!x?[]:b.map(v),_=(0,s.useRef)(!0),w=(0,s.useRef)(b),k=(0,l.h)(()=>new Map),[C,N]=(0,s.useState)(b),[P,Z]=(0,s.useState)(b);(0,o.L)(()=>{_.current=!1,w.current=b;for(let e=0;e<P.length;e++){let r=v(P[e]);j.includes(r)?k.delete(r):!0!==k.get(r)&&k.set(r,!1)}},[P,j.length,j.join("-")]);let E=[];if(b!==C){let e=[...b];for(let r=0;r<P.length;r++){let a=P[r],t=v(a);j.includes(t)||(e.splice(r,0,a),E.push(a))}return"wait"===c&&E.length&&(e=E),Z(g(e)),N(b),null}let{forceRender:S}=(0,s.useContext)(i.p);return(0,t.jsx)(t.Fragment,{children:P.map(e=>{let s=v(e),i=(!m||!!x)&&(b===P||j.includes(s));return(0,t.jsx)(h,{isPresent:i,initial:(!_.current||!!a)&&void 0,custom:r,presenceAffectsLayout:d,mode:c,root:u,onExitComplete:i?void 0:()=>{if(!k.has(s))return;k.set(s,!0);let e=!0;k.forEach(r=>{r||(e=!1)}),e&&(S?.(),Z(w.current),m&&f?.(),n&&n())},anchorX:p,children:e},s)})})}}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[89276,54267,28870],()=>a(83206));module.exports=t})();