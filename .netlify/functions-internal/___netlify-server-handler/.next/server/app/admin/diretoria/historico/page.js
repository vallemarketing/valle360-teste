(()=>{var e={};e.id=44869,e.ids=[44869],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46483:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(6915),a(9457),a(49991),a(35866);var t=a(23191),s=a(88716),l=a(37922),o=a.n(l),i=a(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(r,n);let d=["",{children:["admin",{children:["diretoria",{children:["historico",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6915)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\diretoria\\historico\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9457)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\diretoria\\historico\\page.tsx"],p="/admin/diretoria/historico/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/diretoria/historico/page",pathname:"/admin/diretoria/historico",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33951:(e,r,a)=>{Promise.resolve().then(a.bind(a,58789))},38787:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},7507:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},52952:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},48238:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},26092:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},25880:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])},92529:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},86645:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},29798:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},18019:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},52351:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("kanban",[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]])},17129:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},77506:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21405:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},58038:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},85571:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},50949:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94909:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},99513:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(62881).Z)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},58789:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var t=a(10326),s=a(17577),l=a(90434),o=a(66697),i=a(21405),n=a(59734),d=a(85999),c=a(28676);function p(e){if(!e)return"";try{return new Date(e).toLocaleString("pt-BR")}catch{return String(e)}}function m(e){let r=String(e||"").toLowerCase();return["completed","executed","approved","connected","ok","pass"].includes(r)?"border-green-300 bg-green-50 text-green-700":["running","scheduled","in_progress"].includes(r)?"border-blue-300 bg-blue-50 text-blue-700":["cancelled","failed","rejected","error"].includes(r)?"border-red-300 bg-red-50 text-red-700":"border-yellow-300 bg-yellow-50 text-yellow-800"}function x(){let[e,r]=(0,s.useState)(!0),[a,x]=(0,s.useState)("all"),[u,h]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[g,v]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[k,C]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[S,_]=(0,s.useState)(null),[M,Z]=(0,s.useState)(null),[A,F]=(0,s.useState)(null),P=(0,s.useMemo)(()=>[{value:"all",label:"Todos"},...(u?.executives||[]).map(e=>({value:String(e.role),label:`${String(e.role).toUpperCase()} — ${e.name}`})).sort((e,r)=>e.label.localeCompare(r.label))],[u?.executives]),E=async e=>{r(!0),b(null);try{let r=new URLSearchParams,t=e??a;t&&"all"!==t&&r.set("role",t),r.set("limit","25");let s=await fetch(`/api/admin/csuite/audit?${r.toString()}`,{method:"GET"}),l=await s.json();h(l),l?.warning&&console.warn("audit warning:",l.warning)}catch(e){b(String(e?.message||"Falha ao carregar"))}finally{r(!1)}},q=e=>{j(e),v(!0)};async function z(e,r,a=2e4){let t=new AbortController,s=setTimeout(()=>t.abort(),a);try{let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:t.signal}),s=await a.json();if(!a.ok||!s?.success)throw Error(s?.error||"Falha ao executar");return s}finally{clearTimeout(s)}}let U=e=>{e&&(g&&(v(!1),j(null)),_({open:!0,action:"execute",draftId:e}))},L=e=>{e&&(g&&(v(!1),j(null)),_({open:!0,action:"cancel",draftId:e}))},I=async()=>{if(S?.draftId){C(S.draftId);try{"execute"===S.action?(await z("/api/admin/csuite/actions/confirm",{draft_id:S.draftId}),d.Am.success("A\xe7\xe3o executada.")):(await z("/api/admin/csuite/actions/cancel",{draft_id:S.draftId}),d.Am.success("Rascunho cancelado.")),await E()}catch(r){let e=String(r?.message||"Falha");d.Am.error(e)}finally{C(null),_(null)}}},T=e=>{if("failed"!==String(e?.status||"").toLowerCase())return null;let r=e?.execution_result;return String(r?.error||e?.error_message||"").trim()||"Falha ao executar (sem detalhes)."},R=e=>{let r=String(e?.execution_result?.entity_type||"").trim(),a=String(e?.execution_result?.entity_id||"").trim();return"kanban_tasks"===r&&a?`/admin/kanban-app?task=${encodeURIComponent(a)}`:null},D=async e=>{let r=String(e?.id||"").trim();if(!r)return;let a=String(e?.executive?.role||"").trim(),t=String(e?.action_type||"").trim(),s=e?.action_payload??null;if(!a){d.Am.error("N\xe3o foi poss\xedvel determinar o role do executivo para clonar este rascunho.");return}if(!t){d.Am.error("action_type inv\xe1lido no rascunho.");return}if(!s||"object"!=typeof s){d.Am.error("payload inv\xe1lido no rascunho.");return}N(r);try{let l=await z("/api/admin/csuite/actions/draft",{role:a,action_type:t,payload:{...s,metadata:{...s?.metadata||{},cloned_from_draft_id:r,cloned_at:new Date().toISOString()}},preview:{...e?.preview||{},cloned_from_draft_id:r},risk_level:e?.risk_level||"medium"}),o=String(l?.draft?.id||"").trim();d.Am.success(o?"Rascunho clonado.":"Rascunho clonado (id indispon\xedvel)."),await E()}catch(e){d.Am.error(String(e?.message||"Falha ao clonar rascunho"))}finally{N(null)}},V=e=>{e&&F({open:!0,action:"approve",decisionId:e})},$=e=>{e&&F({open:!0,action:"reject",decisionId:e})},O=async()=>{if(A?.decisionId){Z(A.decisionId);try{"approve"===A.action?(await z("/api/admin/csuite/decisions/approve",{decision_id:A.decisionId}),d.Am.success("Decis\xe3o aprovada.")):(await z("/api/admin/csuite/decisions/reject",{decision_id:A.decisionId}),d.Am.success("Decis\xe3o rejeitada.")),await E()}catch(e){d.Am.error(String(e?.message||"Falha"))}finally{Z(null),F(null)}}},G=async e=>{if(e){Z(e);try{let r=await z("/api/admin/csuite/decisions/drafts/generate",{decision_id:e}),a=Number(r?.created||0);a>0?d.Am.success(`Rascunhos gerados: ${a}`):d.Am.message("Nada novo para gerar (j\xe1 existe para esta decis\xe3o)."),await E()}catch(e){d.Am.error(String(e?.message||"Falha ao gerar rascunhos"))}finally{Z(null)}}};return t.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#1672d6] to-[#001533] flex items-center justify-center",children:t.jsx(o.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Hist\xf3rico C‑Suite"}),(0,t.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Auditoria de ",t.jsx("b",{children:"reuni\xf5es"}),", ",t.jsx("b",{children:"decis\xf5es"})," e ",t.jsx("b",{children:"rascunhos de a\xe7\xf5es"})," (modo consultivo)."]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("select",{className:"px-3 py-2 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},value:a,onChange:e=>{let r=e.target.value;x(r),E(r)},children:P.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))}),(0,t.jsxs)("button",{type:"button",onClick:()=>void E(),className:"px-3 py-2 rounded-xl border text-sm flex items-center gap-2 hover:opacity-90",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[t.jsx(i.Z,{className:`w-4 h-4 ${e?"animate-spin":""}`}),"Atualizar"]})]})]}),t.jsx("div",{className:"flex items-center gap-3 text-sm",children:t.jsx(l.default,{className:"underline",href:"/admin/diretoria",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2",style:{color:"var(--text-primary)"},children:[t.jsx(n.Z,{className:"w-4 h-4"})," Voltar para Diretoria"]})})}),y?t.jsx("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:y})}):null,(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Reuni\xf5es"}),(0,t.jsxs)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(u?.meetings||[]).length," itens"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(u?.meetings||[]).slice(0,12).map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-xl border",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:e.title}),(0,t.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[p(e.created_at)," • ",String(e.meeting_type||"").toUpperCase()]})]}),t.jsx("span",{className:`shrink-0 px-2 py-0.5 rounded-full border text-xs ${m(e.status)}`,children:String(e.status||"")})]}),e.outcome_summary?t.jsx("p",{className:"text-xs mt-2 line-clamp-3",style:{color:"var(--text-secondary)"},children:e.outcome_summary}):null]},e.id)),e||0!==(u?.meetings||[]).length?null:t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sem reuni\xf5es ainda."})]})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Decis\xf5es"}),(0,t.jsxs)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(u?.decisions||[]).length," itens"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(u?.decisions||[]).slice(0,12).map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-xl border",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:e.title}),(0,t.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[p(e.created_at)," • ",String(e.decision_type||"").toUpperCase()]})]}),t.jsx("span",{className:`shrink-0 px-2 py-0.5 rounded-full border text-xs ${m(e.status)}`,children:String(e.status||"")})]}),e.description?t.jsx("p",{className:"text-xs mt-2 line-clamp-3",style:{color:"var(--text-secondary)"},children:e.description}):null,"proposed"===String(e.status||"").toLowerCase()&&!1!==e.human_approval_required?(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("button",{type:"button",disabled:M===e.id,onClick:()=>V(String(e.id)),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:M===e.id?"Processando...":"Aprovar"}),t.jsx("button",{type:"button",disabled:M===e.id,onClick:()=>$(String(e.id)),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:"Rejeitar"})]}):null,"approved"===String(e.status||"").toLowerCase()?t.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:t.jsx("button",{type:"button",disabled:M===e.id,onClick:()=>G(String(e.id)),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},title:"Gera rascunhos consultivos (tasks/reuni\xe3o) a partir do plano da decis\xe3o",children:M===e.id?"Gerando...":"Gerar rascunhos (CTAs)"})}):null]},e.id)),e||0!==(u?.decisions||[]).length?null:t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sem decis\xf5es ainda."})]})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Rascunhos de A\xe7\xf5es"}),(0,t.jsxs)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(u?.drafts||[]).length," itens"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(u?.drafts||[]).slice(0,12).map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-xl border",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:[e?.executive?.role?String(e.executive.role).toUpperCase():"C‑Suite"," • ",String(e.action_type||"a\xe7\xe3o")]}),(0,t.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[p(e.created_at)," • risco: ",String(e.risk_level||"medium")]})]}),t.jsx("span",{className:`shrink-0 px-2 py-0.5 rounded-full border text-xs ${m(e.status)}`,children:String(e.status||"")})]}),T(e)?(0,t.jsxs)("p",{className:"text-xs mt-2 line-clamp-3",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-semibold",children:"Erro:"})," ",T(e)]}):null,(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>q(e),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:"Ver preview"}),"draft"===String(e.status||"").toLowerCase()?(0,t.jsxs)(t.Fragment,{children:[t.jsx("button",{type:"button",disabled:k===e.id,onClick:()=>U(String(e.id)),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},title:"Executa apenas a\xe7\xf5es internas suportadas (consultivo → confirma\xe7\xe3o)",children:k===e.id?"Executando...":"Executar (confirmar)"}),t.jsx("button",{type:"button",disabled:k===e.id,onClick:()=>L(String(e.id)),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:"Cancelar"})]}):(0,t.jsxs)(t.Fragment,{children:[R(e)?t.jsx(l.default,{href:R(e),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},title:"Abrir Kanban (task criada por este rascunho)",children:"Abrir no Kanban"}):null,"failed"===String(e.status||"").toLowerCase()?t.jsx("button",{type:"button",disabled:w===e.id,onClick:()=>D(e),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},title:"Cria um novo rascunho id\xeantico para tentar executar novamente",children:w===e.id?"Clonando...":"Tentar novamente"}):t.jsx("button",{type:"button",disabled:w===e.id,onClick:()=>D(e),className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},title:"Clona este rascunho",children:w===e.id?"Clonando...":"Clonar"})]})]})]},e.id)),e||0!==(u?.drafts||[]).length?null:t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sem rascunhos ainda."})]})]})]}),g?t.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.35)"},children:(0,t.jsxs)("div",{className:"w-full max-w-3xl rounded-2xl border p-4",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:"Preview do rascunho"}),(0,t.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[f?.executive?.role?String(f.executive.role).toUpperCase():"C‑Suite"," • ",String(f?.action_type||"")," • ",p(f?.created_at)]})]}),t.jsx("button",{type:"button",onClick:()=>{v(!1),j(null)},className:"px-3 py-1.5 rounded-lg border text-xs hover:opacity-90",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Fechar"})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:[t.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--text-primary)"},children:"Preview"}),t.jsx("pre",{className:"text-xs whitespace-pre-wrap break-words",style:{color:"var(--text-secondary)"},children:JSON.stringify(f?.preview??{},null,2)})]}),(0,t.jsxs)("div",{className:"rounded-xl border p-3",style:{borderColor:"var(--border-light)",backgroundColor:"var(--bg-secondary)"},children:[t.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--text-primary)"},children:"Payload"}),t.jsx("pre",{className:"text-xs whitespace-pre-wrap break-words",style:{color:"var(--text-secondary)"},children:JSON.stringify(f?.action_payload??{},null,2)})]})]}),"draft"===String(f?.status||"").toLowerCase()?(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[t.jsx("button",{type:"button",disabled:k===String(f?.id||""),onClick:()=>U(String(f?.id||"")),className:"px-3 py-2 rounded-xl border text-sm hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:k===String(f?.id||"")?"Executando...":"Executar (confirmar)"}),t.jsx("button",{type:"button",disabled:k===String(f?.id||""),onClick:()=>L(String(f?.id||"")),className:"px-3 py-2 rounded-xl border text-sm hover:opacity-90 disabled:opacity-60",style:{borderColor:"var(--border-light)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:"Cancelar"})]}):null]})}):null,t.jsx(c.sm,{isOpen:!!S?.open,onClose:()=>_(null),onConfirm:I,title:S?.action==="execute"?"Confirmar execu\xe7\xe3o":"Confirmar cancelamento",message:S?.action==="execute"?"Voc\xea quer executar este rascunho agora? (Apenas a\xe7\xf5es internas suportadas; sem terceiros)":"Voc\xea quer cancelar este rascunho?",confirmText:S?.action==="execute"?"Executar":"Cancelar rascunho",cancelText:"Voltar",variant:S?.action==="execute"?"warning":"danger",loading:!!(S?.draftId&&k===S.draftId)}),t.jsx(c.sm,{isOpen:!!A?.open,onClose:()=>F(null),onConfirm:O,title:A?.action==="approve"?"Aprovar decis\xe3o":"Rejeitar decis\xe3o",message:A?.action==="approve"?"Voc\xea quer aprovar esta decis\xe3o agora?":"Voc\xea quer rejeitar esta decis\xe3o?",confirmText:A?.action==="approve"?"Aprovar":"Rejeitar",cancelText:"Voltar",variant:A?.action==="approve"?"warning":"danger",loading:!!(A?.decisionId&&M===A.decisionId)})]})})}},28676:(e,r,a)=>{"use strict";a.d(r,{sm:()=>x});var t=a(10326);a(17577);var s=a(9086),l=a(28870),o=a(94019),i=a(50949),n=a(18019),d=a(30361);let c={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};function p({isOpen:e,onClose:r,title:a,description:i,children:n,size:d="md",showCloseButton:p=!0,closeOnBackdrop:m=!0,closeOnEscape:x=!0,footer:u}){return t.jsx(s.M,{children:e&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m?r:void 0,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),(0,t.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full ${c[d]} max-h-[90vh] overflow-auto rounded-2xl shadow-2xl z-50`,style:{backgroundColor:"var(--bg-primary)"},children:[(a||p)&&(0,t.jsxs)("div",{className:"flex items-start justify-between p-6 border-b",style:{borderColor:"var(--border-light)"},children:[(0,t.jsxs)("div",{children:[a&&t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:a}),i&&t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:i})]}),p&&t.jsx("button",{onClick:r,className:"p-2 rounded-lg transition-colors -mr-2 -mt-2",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx(o.Z,{className:"w-5 h-5",style:{color:"var(--text-secondary)"}})})]}),t.jsx("div",{className:"p-6",children:n}),u&&t.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t",style:{borderColor:"var(--border-light)"},children:u})]})]})})}let m={danger:{icon:t.jsx(i.Z,{className:"w-6 h-6"}),color:"#EF4444",bg:"#FEF2F2"},warning:{icon:t.jsx(i.Z,{className:"w-6 h-6"}),color:"#F59E0B",bg:"#FFFBEB"},info:{icon:t.jsx(n.Z,{className:"w-6 h-6"}),color:"#3B82F6",bg:"#EFF6FF"},success:{icon:t.jsx(d.Z,{className:"w-6 h-6"}),color:"#10B981",bg:"#ECFDF5"}};function x({isOpen:e,onClose:r,onConfirm:a,title:s="Confirmar a\xe7\xe3o",message:l="Tem certeza que deseja continuar?",confirmText:o="Confirmar",cancelText:i="Cancelar",variant:n="danger",loading:d=!1}){let c=m[n];return t.jsx(p,{isOpen:e,onClose:r,size:"sm",showCloseButton:!1,children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:c.bg,color:c.color},children:c.icon}),t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:s}),t.jsx("div",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:l}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:r,disabled:d,className:"flex-1 px-4 py-2.5 rounded-xl font-medium transition-colors",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:i}),t.jsx("button",{onClick:a,disabled:d,className:"flex-1 px-4 py-2.5 rounded-xl font-medium text-white transition-colors disabled:opacity-50",style:{backgroundColor:c.color},children:d?"Aguarde...":o})]})]})})}},6915:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\admin\diretoria\historico\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,86148,61288,36499,18832,14574,92237],()=>a(46483));module.exports=t})();