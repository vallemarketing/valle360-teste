"use strict";(()=>{var e={};e.id=12502,e.ids=[12502],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},18105:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>x});var n={};r.r(n),r.d(n,{POST:()=>p,dynamic:()=>d});var a=r(49303),s=r(88716),i=r(60670),o=r(87070),u=r(17478),c=r(4676);let d="force-dynamic";async function p(e){let t;let r=await (0,u.k)(e);if(!r.ok)return r.res;try{t=await e.json()}catch{return o.NextResponse.json({success:!1,error:"Body inv\xe1lido (JSON)"},{status:400})}let n=String(t?.draft_id||"").trim();if(!n||!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n))return o.NextResponse.json({success:!1,error:"draft_id inv\xe1lido"},{status:400});let a=await (0,c.K)({draftId:n,actorUserId:r.userId});if(!a.ok)return o.NextResponse.json({success:!1,error:a.executionResult?.error||"Falha"},{status:400});let s=a.executionResult,i={success:!0,executed_at:a.executedAt,execution_result:s};return s.ok&&"kanban_tasks"===s.entity_type&&s.entity_id&&(i.kanban_task_id=s.entity_id,i.board_id=s.board_id,i.kanban_url=`/admin/kanban-app${s.board_id?`?boardId=${s.board_id}`:""}${s.entity_id?`&taskId=${s.entity_id}`:""}`),o.NextResponse.json(i)}let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/csuite/actions/confirm/route",pathname:"/api/admin/csuite/actions/confirm",filename:"route",bundlePath:"app/api/admin/csuite/actions/confirm/route"},resolvedPagePath:"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\api\\admin\\csuite\\actions\\confirm\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:f}=l,_="/api/admin/csuite/actions/confirm/route";function y(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:x})}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[89276,55972,54128,20958,95827],()=>r(18105));module.exports=n})();