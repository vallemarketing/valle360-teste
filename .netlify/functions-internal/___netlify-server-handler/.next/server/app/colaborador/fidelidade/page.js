(()=>{var e={};e.id=66136,e.ids=[66136],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},22728:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),a(35622),a(49539),a(49991),a(35866);var s=a(23191),l=a(88716),r=a(37922),i=a.n(r),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(t,c);let o=["",{children:["colaborador",{children:["fidelidade",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,35622)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\fidelidade\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49539)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\colaborador\\fidelidade\\page.tsx"],m="/colaborador/fidelidade/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/colaborador/fidelidade/page",pathname:"/colaborador/fidelidade",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},853:(e,t,a)=>{Promise.resolve().then(a.bind(a,67688))},30361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},43810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},71821:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},28932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},98908:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1388:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},5932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},76993:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},73037:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("square-kanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]])},63685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},67688:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(10326),l=a(17577),r=a(2777),i=a(48998),n=a(24061),c=a(5932),o=a(30361),d=a(71821),m=a(69669),x=a(98908),h=a(1572),p=a(17069),g=a(37358),u=a(997),y=a(43810),b=a(39730),j=a(1388),f=a(76993),N=a(28870);function w(){let[e,t]=(0,l.useState)(null),[a,w]=(0,l.useState)([]),[v,k]=(0,l.useState)(!0),[Z,_]=(0,l.useState)(!1),C=()=>{e?.referral_code&&(navigator.clipboard.writeText(e.referral_code),_(!0),setTimeout(()=>_(!1),2e3))},P=async t=>{if(!e?.referral_code)return;let a=`ðŸŽ Quer transformar seu marketing com IA? Use meu cupom exclusivo ${e.referral_code} e ganhe 10% de desconto! Entre em contato com a Valle 360: https://valle360.com`;"whatsapp"===t?window.open(`https://wa.me/?text=${encodeURIComponent(a)}`,"_blank"):"email"===t&&window.open(`mailto:?subject=Indica\xe7\xe3o Valle 360&body=${encodeURIComponent(a)}`,"_blank");try{let{data:{user:e}}=await r.O.auth.getUser();if(!e)return;let{data:a}=await r.O.from("employees").select("id").eq("user_id",e.id).single();a&&await r.O.rpc("track_referral_share",{p_employee_id:a.id,p_channel:t})}catch(e){console.error("Erro ao registrar compartilhamento:",e)}},q=e=>{let t={pending:{label:"Em Negocia\xe7\xe3o",color:"bg-yellow-100 text-yellow-800",icon:i.Z},qualified:{label:"Lead Qualificado",color:"bg-blue-100 text-blue-800",icon:n.Z},proposal_sent:{label:"Proposta Enviada",color:"bg-purple-100 text-purple-800",icon:c.Z},contract_signed:{label:"Contrato Assinado",color:"bg-green-100 text-green-800",icon:o.Z},paid:{label:"Comiss\xe3o Paga",color:"bg-green-100 text-green-800",icon:d.Z},cancelled:{label:"Cancelado",color:"bg-red-100 text-red-800",icon:m.Z},expired:{label:"Expirado",color:"bg-gray-100 text-gray-800",icon:m.Z}},a=t[e]||t.pending,l=a.icon;return(0,s.jsxs)("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${a.color}`,children:[s.jsx(l,{className:"w-3 h-3"}),a.label]})};return v?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4370d1] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando programa..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx(N.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-8 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(x.Z,{className:"w-8 h-8"}),"Programa de Fidelidade"]}),s.jsx("p",{className:"text-white/90",children:"Indique clientes e ganhe 10% do valor de cada contrato!"})]}),s.jsx(h.Z,{className:"w-16 h-16 opacity-50"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(N.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(n.Z,{className:"w-6 h-6 text-blue-600"})}),s.jsx(p.Z,{className:"w-6 h-6 text-green-600"})]}),s.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Indicado"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e?.times_used||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"clientes"})]}),(0,s.jsxs)(N.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(d.Z,{className:"w-6 h-6 text-green-600"})}),s.jsx(o.Z,{className:"w-6 h-6 text-green-600"})]}),s.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Ganho"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["R$ ",(e?.total_earned||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"pago em sal\xe1rio"})]}),(0,s.jsxs)(N.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(i.Z,{className:"w-6 h-6 text-yellow-600"})}),s.jsx(g.Z,{className:"w-6 h-6 text-yellow-600"})]}),s.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Pr\xf3ximo Pagamento"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["R$ ",(e?.pending_amount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]})]}),(0,s.jsxs)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(u.Z,{className:"w-7 h-7 text-[#4370d1]"}),"Seu Cupom Exclusivo"]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-[#0f1b35] to-[#4370d1] rounded-2xl p-8 text-white mb-6",children:[s.jsx("p",{className:"text-white/80 text-sm mb-3",children:"SEU C\xd3DIGO DE INDICA\xc7\xc3O:"}),(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white/10 rounded-xl p-4 backdrop-blur-sm mb-6",children:[s.jsx("p",{className:"text-3xl font-bold tracking-wider",children:e?.referral_code}),s.jsx("button",{onClick:C,className:"bg-white/20 hover:bg-white/30 p-3 rounded-lg transition-all flex items-center gap-2",children:Z?(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Copiado!"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Copiar"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>P("whatsapp"),className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[s.jsx(b.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"WhatsApp"})]}),(0,s.jsxs)("button",{onClick:()=>P("email"),className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[s.jsx(c.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Email"})]}),(0,s.jsxs)("button",{onClick:C,className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[s.jsx(j.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Copiar Link"})]}),(0,s.jsxs)("button",{onClick:()=>{},className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[s.jsx(f.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Mais"})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-100",children:[(0,s.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5 text-blue-600"}),"Como Funciona"]}),(0,s.jsxs)("ol",{className:"space-y-3 text-gray-700",children:[(0,s.jsxs)("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("span",{children:"Compartilhe seu cupom exclusivo com empresas interessadas em marketing digital"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("span",{children:"O cliente menciona seu cupom durante o fechamento do contrato"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,s.jsxs)("span",{children:["Voc\xea recebe ",s.jsx("strong",{children:"10% do valor total do contrato"})]})]}),(0,s.jsxs)("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),s.jsx("span",{children:"Pagamento autom\xe1tico no seu sal\xe1rio do pr\xf3ximo m\xeas \uD83D\uDCB0"})]})]})]})]}),(0,s.jsxs)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Hist\xf3rico de Indica\xe7\xf5es"}),a.length>0?s.jsx("div",{className:"space-y-4",children:a.map(e=>(0,s.jsxs)("div",{className:"p-5 bg-gray-50 rounded-xl border border-gray-200 hover:border-gray-300 transition-all",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e.client_name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.client_email}),e.client_phone&&s.jsx("p",{className:"text-sm text-gray-600",children:e.client_phone})]}),q(e.status)]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-200",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Valor do Contrato"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.contract_value?`R$ ${e.contract_value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"Aguardando"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Sua Comiss\xe3o (10%)"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:e.commission_amount?`R$ ${e.commission_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"A calcular"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"paid"===e.status?"Pago em":"contract_signed"===e.status?"Pagamento em":"Indicado em"}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:e.commission_paid_at?new Date(e.commission_paid_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):e.payment_month?e.payment_month:new Date(e.referred_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})})]})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(n.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Nenhuma indica\xe7\xe3o ainda"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Compartilhe seu cupom e comece a ganhar!"})]})]})]})})}},35622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\colaborador\fidelidade\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,86148,61288,59813,18832,14574,91119,57888],()=>a(22728));module.exports=s})();