(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{22013:function(e,t,a){Promise.resolve().then(a.bind(a,47147))},94766:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},5005:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},40875:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},49322:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92934:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},99388:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},87769:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},79219:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},56475:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},53113:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99801:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},33245:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},37760:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},51817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53417:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},58896:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},76865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},17689:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},92369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},29374:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},27648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(72972),s=a.n(r)},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},47147:function(e,t,a){"use strict";a.d(t,{default:function(){return E}});var r=a(57437),s=a(2265),n=a(27648),l=a(37760),i=a(79219),o=a(92934),c=a(92369),d=a(76865),u=a(53113),m=a(29374);let h=(0,a(79205).Z)("files",[["path",{d:"M15 2a2 2 0 0 1 1.414.586l4 4A2 2 0 0 1 21 8v7a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z",key:"1vo8kb"}],["path",{d:"M15 2v4a2 2 0 0 0 2 2h4",key:"sud9ri"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]]);var x=a(17689),f=a(51817),p=a(40875),g=a(5526),b=a(17168),v=a(12381),y=a(79820),j=a(23675),N=a(33842),w=a(14438),k=a(32060),S=a(15291);function C(e){return String(e||"file").trim().replace(/[^\w.\-]+/g,"_").slice(0,120)}function Z(e,t){return e&&t?new Date("".concat(e,"T").concat(t,":00")).toISOString():null}function _(e){return"instagram"===e?(0,r.jsx)(l.Z,{className:"w-3.5 h-3.5"}):"facebook"===e?(0,r.jsx)(i.Z,{className:"w-3.5 h-3.5"}):(0,r.jsx)("span",{className:"text-xs font-semibold",children:e.slice(0,2).toUpperCase()})}function E(e){let[t,a]=(0,s.useState)(!0),[l,i]=(0,s.useState)([]),[E,P]=(0,s.useState)(""),[M,R]=(0,s.useState)(!1),A=(0,s.useRef)(new Map),[I,z]=(0,s.useState)([]),[T,U]=(0,s.useState)("instagramback"),[O,q]=(0,s.useState)([]),[F,V]=(0,s.useState)("image"),[L,D]=(0,s.useState)([]),[B,X]=(0,s.useState)(""),[J,H]=(0,s.useState)(""),[Y,W]=(0,s.useState)(""),[Q,G]=(0,s.useState)(""),[K,$]=(0,s.useState)([]),[ee,et]=(0,s.useState)(!1),[ea,er]=(0,s.useState)(null),[es,en]=(0,s.useState)(null),[el,ei]=(0,s.useState)(null),[eo,ec]=(0,s.useState)(!1),[ed,eu]=(0,s.useState)(null),[em,eh]=(0,s.useState)(!1),ex=e=>{try{window.open(e,"_blank","noopener,noreferrer")}catch(t){ei("Abra este link em uma nova aba: ".concat(e))}},[ef,ep]=(0,s.useState)(!1),[eg,eb]=(0,s.useState)([]),[ev,ey]=(0,s.useState)(!1),ej=(0,s.useRef)(null),eN=(0,s.useMemo)(()=>l.find(e=>e.id===E)||null,[l,E]),ew=(0,s.useMemo)(()=>L.map(e=>({file:e,url:URL.createObjectURL(e),isVideo:e.type.startsWith("video/")})),[L]);function ek(e){if(!e)return;let t=Array.from(e);if("carousel"===F){D(t.filter(e=>e.type.startsWith("image/")).slice(0,10));return}D(t.slice(0,1))}async function eS(){a(!0),en(null);try{var e;let t=await fetch("/api/social/clients",{cache:"no-store"}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.error)||"Falha ao carregar clientes");let r=Array.isArray(null==a?void 0:a.clients)?a.clients:[];i(r),!E&&(null===(e=r[0])||void 0===e?void 0:e.id)&&P(String(r[0].id))}catch(e){en((null==e?void 0:e.message)||"Erro ao carregar clientes")}finally{a(!1)}}async function eC(e){if(!e)return;let t=A.current.get(e);if(t){z(t);return}R(!0),en(null);try{let t=await fetch("/api/social/accounts?client_id=".concat(encodeURIComponent(e)),{cache:"no-store"}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.error)||"Falha ao carregar canais");let r=Array.isArray(null==a?void 0:a.accounts)?a.accounts:[];A.current.set(e,r),z(r)}catch(e){en((null==e?void 0:e.message)||"Erro ao carregar canais")}finally{R(!1)}}async function eZ(e){ep(!0),en(null);try{let t=e?"/api/social/posts-mirror?client_id=".concat(encodeURIComponent(e)):"/api/social/posts-mirror",a=await fetch(t,{cache:"no-store"}),r=await a.json();if(!a.ok)throw Error((null==r?void 0:r.error)||"Falha ao carregar posts");eb(Array.isArray(null==r?void 0:r.posts)?r.posts:[])}catch(e){en((null==e?void 0:e.message)||"Erro ao carregar posts")}finally{ep(!1)}}async function e_(){if(!L.length){en("Selecione arquivo(s) para upload");return}et(!0),en(null),ei(null);try{var e;let{data:t}=await g.supabase.auth.getUser(),a=null===(e=t.user)||void 0===e?void 0:e.id;if(!a)throw Error("Sess\xe3o expirada. Fa\xe7a login novamente.");let r="social-media",s=Date.now(),n=E?C(E):"no_client",l="".concat(a,"/posts/").concat(n),i=[];for(let e of L){let t="".concat(s,"_").concat(Math.random().toString(36).slice(2,8),"_").concat(C(e.name)),a="".concat(l,"/").concat(t),{error:n}=await g.supabase.storage.from(r).upload(a,e,{cacheControl:"31536000",upsert:!1,contentType:e.type||void 0});if(n){let e=String(n.message||"").toLowerCase();if(e.includes("bucket")&&e.includes("not found"))throw Error('Bucket "social-media" n\xe3o existe no Supabase Storage. Aplique a migration 20251230000003_create_social_media_bucket.sql.');throw n}let{data:o}=g.supabase.storage.from(r).getPublicUrl(a);if(!(null==o?void 0:o.publicUrl))throw Error("Falha ao obter URL p\xfablica do upload.");i.push(o.publicUrl)}$(i),ei("Upload conclu\xeddo (Supabase Storage). URLs prontas para postar.")}catch(e){en((null==e?void 0:e.message)||"Falha no upload")}finally{et(!1)}}function eE(e){let t={};return"image"===F&&(t.urlimagem=K[0]||null),"video"===F&&(t.urlvideo=K[0]||null),"carousel"===F&&(t.carrossel=K.join(",")),{client_id:E||null,post_type:F,type:F,caption:B,legenda:B,collaborators:J,colaboradores:J,scheduled_at:Z(Y,Q),scheduledAt:Z(Y,Q),media_urls:K,mediaUrls:K,platforms:O.map(e=>String(e.platform)),channels:O,backend:T,...t,...e}}async function eP(e,t){var a;let r=(a={needsMedia:"schedule"===e||"publish_now"===e,needsSchedule:"schedule"===e},E?0===O.length?"Selecione ao menos um canal.":a.needsMedia&&0===K.length?"Envie a m\xeddia (Storage) antes de continuar.":!a.needsSchedule||Y&&Q?"instagramback"===T&&O.some(e=>"instagram"!==e.platform)?"Para canais al\xe9m de Instagram, selecione o backend “Meta (OAuth)”.":null:"Informe data e hor\xe1rio.":"Selecione um perfil (cliente).");if(r){en(r);return}er(e+((null==t?void 0:t.boost)?"_boost":"")),en(null),ei(null);try{if("draft"===e){let e=await fetch("/api/social/post-records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(eE({is_draft:!0,approval_status:"approved",boost_requested:!!(null==t?void 0:t.boost),media_urls:K,mediaUrls:K}))}),a=await e.json();if(!e.ok)throw Error((null==a?void 0:a.error)||"Falha ao salvar rascunho");ei("Rascunho salvo.")}else if("approval"===e){let e=await fetch("/api/social/post-records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(eE({is_draft:!1,approval_status:"pending",boost_requested:!!(null==t?void 0:t.boost)}))}),a=await e.json();if(!e.ok)throw Error((null==a?void 0:a.error)||"Falha ao enviar para aprova\xe7\xe3o");ei("Enviado para aprova\xe7\xe3o.")}else{let a="schedule"===e?Z(Y,Q):null,r=eE({scheduled_at:a,scheduledAt:a,is_draft:!1,approval_status:"approved",boost_requested:!!(null==t?void 0:t.boost),mode:"schedule"===e?"schedule":"publish_now"});if("instagramback"===T){let t=await fetch("/api/social/instagramback/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.error)||"Falha ao criar post");ei("schedule"===e?"Post agendado (InstagramBack).":"Post enviado (InstagramBack).")}else{let t=await fetch("/api/social/meta/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.error)||"Falha ao publicar via Meta");ei("schedule"===e?"Post agendado (Meta).":"Post publicado (Meta).")}}D([]),$([]),X(""),H(""),W(""),G(""),await eZ(E)}catch(e){en((null==e?void 0:e.message)||"Erro")}finally{er(null)}}async function eM(e){eu(e||null),ec(!0)}async function eR(){if(!ed)return;let e=(null==ed?void 0:ed.external_id)?String(ed.external_id):null,t=(null==ed?void 0:ed.id)?String(ed.id):null;eh(!0),en(null),ei(null);try{if(e&&"instagramback"===String((null==ed?void 0:ed.backend)||"instagramback")){let t=await fetch("/api/social/instagramback/posts/".concat(encodeURIComponent(e)),{method:"DELETE"}),a=await t.json().catch(()=>null);if(!t.ok)throw Error((null==a?void 0:a.error)||"Falha ao deletar no InstagramBack")}else if(t){let e=await fetch("/api/social/posts-mirror?id=".concat(encodeURIComponent(t)),{method:"DELETE"}),a=await e.json().catch(()=>null);if(!e.ok)throw Error((null==a?void 0:a.error)||"Falha ao deletar")}else throw Error("N\xe3o foi poss\xedvel identificar o post para deletar.");w.Am.success("Post deletado."),ei("Post deletado."),ec(!1),eu(null),await eZ(E)}catch(t){let e=String((null==t?void 0:t.message)||"Erro ao deletar");w.Am.error(e),en(e)}finally{eh(!1)}}return(0,s.useEffect)(()=>()=>{ew.forEach(e=>URL.revokeObjectURL(e.url))},[ew]),(0,s.useEffect)(()=>{eS()},[]),(0,s.useEffect)(()=>{E&&(q([]),eC(E),eZ(E))},[E]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b px-6 py-4 sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Perfil → Canais → Texto → M\xeddia (Firebase) → Agendar/Publicar (InstagramBack ou Meta)."})]}),e.backHref&&(0,r.jsx)(n.default,{className:"text-sm text-gray-700 hover:text-gray-900 underline",href:e.backHref,children:"Voltar"})]})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6 pb-28",children:[es&&(0,r.jsx)("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:es}),el&&(0,r.jsxs)("div",{className:"mb-4 rounded-xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-800 flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),el]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{className:"pb-3",children:(0,r.jsx)(y.ll,{className:"text-base",children:"1. Selecione perfis"})}),(0,r.jsx)(y.aY,{className:"pt-0 space-y-3",children:t?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-10 rounded-lg bg-gray-100"}),(0,r.jsx)("div",{className:"h-4 w-40 rounded bg-gray-100"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.Ph,{value:E,onValueChange:e=>P(e),children:[(0,r.jsx)(S.i4,{className:"rounded-lg",children:(0,r.jsx)(S.ki,{placeholder:"Selecione um cliente",children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center border",children:(0,r.jsx)(c.Z,{className:"w-4 h-4 text-gray-600"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:eN?String(eN.name||"").trim():"Selecione"})]})})}),(0,r.jsxs)(S.Bw,{children:[0===l.length&&(0,r.jsx)(S.Ql,{value:"__none",children:"Nenhum cliente"}),l.map(e=>(0,r.jsx)(S.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,r.jsx)("span",{className:"truncate",children:e.name}),(e.city||e.state)&&(0,r.jsx)("span",{className:"text-xs text-gray-500",children:[e.city,e.state].filter(Boolean).join(" • ")})]})},e.id))]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"O cliente conecta as redes em “Cliente → Redes Sociais”."})]})})]}),(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{className:"pb-3",children:(0,r.jsx)(y.ll,{className:"text-base",children:"2. Selecione canais"})}),(0,r.jsxs)(y.aY,{className:"pt-0 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:["Selecionados: ",(0,r.jsx)("span",{className:"font-semibold",children:O.length})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>U("instagramback"),className:"text-xs rounded-full px-3 py-1 border ".concat("instagramback"===T?"bg-valle-blue-50 border-valle-blue-200 text-valle-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:"InstagramBack"}),(0,r.jsx)("button",{type:"button",onClick:()=>U("meta"),className:"text-xs rounded-full px-3 py-1 border ".concat("meta"===T?"bg-valle-blue-50 border-valle-blue-200 text-valle-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:"Meta (OAuth)"})]})]}),M?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-9 rounded-lg bg-gray-100"}),(0,r.jsx)("div",{className:"h-9 rounded-lg bg-gray-100"})]}):0===I.length?(0,r.jsxs)("div",{className:"rounded-xl border bg-gray-50 p-3 text-sm text-gray-700 flex items-start gap-2",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mt-0.5 text-gray-500"}),"Nenhum canal conectado para este cliente ainda."]}):(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:I.map(e=>{let t=O.some(t=>t.account_id===e.id);return(0,r.jsxs)("button",{type:"button",onClick:()=>{q(t=>t.some(t=>t.account_id===e.id)?t.filter(t=>t.account_id!==e.id):[...t,{account_id:e.id,platform:String(e.platform)}])},className:"inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs transition-colors ".concat(t?"bg-valle-blue-50 border-valle-blue-200 text-valle-blue-700":"bg-white hover:bg-gray-50"),title:e.display_name||e.username||e.external_account_id,children:[(0,r.jsx)("span",{className:"w-5 h-5 rounded-full bg-white border flex items-center justify-center text-gray-700",children:_(String(e.platform))}),(0,r.jsx)("span",{className:"max-w-[160px] truncate",children:e.display_name||(e.username?"@".concat(e.username):e.external_account_id)})]},e.id)})})]})]}),(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{className:"pb-3",children:(0,r.jsx)(y.ll,{className:"text-base",children:"3. Texto do post"})}),(0,r.jsxs)(y.aY,{className:"pt-0 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Tipo"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{V("image"),D([]),$([])},className:"rounded-lg border px-3 py-2 text-sm flex items-center justify-center gap-2 ".concat("image"===F?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),"Imagem"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{V("video"),D([]),$([])},className:"rounded-lg border px-3 py-2 text-sm flex items-center justify-center gap-2 ".concat("video"===F?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(m.Z,{className:"w-4 h-4"}),"V\xeddeo"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{V("carousel"),D([]),$([])},className:"rounded-lg border px-3 py-2 text-sm flex items-center justify-center gap-2 ".concat("carousel"===F?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(h,{className:"w-4 h-4"}),"Carrossel"]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"carousel"===F?"At\xe9 10 m\xeddias (IG). FB: 1 m\xeddia no momento.":"Selecione 1 arquivo."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Legenda"}),(0,r.jsx)(j.g,{value:B,onChange:e=>X(e.target.value),placeholder:"Digite a legenda aqui…",className:"min-h-[140px]"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Colaboradores (opcional)"}),(0,r.jsx)("input",{value:J,onChange:e=>H(e.target.value),placeholder:"@user1, @user2",className:"w-full h-10 rounded-lg border px-3 text-sm bg-white"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"5. Data e hor\xe1rio das publica\xe7\xf5es"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("input",{type:"date",value:Y,onChange:e=>W(e.target.value),className:"w-full h-10 rounded-lg border px-3 text-sm bg-white"}),(0,r.jsx)("input",{type:"time",value:Q,onChange:e=>G(e.target.value),className:"w-full h-10 rounded-lg border px-3 text-sm bg-white"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Para “Publicar agora”, deixe em branco ou use a a\xe7\xe3o “Publicar agora”."})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-5 space-y-6",children:(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{className:"pb-3",children:(0,r.jsx)(y.ll,{className:"text-base",children:"4. M\xeddias"})}),(0,r.jsxs)(y.aY,{className:"pt-0 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(v.z,{type:"button",variant:"outline",className:"gap-2",onClick:()=>{var e;return null===(e=ej.current)||void 0===e?void 0:e.click()},children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),"Upload"]}),(0,r.jsx)(v.z,{type:"button",variant:"outline",onClick:()=>ex("https://business.facebook.com/latest/content_calendar"),children:"Studio"}),(0,r.jsx)(v.z,{type:"button",variant:"outline",onClick:()=>ex("https://www.canva.com/"),children:"Canva"})]}),(0,r.jsxs)("div",{className:"rounded-xl border-2 border-dashed bg-gray-50 p-6 transition-colors ".concat(ev?"border-valle-blue-400 bg-valle-blue-50":"border-gray-300"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),ey(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),ey(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),ey(!1)},onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),ey(!1),ek((null===(t=e.dataTransfer)||void 0===t?void 0:t.files)||null)},onClick:()=>{var e;return null===(e=ej.current)||void 0===e?void 0:e.click()},role:"button",tabIndex:0,children:[(0,r.jsx)("input",{ref:e=>{ej.current=e},type:"file",className:"hidden",accept:"video"===F?"video/*":"image/*",multiple:"carousel"===F,onChange:e=>ek(e.target.files)}),L.length?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Arquivos selecionados"}),(0,r.jsx)("button",{type:"button",className:"text-xs text-red-600 underline",onClick:e=>{e.stopPropagation(),D([]),$([])},children:"Limpar"})]}),(0,r.jsx)("div",{className:"grid gap-3 ".concat("carousel"===F?"grid-cols-2":"grid-cols-1"),children:ew.map(e=>(0,r.jsxs)("div",{className:"rounded-xl border bg-white overflow-hidden",children:[(0,r.jsx)("div",{className:"aspect-video bg-black/5 flex items-center justify-center",children:e.isVideo?(0,r.jsx)("video",{src:e.url,controls:!0,className:"w-full h-full object-contain bg-black"}):(0,r.jsx)("img",{src:e.url,alt:e.file.name,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[Math.round(e.file.size/1024)," KB"]})]})]},"".concat(e.file.name,"-").concat(e.file.size)))})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-12 h-12 rounded-xl bg-white border flex items-center justify-center",children:(0,r.jsx)(x.Z,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsx)("p",{className:"mt-3 text-sm font-medium text-gray-900",children:"Imagens e v\xeddeos"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Clique aqui ou arraste arquivos para enviar"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:["URLs carregadas: ",(0,r.jsx)("span",{className:"font-semibold",children:K.length}),K.length>0&&(0,r.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-1",children:K.slice(0,3).map(e=>(0,r.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",className:"underline text-valle-blue-700",children:e},e))})]})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-3 space-y-6",children:(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{className:"pb-3",children:(0,r.jsx)(y.ll,{className:"text-base",children:"Preview"})}),(0,r.jsx)(y.aY,{className:"pt-0",children:(0,r.jsxs)(b.mQ,{defaultValue:"preview",children:[(0,r.jsxs)(b.dr,{className:"w-full justify-between",children:[(0,r.jsx)(b.SP,{value:"preview",children:"Preview"}),(0,r.jsx)(b.SP,{value:"all",children:"Ver todos"})]}),(0,r.jsx)(b.nU,{value:"preview",className:"mt-4",children:(0,r.jsxs)("div",{className:"rounded-xl border bg-white overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-3 flex items-center gap-2 border-b",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-500 to-purple-500"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null==eN?void 0:eN.name)||"Selecione um perfil"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:O.length?"".concat(O.length," canal(is)"):"Selecione canais"})]}),(0,r.jsx)("div",{className:"flex items-center gap-1 text-gray-600",children:O.slice(0,2).map(e=>(0,r.jsx)("span",{className:"w-7 h-7 rounded-full border bg-white flex items-center justify-center",children:_(e.platform)},e.account_id))})]}),(0,r.jsx)("div",{className:"bg-gray-100",children:0===ew.length?(0,r.jsx)("div",{className:"aspect-square flex items-center justify-center text-xs text-gray-500",children:"Selecione uma m\xeddia para ver o preview"}):ew[0].isVideo?(0,r.jsx)("div",{className:"aspect-square",children:(0,r.jsx)("video",{src:ew[0].url,controls:!0,className:"w-full h-full object-contain bg-black"})}):(0,r.jsx)("div",{className:"aspect-square",children:(0,r.jsx)("img",{src:ew[0].url,alt:"preview",className:"w-full h-full object-cover"})})}),(0,r.jsx)("div",{className:"p-3",children:(0,r.jsx)("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:B||"Escreva a legenda para ver aqui…"})})]})}),(0,r.jsxs)(b.nU,{value:"all",className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Posts (Hist\xf3rico)"}),(0,r.jsx)(v.z,{type:"button",variant:"outline",size:"sm",onClick:()=>eZ(E),disabled:ef,children:ef?"Atualizando…":"Recarregar"})]}),0===eg.length&&!ef&&(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Nenhum post encontrado."}),(0,r.jsx)("div",{className:"space-y-3",children:eg.slice(0,25).map(e=>{let t=function(e){var t,a,r;let s=null!==(r=null!==(a=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null==e?void 0:e._id)&&void 0!==a?a:null==e?void 0:e.external_id)&&void 0!==r?r:null==e?void 0:e.externalId;return s?String(s):null}(e)||String((null==e?void 0:e.id)||""),a=String((null==e?void 0:e.backend)||"instagramback"),s=String((null==e?void 0:e.status)||""),n=Array.isArray(null==e?void 0:e.media_urls)?e.media_urls:[];return(0,r.jsxs)("div",{className:"rounded-xl border bg-white p-3",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null==e?void 0:e.external_id)?"#".concat(String(e.external_id)):"Post ".concat(String(e.id).slice(0,6))}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[a," • ",s]})]}),(0,r.jsx)("button",{onClick:()=>eM(e),className:"text-xs underline text-red-600",children:"Deletar"})]}),((null==e?void 0:e.caption)||(null==e?void 0:e.legenda))&&(0,r.jsx)("p",{className:"text-sm mt-2 text-gray-700 line-clamp-3",children:String((null==e?void 0:e.caption)||(null==e?void 0:e.legenda))}),Array.isArray(n)&&n.length>0&&(0,r.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:n.slice(0,2).map(e=>(0,r.jsx)("a",{href:String(e),target:"_blank",rel:"noreferrer",className:"text-xs underline text-valle-blue-700",children:"m\xeddia"},String(e)))})]},t||JSON.stringify(e).slice(0,40))})})]})]})})]})})]})]}),(0,r.jsx)("div",{className:"fixed inset-x-0 bottom-0 border-t bg-white",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:L.length})," arquivo(s) •"," ",(0,r.jsx)("span",{className:"font-medium text-gray-900",children:K.length})," URL(s) pronta(s)"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,r.jsx)(v.z,{type:"button",variant:"outline",onClick:e_,disabled:ee||!L.length,children:ee?(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4 animate-spin"}),"Enviando…"]}):"Enviar m\xeddia"}),(0,r.jsx)(v.z,{type:"button",variant:"outline",onClick:()=>eP("publish_now"),disabled:!!ea,children:"publish_now"===ea?"Publicando…":"Publicar agora"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(v.z,{type:"button",onClick:()=>eP("schedule"),disabled:!!ea,children:"schedule"===ea?"Agendando…":"Agendar"}),(0,r.jsxs)(k.h_,{children:[(0,r.jsx)(k.$F,{asChild:!0,children:(0,r.jsx)("button",{type:"button",className:"h-10 w-10 inline-flex items-center justify-center rounded-lg border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50 disabled:opacity-50 disabled:pointer-events-none","aria-label":"Mais op\xe7\xf5es",disabled:!!ea,children:(0,r.jsx)(p.Z,{className:"w-4 h-4"})})}),(0,r.jsxs)(k.AW,{align:"end",children:[(0,r.jsx)(k.Xi,{onClick:()=>eP("schedule"),children:"Agendar"}),(0,r.jsx)(k.Xi,{onClick:()=>eP("publish_now"),children:"Publicar agora"}),(0,r.jsx)(k.VD,{}),(0,r.jsx)(k.Xi,{onClick:()=>eP("draft"),children:"Salvar como rascunho"}),(0,r.jsx)(k.Xi,{onClick:()=>eP("approval"),children:"Enviar para aprova\xe7\xe3o"}),(0,r.jsx)(k.VD,{}),(0,r.jsx)(k.Xi,{onClick:()=>eP("schedule",{boost:!0}),children:"Agendar e impulsionar"}),(0,r.jsx)(k.Xi,{onClick:()=>eP("publish_now",{boost:!0}),children:"Publicar agora e impulsionar"})]})]})]})]})]})}),(0,r.jsx)(N.do,{isOpen:eo,onClose:()=>{em||(ec(!1),eu(null))},onConfirm:eR,title:"Deletar post",message:"Tem certeza que deseja deletar este post? Essa a\xe7\xe3o n\xe3o pode ser desfeita.",confirmText:"Deletar",cancelText:"Cancelar",variant:"danger",loading:em})]})}},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var r=a(57437),s=a(2265),n=a(90535),l=a(93448);let i=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-valle-blue-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-valle-blue-600 to-valle-blue-700 text-white hover:from-valle-blue-700 hover:to-valle-blue-800 shadow-lg",secondary:"bg-valle-silver-200 text-valle-navy-800 hover:bg-valle-silver-300",outline:"border-2 border-valle-blue-600 text-valle-blue-600 hover:bg-valle-blue-50",ghost:"hover:bg-valle-blue-50 hover:text-valle-blue-600",danger:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,...o}=e;return(0,r.jsx)("button",{className:(0,l.cn)(i({variant:s,size:n,className:a})),ref:t,...o})});o.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight text-lg",a),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground/70",a),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},32060:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return m},VD:function(){return x},Xi:function(){return h},h_:function(){return d}});var r=a(57437),s=a(2265),n=a(34577),l=a(10407),i=a(30401),o=a(40519),c=a(93448);let d=n.fC,u=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,s.forwardRef((e,t)=>{let{className:a,inset:s,children:i,...o}=e;return(0,r.jsxs)(n.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...o,children:[i,(0,r.jsx)(l.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=n.tu.displayName;let m=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(n.Uv,{children:(0,r.jsx)(n.VY,{ref:t,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});m.displayName=n.VY.displayName;let h=s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...l})});h.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...o}=e;return(0,r.jsxs)(n.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),s]})}).displayName=n.oC.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.Rk.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=n.__.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});x.displayName=n.Z0.displayName},15291:function(e,t,a){"use strict";a.d(t,{Bw:function(){return m},Ph:function(){return c},Ql:function(){return h},i4:function(){return d},ki:function(){return u}});var r=a(57437),s=a(2265),n=a(93448),l=a(40875);let i=s.createContext(null);function o(){let e=s.useContext(i);if(!e)throw Error("Select components must be used within Select");return e}function c(e){let{value:t,defaultValue:a="",onValueChange:n,children:l}=e,[o,c]=s.useState(!1),[d,u]=s.useState(a);return(0,r.jsx)(i.Provider,{value:{value:void 0!==t?t:d,onValueChange:e=>{void 0===t&&u(e),null==n||n(e)},open:o,setOpen:c},children:(0,r.jsx)("div",{className:"relative",children:l})})}function d(e){let{className:t,children:a,...s}=e,{open:i,setOpen:c}=o();return(0,r.jsxs)("button",{type:"button",className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm","ring-offset-white placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","dark:border-gray-700 dark:bg-gray-900 dark:ring-offset-gray-950",t),onClick:()=>c(!i),...s,children:[a,(0,r.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})]})}function u(e){let{children:t,placeholder:a}=e,{value:s}=o();return!s&&a?(0,r.jsx)("span",{className:"text-gray-500",children:a}):(0,r.jsx)(r.Fragment,{children:t})}function m(e){let{children:t}=e,{open:a,setOpen:l}=o(),i=s.useRef(null);return(s.useEffect(()=>{function e(e){i.current&&!i.current.contains(e.target)&&l(!1)}if(a)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a,l]),a)?(0,r.jsx)("div",{ref:i,className:(0,n.cn)("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white","text-gray-950 shadow-md animate-in fade-in-80 mt-1 w-full","dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50"),children:(0,r.jsx)("div",{className:"p-1 max-h-96 overflow-auto",children:t})}):null}function h(e){let{value:t,children:a}=e,{value:s,onValueChange:l,setOpen:i}=o();return(0,r.jsx)("div",{className:(0,n.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none","hover:bg-gray-100 focus:bg-gray-100 dark:hover:bg-gray-800 dark:focus:bg-gray-800",s===t&&"bg-gray-100 dark:bg-gray-800"),onClick:()=>{l(t),i(!1)},children:a})}},17168:function(e,t,a){"use strict";a.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return i},nU:function(){return d}});var r=a(57437),s=a(2265),n=a(93448);let l=s.createContext(void 0);function i(e){var t;let{defaultValue:a,value:i,onValueChange:o,children:c,className:d}=e;if(void 0===i&&void 0===a)throw Error("Tabs requires either `value` (controlled) or `defaultValue` (uncontrolled).");let u=null!==(t=null!=i?i:a)&&void 0!==t?t:"",[m,h]=s.useState(u);return s.useEffect(()=>{void 0!==i&&h(i)},[i]),(0,r.jsx)(l.Provider,{value:{activeTab:m,setActiveTab:e=>{void 0===i&&h(e),null==o||o(e)}},children:(0,r.jsx)("div",{className:(0,n.cn)("",d),children:c})})}function o(e){let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 p-1 text-gray-600 dark:text-gray-400",a),children:t})}function c(e){let{value:t,children:a,className:i}=e,o=s.useContext(l);if(!o)throw Error("TabsTrigger must be used within Tabs");let{activeTab:c,setActiveTab:d}=o,u=c===t;return(0,r.jsx)("button",{type:"button",onClick:()=>d(t),className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",i),children:a})}function d(e){let{value:t,children:a,className:i}=e,o=s.useContext(l);if(!o)throw Error("TabsContent must be used within Tabs");let{activeTab:c}=o;return c!==t?null:(0,r.jsx)("div",{className:(0,n.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",i),children:a})}},23675:function(e,t,a){"use strict";a.d(t,{g:function(){return l}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});l.displayName="Textarea"},5526:function(e,t,a){"use strict";a.r(t),a.d(t,{supabase:function(){return l}});var r=a(62724);let s="https://ikjgsqtykkhqimypacro.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";s&&n||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let l=(0,r.eI)(s||"https://setup-missing.supabase.co",n||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return n},x:function(){return l}});var r=a(61994),s=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function l(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}}}]);