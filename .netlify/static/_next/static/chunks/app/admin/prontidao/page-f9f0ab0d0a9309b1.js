(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3198],{44406:function(e,s,a){Promise.resolve().then(a.bind(a,88246))},27648:function(e,s,a){"use strict";a.d(s,{default:function(){return l.a}});var r=a(72972),l=a.n(r)},88246:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var r=a(57437),l=a(2265),n=a(27648),i=a(5526);function t(e){return"pass"===e?"bg-green-100 text-green-800 border-green-200":"warn"===e?"bg-yellow-100 text-yellow-800 border-yellow-200":"fail"===e?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"}function o(e){return"pass"===e?"OK":"warn"===e?"Aten\xe7\xe3o":"fail"===e?"Falha":"N/A"}function c(e,s){return!1===s?"na":e}function d(e){return e?"string"==typeof e?{status:e,applicable:!0}:"object"==typeof e&&"string"==typeof e.status?{status:e.status,applicable:e.applicable}:{status:"warn",applicable:!0}:{status:"warn",applicable:!0}}function m(){var e,s,a,m,x,u,p,h,v,b,j,f,y,N,g,C,w,k,A,O,E,S,I,R,_,q,F,P,K,L,M,T,U,B,D;let[X,J]=(0,l.useState)(!0),[V,z]=(0,l.useState)(null),[W,G]=(0,l.useState)(null),[H,Q]=(0,l.useState)(!1),[Y,Z]=(0,l.useState)(null);async function $(){J(!0),G(null);try{var e;let{data:s}=await i.supabase.auth.getSession(),a=(null==s?void 0:null===(e=s.session)||void 0===e?void 0:e.access_token)||null,r=await fetch("/api/admin/readiness",{cache:"no-store",credentials:"same-origin",headers:a?{Authorization:"Bearer ".concat(a)}:void 0}),l=await r.json();if(!r.ok)throw Error((null==l?void 0:l.error)||"Falha ao carregar prontid\xe3o");z(l)}catch(e){G((null==e?void 0:e.message)||"Erro ao carregar")}finally{J(!1)}}async function ee(){Q(!0),Z(null);try{var e;let{data:s}=await i.supabase.auth.getSession(),a=(null==s?void 0:null===(e=s.session)||void 0===e?void 0:e.access_token)||null,r=await Promise.all([{job:"collection",url:"/api/cron/collection"},{job:"overdue",url:"/api/cron/overdue"},{job:"ml",url:"/api/cron/ml"},{job:"alerts",url:"/api/cron/alerts"},{job:"csuite-insights",url:"/api/cron/csuite-insights"},{job:"social-publish",url:"/api/cron/social-publish"},{job:"social-metrics",url:"/api/cron/social-metrics"}].map(async e=>{try{var s;let r=await fetch(e.url,{method:"POST",cache:"no-store",credentials:"same-origin",headers:a?{Authorization:"Bearer ".concat(a)}:void 0}),l=await r.json().catch(()=>null);return{job:e.job,ok:r.ok&&(null==l?void 0:l.success)!==!1,status:r.status,message:(null==l?void 0:l.message)||(null==l?void 0:null===(s=l.result)||void 0===s?void 0:s.message)||null,error:r.ok?null:(null==l?void 0:l.error)||"Falha"}}catch(s){return{job:e.job,ok:!1,status:0,message:null,error:(null==s?void 0:s.message)||"Erro de rede"}}}));Z(r),await $()}finally{Q(!1)}}(0,l.useEffect)(()=>{$()},[]);let es=(0,l.useMemo)(()=>{var e;return null!==(e=null==V?void 0:V.overall)&&void 0!==e?e:null},[V]),ea=null==V?void 0:V.checks,er=null==V?void 0:V.firebase,el=null==V?void 0:V.environment;return(0,r.jsx)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Prontid\xe3o do Sistema"}),(0,r.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Checklist operacional: \xe1reas, Hub, integra\xe7\xf5es, IA, ML e SQL."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[es&&(0,r.jsx)("span",{className:"px-3 py-1 rounded-full border text-sm font-medium ".concat(t(es)),children:o(es)}),(0,r.jsx)("button",{onClick:$,className:"px-3 py-2 rounded-lg border text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:"Recarregar"})]})]}),(null==el?void 0:el.vercelEnv)&&(0,r.jsxs)("div",{className:"p-4 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:["Ambiente: ",(0,r.jsx)("span",{style:{color:"var(--text-primary)"},children:String(el.vercelEnv)}),(null==el?void 0:el.appUrl)?(0,r.jsxs)(r.Fragment,{children:[" ","• URL: ",(0,r.jsx)("span",{style:{color:"var(--text-primary)"},children:String(el.appUrl)})]}):null]}),X&&(0,r.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:(0,r.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Carregando…"})}),W&&(0,r.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsx)("p",{className:"font-medium text-red-700",children:"Erro"}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:W})]}),!X&&!W&&V&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Firebase (opcional)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c((null==er?void 0:er.status)||"warn",null==er?void 0:er.applicable))),children:o(c((null==er?void 0:er.status)||"warn",null==er?void 0:er.applicable))})]}),(0,r.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:(null==er?void 0:er.applicable)===!1?"N\xe3o aplic\xe1vel (uploads usam Supabase Storage por padr\xe3o).":(null==er?void 0:er.status)==="pass"?"Env vars do Firebase est\xe3o configuradas.":"Configure as env vars NEXT_PUBLIC_FIREBASE_* para habilitar upload direto."})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Hub (Eventos/Transi\xe7\xf5es)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.hub.status,ea.hub.applicable))),children:o(c(ea.hub.status,ea.hub.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Eventos pendentes"}),(0,r.jsx)("span",{className:"font-medium",children:ea.hub.pendingEvents})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Transi\xe7\xf5es pendentes"}),(0,r.jsx)("span",{className:"font-medium",children:ea.hub.pendingTransitions})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Transi\xe7\xf5es em erro"}),(0,r.jsx)("span",{className:"font-medium",children:ea.hub.errorTransitions})]})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/fluxos",children:"Abrir Central de Fluxos"})})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Seguran\xe7a"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c((null===(e=ea.security)||void 0===e?void 0:e.status)||"warn",null===(s=ea.security)||void 0===s?void 0:s.applicable))),children:o(c((null===(a=ea.security)||void 0===a?void 0:a.status)||"warn",null===(m=ea.security)||void 0===m?void 0:m.applicable))})]}),(0,r.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:(null===(x=ea.security)||void 0===x?void 0:x.notes)||"OK"})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"\xc1reas (Colaboradores)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.areas.status,ea.areas.applicable))),children:o(c(ea.areas.status,ea.areas.applicable))})]}),(0,r.jsx)("div",{className:"space-y-2 text-sm",children:ea.areas.coverage.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{style:{color:"var(--text-primary)"},children:e.area}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(e.status)),children:o(e.status)})]}),(0,r.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[e.activeEmployees," ativos"]})]},e.area))}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/colaboradores",children:"Gerenciar colaboradores"}),(0,r.jsx)("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:"•"}),(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/colaboradores/vincular",children:"Vincular existente"})]})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Integra\xe7\xf5es"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.integrations.status,ea.integrations.applicable))),children:o(c(ea.integrations.status,ea.integrations.applicable))})]}),ea.integrations.required?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-xs mb-2",style:{color:"var(--text-secondary)"},children:"Obrigat\xf3rias"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ea.integrations.required).map(e=>{let[s,a]=e,l=d(a),n=c(l.status,l.applicable);return(0,r.jsxs)("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(n)),children:o(n)})]}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"pass"===n?"Conectado":"Configure/Conecte nas integra\xe7\xf5es"})]},s)})})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ea.integrations.critical||{}).map(e=>{let[s,a]=e,l=d(a),n=c(l.status,l.applicable);return(0,r.jsxs)("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(n)),children:o(n)})]}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"pass"===n?"Conectado":"Configure/Conecte nas integra\xe7\xf5es"})]},s)})}),ea.integrations.optional?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-xs mt-4 mb-2",style:{color:"var(--text-secondary)"},children:"Opcionais"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ea.integrations.optional).map(e=>{let[s,a]=e,l=d(a),n=c(l.status,l.applicable);return(0,r.jsxs)("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(n)),children:o(n)})]}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"na"===n?"Opcional (n\xe3o configurado)":"pass"===n?"Conectado":"Configure/Conecte nas integra\xe7\xf5es"})]},s)})})]}):null,(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/integracoes",children:"Abrir Integra\xe7\xf5es"}),(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/integracoes/n8n",children:"N8N"})]})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"IA"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.ai.status,ea.ai.applicable))),children:o(c(ea.ai.status,ea.ai.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{style:{color:"var(--text-primary)"},children:"OpenRouter"}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(ea.ai.providers.openrouter)),children:o(ea.ai.providers.openrouter)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{style:{color:"var(--text-primary)"},children:"OpenAI"}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(ea.ai.providers.openai)),children:o(ea.ai.providers.openai)})]})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/inteligencia",children:"Abrir Intelig\xeancia"})})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Schema (Supabase)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.schema.status,ea.schema.applicable))),children:o(c(ea.schema.status,ea.schema.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm space-y-2",children:[(ea.schema.criticalTables||[]).slice(0,8).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("span",{className:"truncate",style:{color:"var(--text-primary)"},children:e.table}),(0,r.jsx)("span",{className:"shrink-0 px-2 py-0.5 rounded-full border text-xs ".concat(t(e.status)),children:o(e.status)})]},e.table)),(ea.schema.criticalTables||[]).length>8&&(0,r.jsxs)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["+",(ea.schema.criticalTables||[]).length-8," tabelas…"]})]}),(0,r.jsx)("p",{className:"text-xs mt-3",style:{color:"var(--text-secondary)"},children:"Se alguma tabela cr\xedtica estiver ausente, o sistema pode retornar erro 500 em rotas espec\xedficas."})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ML / Metas"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.ml.status,ea.ml.applicable))),children:o(c(ea.ml.status,ea.ml.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Configs de metas"}),(0,r.jsx)("span",{className:"font-medium",children:ea.ml.goalConfigs})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Modelos ML"}),(0,r.jsx)("span",{className:"font-medium",children:ea.ml.mlModels})]})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/metas",children:"Metas"}),(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/machine-learning",children:"Machine Learning"})]})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Cron (Vercel)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.cron.status,ea.cron.applicable))),children:o(c(ea.cron.status,ea.cron.applicable))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("button",{onClick:ee,disabled:H,className:"px-3 py-2 rounded-lg border text-sm disabled:opacity-60 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:H?"Rodando…":"Rodar agora"}),Y&&(0,r.jsxs)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Executado agora • ",Y.filter(e=>e.ok).length,"/",Y.length," OK"]})]}),Y&&(0,r.jsx)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:Y.map(e=>{let s=e.ok?"pass":"warn";return(0,r.jsxs)("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:e.job}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(s)),children:o(s)})]}),e.error?(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.error}):(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.message||"OK"})]},e.job)})}),!1===ea.cron.applicable&&ea.cron.reason&&(0,r.jsx)("p",{className:"text-xs mb-3",style:{color:"var(--text-secondary)"},children:ea.cron.reason}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:(ea.cron.jobs||[]).map(e=>(0,r.jsxs)("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:e.job}),(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs ".concat(t(c(e.status,e.applicable))),children:o(c(e.status,e.applicable))})]}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:!1===e.applicable?"N\xe3o aplic\xe1vel neste ambiente":e.lastRunAt?"\xdaltima execu\xe7\xe3o: ".concat(new Date(e.lastRunAt).toLocaleString()):"Sem execu\xe7\xe3o nas \xfaltimas 24h"})]},e.job))}),(0,r.jsx)("p",{className:"text-xs mt-3",style:{color:"var(--text-secondary)"},children:"Observa\xe7\xe3o: para “pass”, cada job precisa ter ao menos 1 log nas \xfaltimas 24h."})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Alertas (threshold)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c((null===(u=ea.alerts)||void 0===u?void 0:u.status)||"warn",null===(p=ea.alerts)||void 0===p?void 0:p.applicable))),children:o(c((null===(h=ea.alerts)||void 0===h?void 0:h.status)||"warn",null===(v=ea.alerts)||void 0===v?void 0:v.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm space-y-2",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Actor (ALERTS_ACTOR_USER_ID)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(b=ea.alerts)||void 0===b?void 0:b.actorUserIdValid)?"OK":"Falta/Inv\xe1lido"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"SendGrid (FROM)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(j=ea.alerts)||void 0===j?void 0:j.sendgridFromConfigured)?"OK":"Falta"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Destinat\xe1rios (Email env)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(f=ea.alerts)||void 0===f?void 0:f.hasEmailRecipientsEnv)?"OK":(null===(y=ea.alerts)||void 0===y?void 0:y.fallbackAdminEmails)>0?"OK (db: ".concat(null===(N=ea.alerts)||void 0===N?void 0:N.fallbackAdminEmails,")"):"Nenhum"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Destinat\xe1rios (WhatsApp env)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(g=ea.alerts)||void 0===g?void 0:g.hasWhatsAppRecipientsEnv)?"OK":"Opcional"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Destinat\xe1rios (Intranet env)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(C=ea.alerts)||void 0===C?void 0:C.hasIntranetRecipientsEnv)?"OK":(null===(w=ea.alerts)||void 0===w?void 0:w.fallbackAdminUserIds)>0?"OK (db: ".concat(null===(k=ea.alerts)||void 0===k?void 0:k.fallbackAdminUserIds,")"):"Nenhum"})]})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(n.default,{className:"text-sm underline",href:"/admin/analytics/preditivo",children:"Abrir Analytics Preditivo"})})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"QA (smoke checks)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c((null===(A=ea.qa)||void 0===A?void 0:A.status)||"warn",null===(O=ea.qa)||void 0===O?void 0:O.applicable))),children:o(c((null===(E=ea.qa)||void 0===E?void 0:E.status)||"warn",null===(S=ea.qa)||void 0===S?void 0:S.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm space-y-2",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Kanban • Boards por \xe1rea"}),(0,r.jsx)("span",{className:"font-medium",children:Array.isArray(null===(R=ea.qa)||void 0===R?void 0:null===(I=R.kanban)||void 0===I?void 0:I.missingAreaBoards)&&ea.qa.kanban.missingAreaBoards.length>0?"Faltando: ".concat(ea.qa.kanban.missingAreaBoards.length):"OK"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Solicita\xe7\xf5es • Coluna “Demanda”"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(F=ea.qa)||void 0===F?void 0:null===(q=F.kanban)||void 0===q?void 0:null===(_=q.requestsDemandColumn)||void 0===_?void 0:_.ok)?"OK":"Falta (RH/Opera\xe7\xe3o)"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Colaborador • Assignments (clientes)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(L=ea.qa)||void 0===L?void 0:null===(K=L.collaborator)||void 0===K?void 0:null===(P=K.employeeClientAssignments)||void 0===P?void 0:P.status)?o(ea.qa.collaborator.employeeClientAssignments.status):"—"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Cliente • Perfil (segment/competitors)"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(U=ea.qa)||void 0===U?void 0:null===(T=U.client)||void 0===T?void 0:null===(M=T.profileColumns)||void 0===M?void 0:M.ok)?"OK":"Falha (migra\xe7\xe3o?)"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Prospec\xe7\xe3o • Tavily"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(D=ea.qa)||void 0===D?void 0:null===(B=D.prospecting)||void 0===B?void 0:B.tavilyConfigured)?"OK":"N\xe3o configurado"})]})]}),(0,r.jsx)("p",{className:"text-xs mt-3",style:{color:"var(--text-tertiary)"},children:"Esses checks validam “pr\xe9‑requisitos” de dados/config para fluxos de Cliente/Colaborador/Admin (n\xe3o substitui navega\xe7\xe3o manual)."})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"SQL / RPC"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.sql.status,ea.sql.applicable))),children:o(c(ea.sql.status,ea.sql.applicable))})]}),(0,r.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"RPC is_admin()"}),(0,r.jsx)("span",{className:"font-medium",children:ea.sql.rpc.is_admin})]})})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Mailbox (cPanel)"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-medium ".concat(t(c(ea.cpanel.status,ea.cpanel.applicable))),children:o(c(ea.cpanel.status,ea.cpanel.applicable))})]}),(0,r.jsxs)("div",{className:"text-sm space-y-2",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"CPANEL_USER"}),(0,r.jsx)("span",{className:"font-medium",children:ea.cpanel.env.hasUser?"OK":"Falta"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"CPANEL_PASSWORD"}),(0,r.jsx)("span",{className:"font-medium",children:ea.cpanel.env.hasPassword?"OK":"Falta"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"CPANEL_DOMAIN"}),(0,r.jsx)("span",{className:"font-medium",children:ea.cpanel.env.hasDomain?"OK":"Falta"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"WEBMAIL_URL"}),(0,r.jsx)("span",{className:"font-medium",children:ea.cpanel.env.hasWebmailUrl?"OK":"Opcional"})]})]}),(0,r.jsx)("p",{className:"text-xs mt-3",style:{color:"var(--text-secondary)"},children:"A plataforma n\xe3o exp\xf5e webmail internamente; isso s\xf3 afeta o e-mail de boas-vindas enviado ao e-mail pessoal."})]}),(0,r.jsxs)("div",{className:"p-5 rounded-xl border lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsx)("h2",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Roteiro de valida\xe7\xe3o (por perfil)"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",style:{color:"var(--text-secondary)"},children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Super Admin"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(n.default,{className:"underline",href:"/admin/centro-inteligencia",children:"Centro de Intelig\xeancia"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/analytics/preditivo",children:"Analytics Preditivo"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/machine-learning",children:"Machine Learning"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/financeiro/clientes",children:"Financeiro • Clientes"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/prospeccao",children:"Prospec\xe7\xe3o"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/solicitacoes",children:"Solicita\xe7\xf5es"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/diretoria",children:"Diretoria Virtual"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/monitoramento-sentimento",children:"Sentimento"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/rh",children:"RH"}),(0,r.jsx)(n.default,{className:"underline",href:"/admin/mensagens",children:"Mensagens"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Colaborador"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/kanban",children:"Kanban"}),(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/clientes",children:"Clientes"}),(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/aprovacoes",children:"Aprova\xe7\xf5es"}),(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/solicitacoes",children:"Solicita\xe7\xf5es"}),(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/social/calendario",children:"Social • Calend\xe1rio"}),(0,r.jsx)(n.default,{className:"underline",href:"/colaborador/mensagens",children:"Mensagens"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Cliente"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(n.default,{className:"underline",href:"/cliente/dashboard",children:"Dashboard"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/painel",children:"Painel"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/painel/insights",children:"Insights"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/painel/desempenho",children:"Desempenho"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/painel/concorrentes",children:"Concorrentes"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/evolucao",children:"Evolu\xe7\xe3o"}),(0,r.jsx)(n.default,{className:"underline",href:"/cliente/valle-club",children:"Valle Club"})]})]})]}),(0,r.jsxs)("p",{className:"text-xs mt-3",style:{color:"var(--text-tertiary)"},children:["Dica: rode “Rodar agora” no Cron e depois valide se aparecem logs em ",(0,r.jsx)("code",{children:"integration_logs"})," e insights em ",(0,r.jsx)("code",{children:"super_admin_insights"}),"."]})]})]})]})})}},5526:function(e,s,a){"use strict";a.r(s),a.d(s,{supabase:function(){return i}});var r=a(62724);let l="https://ikjgsqtykkhqimypacro.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlramdzcXR5a2tocWlteXBhY3JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMTE4OTksImV4cCI6MjA3ODc4Nzg5OX0.vgVCpFIt-5ajFhcXg65dqrEw915pqW8fGZ8xgJxrnxI";l&&n||console.error("❌ ERRO CR\xcdTICO: Vari\xe1veis de ambiente NEXT_PUBLIC_SUPABASE_URL ou NEXT_PUBLIC_SUPABASE_ANON_KEY n\xe3o encontradas!");let i=(0,r.eI)(l||"https://setup-missing.supabase.co",n||"setup-missing",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}},function(e){e.O(0,[4609,2724,2972,2971,2117,1744],function(){return e(e.s=44406)}),_N_E=e.O()}]);