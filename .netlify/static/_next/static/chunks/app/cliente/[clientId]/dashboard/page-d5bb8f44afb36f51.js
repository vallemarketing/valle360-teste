(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{39004:function(e,t,r){Promise.resolve().then(r.bind(r,20421))},76858:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},31047:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},96215:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92934:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},91723:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},79219:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},37760:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},29985:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},50598:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(72972),s=r.n(a)},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},20421:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(57437),s=r(2265),l=r(99376),c=r(26892),o=r(14438),n=r(37760),i=r(79219),d=r(50598),m=r(51817),h=r(96215),u=r(31047),y=r(92934),x=r(91723),p=r(49322),v=r(29985),f=r(76858),g=r(27648);let b={instagram:n.Z,facebook:i.Z,linkedin:d.Z},j={pending_approval:{label:"Aguardando",color:"var(--warning-600)",bgColor:"var(--warning-100)"},approved:{label:"Aprovado",color:"var(--success-600)",bgColor:"var(--success-100)"},scheduled:{label:"Agendado",color:"var(--primary-600)",bgColor:"var(--primary-100)"},published:{label:"Publicado",color:"var(--success-700)",bgColor:"var(--success-50)"}};function N(){let e=(0,l.useParams)().clientId,[t,r]=(0,s.useState)(!0),[n,i]=(0,s.useState)({totalPosts:0,postsThisMonth:0,totalReach:0,totalEngagement:0,scheduledPosts:0,pendingApproval:0}),[d,N]=(0,s.useState)([]),[k,w]=(0,s.useState)([]);(0,s.useEffect)(()=>{Z()},[e]);let Z=async()=>{r(!0);try{let t=await fetch("/api/client/".concat(e,"/social-connections")),r=await t.json();t.ok&&N(r.connections||[]);let a=await fetch("/api/admin/social/publish?client_id=".concat(e)),s=await a.json();if(a.ok){let e=s.posts||[],t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1);w(e.slice(0,5)),i({totalPosts:e.filter(e=>"published"===e.status).length,postsThisMonth:e.filter(e=>"published"===e.status&&new Date(e.published_at||e.created_at)>=r).length,totalReach:0,totalEngagement:0,scheduledPosts:e.filter(e=>"scheduled"===e.status).length,pendingApproval:e.filter(e=>"pending_approval"===e.status).length})}}catch(e){console.error("Error loading dashboard:",e),o.Am.error("Erro ao carregar dashboard")}finally{r(!1)}};return t?(0,a.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(m.Z,{className:"w-8 h-8 animate-spin",style:{color:"var(--primary-500)"}}),(0,a.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Carregando dashboard..."})]})}):(0,a.jsx)("div",{className:"min-h-screen p-6",style:{backgroundColor:"var(--bg-secondary)"},children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--primary-50)"},children:(0,a.jsx)(h.Z,{className:"w-7 h-7",style:{color:"var(--primary-500)"}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Meu Dashboard"}),(0,a.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Acompanhe seus posts e m\xe9tricas"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Posts este m\xeas",value:n.postsThisMonth,icon:u.Z,color:"var(--primary-500)"},{label:"Total publicados",value:n.totalPosts,icon:y.Z,color:"var(--success-500)"},{label:"Agendados",value:n.scheduledPosts,icon:x.Z,color:"var(--info-500)"},{label:"Aguardando aprova\xe7\xe3o",value:n.pendingApproval,icon:p.Z,color:"var(--warning-500)"}].map(e=>{let t=e.icon;return(0,a.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-5",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:e.label}),(0,a.jsx)("p",{className:"text-3xl font-bold mt-1",style:{color:"var(--text-primary)"},children:e.value})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"".concat(e.color,"15")},children:(0,a.jsx)(t,{className:"w-6 h-6",style:{color:e.color}})})]})},e.label)})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-5",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-bold",style:{color:"var(--text-primary)"},children:"Redes Conectadas"}),(0,a.jsx)(g.default,{href:"/cliente/".concat(e,"/redes-sociais"),className:"text-sm font-medium",style:{color:"var(--primary-600)"},children:"Gerenciar"})]}),0===d.length?(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(v.Z,{className:"w-10 h-10 mx-auto mb-3",style:{color:"var(--text-tertiary)"}}),(0,a.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Nenhuma rede conectada"}),(0,a.jsx)(g.default,{href:"/cliente/".concat(e,"/redes-sociais"),className:"inline-flex items-center gap-2 mt-3 px-4 py-2 rounded-xl font-medium text-white text-sm",style:{backgroundColor:"var(--primary-500)"},children:"Conectar redes"})]}):(0,a.jsx)("div",{className:"space-y-3",children:d.map(e=>{let t=b[e.platform]||v.Z;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,a.jsx)(t,{className:"w-5 h-5",style:{color:"var(--text-secondary)"}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:e.account_name}),(0,a.jsx)("p",{className:"text-xs capitalize",style:{color:"var(--text-tertiary)"},children:e.platform})]}),(0,a.jsx)(y.Z,{className:"w-4 h-4",style:{color:"var(--success-500)"}})]},e.id)})})]}),(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 rounded-2xl border p-5",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-bold",style:{color:"var(--text-primary)"},children:"\xdaltimos Posts"}),(0,a.jsxs)(g.default,{href:"/cliente/".concat(e,"/posts"),className:"inline-flex items-center gap-1 text-sm font-medium",style:{color:"var(--primary-600)"},children:["Ver todos",(0,a.jsx)(f.Z,{className:"w-4 h-4"})]})]}),0===k.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(u.Z,{className:"w-10 h-10 mx-auto mb-3",style:{color:"var(--text-tertiary)"}}),(0,a.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Nenhum post ainda"})]}):(0,a.jsx)("div",{className:"space-y-3",children:k.map(e=>{let t=j[e.status]||j.scheduled;return(0,a.jsx)("div",{className:"flex items-start gap-3 p-3 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:t.bgColor,color:t.color},children:t.label}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:e.platforms.map(e=>{let t=b[e];return t?(0,a.jsx)(t,{className:"w-3 h-3",style:{color:"var(--text-tertiary)"}},e):null})})]}),(0,a.jsx)("p",{className:"text-sm line-clamp-2",style:{color:"var(--text-primary)"},children:e.copy}),(0,a.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:e.scheduled_at?new Date(e.scheduled_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Sem data"})]})},e.id)})})]})]}),(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(g.default,{href:"/cliente/".concat(e,"/calendario"),className:"p-5 rounded-2xl border text-left hover:shadow-md transition-shadow",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsx)(u.Z,{className:"w-8 h-8 mb-3",style:{color:"var(--primary-500)"}}),(0,a.jsx)("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Calend\xe1rio"}),(0,a.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:"Ver posts agendados"})]}),(0,a.jsxs)(g.default,{href:"/cliente/".concat(e,"/aprovacoes"),className:"p-5 rounded-2xl border text-left hover:shadow-md transition-shadow",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsx)(y.Z,{className:"w-8 h-8 mb-3",style:{color:"var(--success-500)"}}),(0,a.jsx)("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Aprova\xe7\xf5es"}),(0,a.jsxs)("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:[n.pendingApproval," pendente",1!==n.pendingApproval?"s":""]})]}),(0,a.jsxs)(g.default,{href:"/cliente/".concat(e,"/redes-sociais"),className:"p-5 rounded-2xl border text-left hover:shadow-md transition-shadow",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,a.jsx)(v.Z,{className:"w-8 h-8 mb-3",style:{color:"var(--info-500)"}}),(0,a.jsx)("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Redes Sociais"}),(0,a.jsxs)("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:[d.length," conectada",1!==d.length?"s":""]})]})]})]})})}}},function(e){e.O(0,[2882,4438,2972,2971,2117,1744],function(){return e(e.s=39004)}),_N_E=e.O()}]);