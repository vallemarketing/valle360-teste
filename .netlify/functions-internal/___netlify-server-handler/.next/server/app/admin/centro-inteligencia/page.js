(()=>{var e={};e.id=37911,e.ids=[37911],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},47135:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(72611),s(9457),s(49991),s(35866);var t=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(a,o);let c=["",{children:["admin",{children:["centro-inteligencia",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,72611)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\centro-inteligencia\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,49991)),"C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User\\Downloads\\valle-360-main\\valle-360-main\\src\\app\\admin\\centro-inteligencia\\page.tsx"],m="/admin/centro-inteligencia/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/centro-inteligencia/page",pathname:"/admin/centro-inteligencia",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},11828:(e,a,s)=>{Promise.resolve().then(s.bind(s,74949))},24230:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},997:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},69669:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},43810:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},31540:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},7027:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},99102:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},23781:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},5932:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},25770:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},74603:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},42887:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},15515:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},33734:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},59593:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},29163:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},50949:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},41449:(e,a,s)=>{"use strict";s.d(a,{D:()=>_});var t=s(17577),r=s(60962),i=s(62607),l=s(41135),n=s(671),o=s(19884),c=s(45664),d=s(20448);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(null,arguments)}function x(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,t)}return s}var h={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function p(e){var a,{data:s,iconType:r,inactiveColor:i}=e,l=32/6,n=32/3,c=s.inactive?i:s.color,d=null!=r?r:s.type;if("none"===d)return null;if("plainline"===d)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(a=s.payload)||void 0===a?void 0:a.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===d)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(16,"h").concat(n,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*n,",").concat(16,"\n            H").concat(32,"M").concat(2*n,",").concat(16,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(n,",").concat(16),className:"recharts-legend-icon"});if("rect"===d)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(s.legendIcon)){var m=function(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?x(Object(s),!0).forEach(function(a){var t,r;t=a,r=s[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}({},s);return delete m.legendIcon,t.cloneElement(s.legendIcon,m)}return t.createElement(o.v,{fill:c,cx:16,cy:16,size:32,sizeType:"diameter",type:d})}function u(e){var{payload:a,iconSize:s,layout:r,formatter:i,inactiveColor:o,iconType:d}=e,x={x:0,y:0,width:32,height:32},h={display:"horizontal"===r?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((a,r)=>{var g=a.formatter||i,j=(0,l.W)({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:a.inactive});if("none"===a.type)return null;var b=a.inactive?o:a.color,f=g?g(a.value,a,r):a.value;return t.createElement("li",m({className:j,style:h,key:"legend-item-".concat(r)},(0,c.bw)(e,a,r)),t.createElement(n.T,{width:s,height:s,viewBox:x,style:u,"aria-label":"".concat(f," legend icon")},t.createElement(p,{data:a,iconType:d,inactiveColor:o})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},f))})}var g=e=>{var a=(0,d.j)(e,h),{payload:s,layout:r,align:i}=a;return s&&s.length?t.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===r?i:"left"}},t.createElement(u,m({},a,{payload:s}))):null},j=s(2645),b=s(23819),f=s(11832),v=s(22466),y=s(9876),N=s(24477),w=["contextPayload"];function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(null,arguments)}function C(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,t)}return s}function A(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?C(Object(s),!0).forEach(function(a){var t,r;t=a,r=s[a],(t=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Z(e){return e.value}function S(e){var{contextPayload:a}=e,s=function(e,a){if(null==e)return{};var s,t,r=function(e,a){if(null==e)return{};var s={};for(var t in e)if(({}).hasOwnProperty.call(e,t)){if(-1!==a.indexOf(t))continue;s[t]=e[t]}return s}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],-1===a.indexOf(s)&&({}).propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,w),r=(0,b.z)(a,e.payloadUniqBy,Z),i=A(A({},s),{},{payload:r});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"==typeof e.content?t.createElement(e.content,i):t.createElement(g,i)}function E(e){return(0,f.T)(),null}function P(e){return(0,f.T)(),null}var O={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _(e){var a,s=(0,d.j)(e,O),l=(0,f.C)(v.E$),n=(0,i.l)(),o=(0,N.h)(),{width:c,height:m,wrapperStyle:x,portal:h}=s,[p,u]=(0,y.B)([l]),g=(0,N.zn)(),b=(0,N.Mw)();if(null==g||null==b)return null;var w=g-((null==o?void 0:o.left)||0)-((null==o?void 0:o.right)||0),C="vertical"===(a=s.layout)&&(0,j.hj)(m)?{height:m}:"horizontal"===a?{width:c||w}:null,Z=h?x:A(A({position:"absolute",width:(null==C?void 0:C.width)||c||"auto",height:(null==C?void 0:C.height)||m||"auto"},function(e,a,s,t,r,i){var l,n,{layout:o,align:c,verticalAlign:d}=a;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===o?{left:((t||0)-i.width)/2}:"right"===c?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===d?{top:((r||0)-i.height)/2}:"bottom"===d?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),A(A({},l),n)}(x,s,o,g,b,p)),x),_=null!=h?h:n;if(null==_||null==l)return null;var z=t.createElement("div",{className:"recharts-legend-wrapper",style:Z,ref:u},t.createElement(E,{layout:s.layout,align:s.align,verticalAlign:s.verticalAlign,itemSorter:s.itemSorter}),t.createElement(P,{width:p.width,height:p.height}),t.createElement(S,k({},s,C,{margin:o,chartWidth:g,chartHeight:b,contextPayload:l})));return(0,r.createPortal)(z,_)}_.displayName="Legend"},74949:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ey});var t=s(10326),r=s(17577),i=s(28870),l=s(9086),n=s(90434),o=s(31540),c=s(99102),d=s(83379),m=s(85999),x=s(10937),h=s(29752),p=s(38443),u=s(91664),g=s(71821),j=s(24061),b=s(53468),f=s(997),v=s(50949),y=s(26754),N=s(1572),w=s(17069),k=s(29163),C=s(39183),A=s(98360),Z=s(30361),S=s(3634),E=s(62881);let P=(0,E.Z)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var O=s(7507),_=s(33734),z=s(48998),M=s(12714),$=s(74603);let R=(0,E.Z)("file-search",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);var T=s(5932),D=s(59593),q=s(37358),L=s(36283),I=s(94019),V=s(38787),F=s(42887),H=s(40617),B=s(43810),U=s(7027),Y=s(69436),W=s(59813);let G=(0,E.Z)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);var J=s(66307),K=s(24230);function Q(){let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0);return((0,W.createClientComponentClient)(),s)?t.jsx("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:"Carregando..."}):(0,t.jsxs)(h.Zb,{className:"border-l-4 border-l-red-500 shadow-md",children:[t.jsx(h.Ol,{className:"pb-2",children:(0,t.jsxs)(h.ll,{className:"flex items-center justify-between text-gray-900",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-red-500"}),"Detector de Scope Creep"]}),(0,t.jsxs)(p.C,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.length," alertas"]})]})}),(0,t.jsxs)(h.aY,{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Clientes solicitando mais entregas do que o contratado."}),t.jsx("div",{className:"space-y-3",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500 bg-gray-50 rounded-lg",children:[t.jsx(J.Z,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),t.jsx("p",{children:"Nenhum desvio de escopo detectado."})]}):e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border hover:shadow-sm transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:e.client_name}),"critical"===e.status&&t.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.service_name," â€¢ ",t.jsx("span",{className:"capitalize",children:e.deliverable_type})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-gray-900",children:[e.produced_qty," ",(0,t.jsxs)("span",{className:"text-gray-400 text-xs font-normal",children:["/ ",e.contracted_qty]})]}),(0,t.jsxs)("p",{className:"text-xs font-medium text-red-600",children:["+",e.excess_qty," extra"]})]}),t.jsx(u.z,{size:"icon",variant:"ghost",className:"h-8 w-8",children:t.jsx(K.Z,{className:"w-4 h-4"})})]})]},a))})]})]})}var X=s(21405),ee=s(15515),ea=s(25770),es=s(23781),et=s(39730),er=s(69669);function ei(){let[e,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)("7d"),[o,c]=(0,r.useState)(null),d=async()=>{i(!0),c(null);try{let e=await fetch(`/api/admin/conversation-analytics?period=${l}`),s=await e.json();s.success?a(s):c(s.error||"Erro ao carregar dados")}catch(e){c("Erro ao conectar com o servidor")}finally{i(!1)}},m=async(e,a)=>{try{await fetch("/api/admin/conversation-analytics",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({alertId:e,action:a})}),d()}catch(e){console.error("Erro ao atualizar alerta:",e)}},x=e=>{switch(e){case"critical":return"bg-red-600 text-white";case"high":return"bg-primary text-white";case"medium":return"bg-yellow-500 text-black";default:return"bg-blue-500 text-white"}},g=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(X.Z,{className:"w-8 h-8 animate-spin text-primary"})});if(o)return(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(v.Z,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o}),t.jsx(u.z,{onClick:d,variant:"outline",className:"mt-4",children:"Tentar novamente"})]});if(!e)return null;let b=e.summary.total>0?Math.round(e.summary.positive/e.summary.total*100):0,f=e.summary.total>0?Math.round(e.summary.neutral/e.summary.total*100):0,y=e.summary.total>0?Math.round(e.summary.negative/e.summary.total*100):0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"An\xe1lise de Conversas"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.analyzedMessages," mensagens analisadas"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[["7d","30d","90d"].map(e=>t.jsx(u.z,{variant:l===e?"default":"outline",size:"sm",onClick:()=>n(e),className:l===e?"bg-primary hover:bg-[#1260b5]":"",children:"7d"===e?"7 dias":"30d"===e?"30 dias":"90 dias"},e)),t.jsx(u.z,{variant:"outline",size:"sm",onClick:d,children:t.jsx(X.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(h.Zb,{className:"border-l-4 border-l-green-500",children:t.jsx(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Positivo"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[b,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.positive," mensagens"]})]}),t.jsx(ee.Z,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),t.jsx(h.Zb,{className:"border-l-4 border-l-gray-400",children:t.jsx(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Neutro"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-600",children:[f,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.neutral," mensagens"]})]}),t.jsx(ea.Z,{className:"w-10 h-10 text-gray-400 opacity-50"})]})})}),t.jsx(h.Zb,{className:"border-l-4 border-l-red-500",children:t.jsx(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Negativo"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[y,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.summary.negative," mensagens"]})]}),t.jsx(es.Z,{className:"w-10 h-10 text-red-500 opacity-50"})]})})}),t.jsx(h.Zb,{className:"border-l-4 border-l-blue-500",children:t.jsx(h.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Analisado"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.summary.total}),t.jsx("p",{className:"text-xs text-gray-400",children:"mensagens"})]}),t.jsx(et.Z,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(w.Z,{className:"w-5 h-5 text-primary"}),"Tend\xeancia de Sentimento"]})}),t.jsx(h.aY,{children:0===e.trend.length?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"Sem dados suficientes para exibir tend\xeancia"}):(0,t.jsxs)("div",{className:"space-y-2",children:[e.trend.slice(-7).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-16 text-xs text-gray-500",children:g(e.date)}),(0,t.jsxs)("div",{className:"flex-1 h-4 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[t.jsx("div",{className:"bg-green-500 h-full",style:{width:`${e.positive+e.neutral+e.negative>0?e.positive/(e.positive+e.neutral+e.negative)*100:0}%`}}),t.jsx("div",{className:"bg-gray-400 h-full",style:{width:`${e.positive+e.neutral+e.negative>0?e.neutral/(e.positive+e.neutral+e.negative)*100:0}%`}}),t.jsx("div",{className:"bg-red-500 h-full",style:{width:`${e.positive+e.neutral+e.negative>0?e.negative/(e.positive+e.neutral+e.negative)*100:0}%`}})]}),t.jsx("span",{className:"w-8 text-xs text-gray-500 text-right",children:e.positive+e.neutral+e.negative})]},e.date)),(0,t.jsxs)("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"})," Positivo"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded"})," Neutro"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"})," Negativo"]})]})]})})]}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(v.Z,{className:"w-5 h-5 text-yellow-500"}),"Alertas de Sentimento",e.alerts.length>0&&t.jsx(p.C,{variant:"danger",className:"ml-2",children:e.alerts.length})]})}),t.jsx(h.aY,{children:0===e.alerts.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(Z.Z,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Nenhum alerta pendente"})]}):t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.alerts.map(e=>t.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(p.C,{className:x(e.severity),children:e.severity}),t.jsx("span",{className:"text-xs text-gray-500",children:g(e.createdAt)})]}),t.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.title}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.conversationName})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:["pending"===e.status&&t.jsx(u.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"acknowledge"),title:"Reconhecer",children:t.jsx(Z.Z,{className:"w-4 h-4 text-blue-500"})}),t.jsx(u.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"resolve"),title:"Resolver",children:t.jsx(Z.Z,{className:"w-4 h-4 text-green-500"})}),t.jsx(u.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id,"dismiss"),title:"Dispensar",children:t.jsx(er.Z,{className:"w-4 h-4 text-gray-400"})})]})]})},e.id))})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(et.Z,{className:"w-5 h-5 text-blue-500"}),"Por Tipo de Conversa"]})}),t.jsx(h.aY,{children:t.jsx("div",{className:"space-y-4",children:e.byType.map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-sm",children:e.label}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.positivePercent,"% positivo (",e.total," msgs)"]})]}),(0,t.jsxs)("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[t.jsx("div",{className:"bg-green-500 h-full transition-all",style:{width:`${e.total>0?e.positive/e.total*100:0}%`}}),t.jsx("div",{className:"bg-gray-400 h-full transition-all",style:{width:`${e.total>0?e.neutral/e.total*100:0}%`}}),t.jsx("div",{className:"bg-red-500 h-full transition-all",style:{width:`${e.total>0?e.negative/e.total*100:0}%`}})]})]},e.type))})})]}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(j.Z,{className:"w-5 h-5 text-purple-500"}),"Por Tipo de Remetente"]})}),t.jsx(h.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.bySender.filter(e=>e.total>0).map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-sm",children:e.label}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.positivePercent,"% positivo (",e.total," msgs)"]})]}),(0,t.jsxs)("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden flex",children:[t.jsx("div",{className:"bg-green-500 h-full transition-all",style:{width:`${e.total>0?e.positive/e.total*100:0}%`}}),t.jsx("div",{className:"bg-gray-400 h-full transition-all",style:{width:`${e.total>0?e.neutral/e.total*100:0}%`}}),t.jsx("div",{className:"bg-red-500 h-full transition-all",style:{width:`${e.total>0?e.negative/e.total*100:0}%`}})]})]},e.type)),0===e.bySender.filter(e=>e.total>0).length&&t.jsx("div",{className:"text-center py-4 text-gray-500",children:"Sem dados suficientes"})]})})]})]})]})}var el=s(81398),en=s(14958),eo=s(18423),ec=s(62637),ed=s(9997),em=s(89495),ex=s(41449),eh=s(72462),ep=s(49844),eu=s(22219),eg=s(14141),ej=s(97651),eb=s(99630),ef=s(51223),ev=s(27577);function ey(){let[e,a]=(0,r.useState)("overview"),[s,E]=(0,r.useState)(!1),[W,G]=(0,r.useState)(null),[J,K]=(0,r.useState)(!1),[X,ee]=(0,r.useState)([]),[ea,es]=(0,r.useState)(!1),[et,er]=(0,r.useState)(!1),[ey,eN]=(0,r.useState)(!1),[ew,ek]=(0,r.useState)("pdf"),[eC,eA]=(0,r.useState)(!1),[eZ,eS]=(0,r.useState)([]),[eE,eP]=(0,r.useState)(null),[eO,e_]=(0,r.useState)(!0),[ez,eM]=(0,r.useState)(!1),[e$,eR]=(0,r.useState)(null),[eT,eD]=(0,r.useState)(!1),[eq,eL]=(0,r.useState)(null),[eI,eV]=(0,r.useState)(!1),[eF,eH]=(0,r.useState)(!1),[eB,eU]=(0,r.useState)(!1),[eY,eW]=(0,r.useState)(""),[eG,eJ]=(0,r.useState)({sendgrid:{configured:!1,fromEmail:null},whatsapp:{configured:!1}}),[eK,eQ]=(0,r.useState)(!0),eX=[{id:"1",name:"Roberto Mendes",company:"TechVision Ltda",position:"CEO",phone:"(11) 99876-5432",email:"roberto@techvision.com.br",score:95,interest:"Busca solu\xe7\xf5es de automa\xe7\xe3o de marketing",lastContact:"2 dias atr\xe1s",script:`Ol\xe1 Roberto, aqui \xe9 [Seu Nome] da Valle 360!

Vi que a TechVision est\xe1 crescendo muito no setor de tecnologia. Parab\xe9ns pelos resultados!

Estou entrando em contato porque trabalhamos com empresas similares ajudando a automatizar o marketing digital e aumentar a gera\xe7\xe3o de leads qualificados.

Conseguimos em m\xe9dia um aumento de 40% na convers\xe3o de leads para nossos clientes do segmento tech.

Gostaria de agendar uma conversa de 15 minutos para mostrar como podemos ajudar a TechVision a escalar ainda mais?`,status:"hot"},{id:"2",name:"Ana Paula Ferreira",company:"Construtora Horizonte",position:"Diretora de Marketing",phone:"(21) 98765-4321",email:"ana.paula@horizonte.com.br",score:88,interest:"Precisa melhorar presen\xe7a nas redes sociais",lastContact:"1 semana atr\xe1s",script:`Ol\xe1 Ana Paula, tudo bem?

Aqui \xe9 [Seu Nome] da Valle 360. Notei que a Construtora Horizonte tem lan\xe7amentos incr\xedveis, mas a presen\xe7a digital ainda tem muito potencial.

Trabalhamos com construtoras e conseguimos aumentar em m\xe9dia 60% o engajamento nas redes sociais e 35% nos leads de im\xf3veis.

Seria interessante uma conversa r\xe1pida para mostrar cases do setor imobili\xe1rio?`,status:"warm"},{id:"3",name:"Carlos Eduardo",company:"Cl\xednica Premium Sa\xfade",position:"S\xf3cio-administrador",phone:"(31) 97654-3210",email:"carlos@premiumsaude.com.br",score:82,interest:"Quer aumentar agendamentos online",lastContact:"3 dias atr\xe1s",script:`Ol\xe1 Dr. Carlos, aqui \xe9 [Seu Nome] da Valle 360!

Acompanhei o crescimento da Cl\xednica Premium Sa\xfade e o trabalho excepcional que voc\xeas fazem.

Trabalhamos com cl\xednicas e consult\xf3rios ajudando a aumentar os agendamentos online atrav\xe9s de campanhas segmentadas e automa\xe7\xe3o de WhatsApp.

Um de nossos clientes do segmento de sa\xfade aumentou 45% os agendamentos em 2 meses.

Podemos marcar uma conversa para apresentar nossa metodologia?`,status:"warm"},{id:"4",name:"Mariana Santos",company:"E-commerce Fashion Store",position:"Fundadora",phone:"(41) 96543-2109",email:"mariana@fashionstore.com.br",score:76,interest:"Procura melhorar convers\xe3o do e-commerce",lastContact:"5 dias atr\xe1s",script:`Ol\xe1 Mariana, tudo bem?

Aqui \xe9 [Seu Nome] da Valle 360. Conhe\xe7o o Fashion Store e vi o potencial enorme que voc\xeas t\xeam!

Trabalhamos com e-commerces de moda ajudando a otimizar campanhas de tr\xe1fego pago e aumentar a taxa de convers\xe3o.

Conseguimos para um cliente similar aumentar 52% o ROAS em 3 meses.

Podemos agendar uma call para mostrar como replicar isso no Fashion Store?`,status:"cold"}],{generateInsights:e0,generateContent:e1,generateEmail:e2,isLoading:e5,error:e3}=(0,d.l)(),e6=async()=>{es(!0);try{m.Am.loading("Gerando an\xe1lise com IA...");let e=await e0("strategic",{period:"30d"});eS(e),er(!0),eR({title:"âœ… An\xe1lise de IA Gerada!",message:`A IA analisou seus dados e encontrou ${e.length} insights estrat\xe9gicos.`,insights:e.slice(0,5)}),eM(!0),m.Am.dismiss(),m.Am.success("An\xe1lise gerada com sucesso!"),(0,x.L)("ci_generate_analysis_success",{level:"info",data:{insightsCount:e.length}})}catch(a){console.error("Erro ao gerar an\xe1lise:",a),m.Am.dismiss();let e=String(a?.message||"Erro ao gerar an\xe1lise");e.includes("[401]")||e.toLowerCase().includes("n\xe3o autorizado")?m.Am.error("Sess\xe3o inv\xe1lida. Fa\xe7a login novamente para usar a IA."):e.toLowerCase().includes("openai api key")?m.Am.error("OpenAI n\xe3o configurada na Vercel. Configure OPENAI_API_KEY."):m.Am.error(`Erro ao gerar an\xe1lise: ${e}`),(0,x.L)("ci_generate_analysis_error",{level:"error",message:e})}finally{es(!1)}},e4=async e=>{ek(e),eA(!0);try{let a=await e1("report",{type:"executive",period:"monthly",includeInsights:!0,includeMetrics:!0}),s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download=`relatorio-valle360.${"excel"===e?"xlsx":"pdf"}`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),eN(!1),m.Am.success(`Relat\xf3rio exportado em ${e.toUpperCase()} com sucesso!`)}catch(e){console.error("Erro ao exportar:",e),m.Am.error("Erro ao exportar relat\xf3rio.")}finally{eA(!1)}},e8=async e=>{try{switch(e){case"cobrar":let a=await e2({type:"cobranca",recipientName:"Cliente",context:"Pagamento em atraso h\xe1 15 dias",tone:"formal"});eR({title:"\uD83D\uDCE7 Email de Cobran\xe7a Gerado",message:"A IA criou o seguinte email para envio:",email:a}),eM(!0);break;case"elogiar":let s=await e2({type:"feedback",recipientName:"Colaborador",context:"Excelente performance no \xfaltimo m\xeas, superou todas as metas",tone:"amigavel"});eR({title:"\uD83C\uDF89 Reconhecimento Gerado",message:"A IA criou a seguinte mensagem de reconhecimento:",email:s}),eM(!0);break;case"agendar":eR({title:"\uD83D\uDCC5 Reuni\xf5es Agendadas",message:"Foram identificadas 4 reuni\xf5es pendentes e os convites foram preparados.",actions:["Reuni\xe3o de alinhamento com Cliente A - Ter\xe7a 14h","Review mensal com equipe - Quarta 10h","Apresenta\xe7\xe3o de resultados - Quinta 15h","Reuni\xe3o estrat\xe9gica - Sexta 9h"]}),eM(!0);break;case"relatorio":let t=await e1("report",{type:"monthly",metrics:["revenue","clients","tasks","nps"]});eR({title:"\uD83D\uDCCA Relat\xf3rio Mensal Gerado",message:"A IA compilou os dados do m\xeas:",report:t}),eM(!0);break;default:m.Am.message("A\xe7\xe3o em execu\xe7\xe3o...")}}catch(e){console.error("Erro na a\xe7\xe3o:",e),m.Am.error("Erro ao executar a\xe7\xe3o.")}},e9=e=>{G(e),E(!0)},e7=async()=>{if(W){K(!0);try{m.Am.loading("Executando a\xe7\xe3o...");let e=await fetch("/api/admin/intelligence/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({actionId:W.id,title:W.title,description:W.description,category:W.category,priority:W.priority})}),a=await e.json().catch(()=>({}));if(!e.ok)throw Error(a?.error||"Falha ao executar a\xe7\xe3o");ee(e=>[...e,W.id]),E(!1),eR({title:`âœ… ${W.title}`,message:a?.already_executed?"Esta a\xe7\xe3o j\xe1 estava executada (tarefa j\xe1 existia no Kanban).":"A\xe7\xe3o executada: tarefa criada no Kanban do Super Admin.",actions:[a?.link?`ðŸ—‚ï¸ Abrir no Kanban: ${a.link}`:null].filter(Boolean),link:a?.link||null}),eM(!0),(0,x.L)("ci_execute_action_success",{level:"info",data:{actionId:W.id,already:!!a?.already_executed}})}catch(e){console.error("Erro ao executar:",e),m.Am.dismiss(),m.Am.error(`Erro ao executar a\xe7\xe3o: ${String(e?.message||e)}`),(0,x.L)("ci_execute_action_error",{level:"error",message:String(e?.message||e)})}finally{m.Am.dismiss(),K(!1),G(null)}}},ae=[{label:"Receita Mensal",value:"R$ 287.450",change:12.5,trend:"up",icon:t.jsx(g.Z,{className:"w-6 h-6"}),color:"text-green-600"},{label:"Clientes Ativos",value:"42",change:8.3,trend:"up",icon:t.jsx(j.Z,{className:"w-6 h-6"}),color:"text-blue-600"},{label:"Taxa de Conclus\xe3o",value:"94.2%",change:3.7,trend:"up",icon:t.jsx(b.Z,{className:"w-6 h-6"}),color:"text-purple-600"},{label:"NPS M\xe9dio",value:"8.7",change:-.5,trend:"down",icon:t.jsx(f.Z,{className:"w-6 h-6"}),color:"text-primary"}],aa=(()=>{let e=[{id:"fallback_1",type:"info",title:eO?"Carregando preditivoâ€¦":"Sem alertas preditivos",description:eO?"Buscando health score e previs\xf5es recentesâ€¦":"Rode o pipeline ML para gerar previs\xf5es reais (churn, pagamento, LTV, demanda/capacidade).",actionable:!0,link:"/admin/analytics/preditivo"}];if(!eE)return e;let a=Array.isArray(eE?.riskyClients)?eE.riskyClients:[],s=Array.isArray(eE?.predictions)?eE.predictions:[],t=e=>{if(e?.value!=null)return Number(e.value);let a=e?.predicted_value;return a&&"object"==typeof a&&"value"in a?Number(a.value):Number.NaN},r=e=>s.filter(a=>String(a?.type||a?.prediction_type||"")===e),i=[],l=e=>Number.isFinite(e.v);if(a[0]){let e=a[0];i.push({id:`churn_${String(e.client_id)}`,type:"critical",title:`Risco de Churn: ${String(e.client_name||e.client_id)}`,description:`churn ${Math.round(Number(e.churn_probability||0))}% â€¢ score ${Math.round(Number(e.overall_score||0))} â€¢ ${String(e.risk_level||"-")}`,actionable:!0,link:"/admin/analytics/preditivo"})}let n=r("payment_risk").map(e=>({p:e,v:t(e)})).filter(l).sort((e,a)=>a.v-e.v);if(n[0]&&n[0].v>=55){let e=n[0].p,a=e?.entity_name||e?.predicted_value?.entity_name||e?.target_id||"Cliente";i.push({id:`pay_${String(e?.id||"top")}`,type:n[0].v>=75?"critical":"warning",title:`Risco de Pagamento: ${String(a)}`,description:`risco ${Math.round(n[0].v)}% â€¢ ver faturas e acionar cobran\xe7a`,actionable:!0,link:"/admin/financeiro/clientes"})}let o=r("demand_capacity").map(e=>({p:e,v:t(e)})).filter(l).sort((e,a)=>a.v-e.v);if(o[0]){let e=o[0].v;i.push({id:`cap_${String(o[0].p?.id||"latest")}`,type:e>=85?"critical":e>=65?"warning":"info",title:`Capacidade da equipe em ${Math.round(e)}%`,description:e>=85?"Capacidade cr\xedtica: redistribuir demandas e revisar prioridades.":e>=65?"Capacidade pressionada: planejar refor\xe7o/automa\xe7\xe3o.":"Capacidade saud\xe1vel no per\xedodo.",actionable:!0,link:"/admin/rh"})}let c=r("budget_overrun").map(e=>({p:e,v:t(e)})).filter(l).sort((e,a)=>a.v-e.v);if(c[0]&&c[0].v>=70){let e=c[0].p,a=e?.entity_name||e?.predicted_value?.entity_name||e?.target_id||"Campanha";i.push({id:`bud_${String(e?.id||"top")}`,type:c[0].v>=90?"critical":"warning",title:`Risco de or\xe7amento: ${String(a)}`,description:`risco ${Math.round(c[0].v)}% â€¢ revisar budget e otimiza\xe7\xf5es da campanha`,actionable:!0,link:"/admin/analytics/preditivo"})}let d=r("revenue").map(e=>({p:e,v:t(e)})).filter(l).sort((e,a)=>a.v-e.v);d[0]&&i.push({id:`rev_${String(d[0].p?.id||"latest")}`,type:"info",title:"Forecast de Receita (ML/heur\xedstica)",description:`estimativa: R$ ${Math.round(d[0].v).toLocaleString("pt-BR")} â€¢ veja detalhes em Analytics Preditivo`,actionable:!0,link:"/admin/analytics/preditivo"});let m=r("conversion").map(e=>({p:e,v:t(e)})).filter(l).sort((e,a)=>a.v-e.v);if(m[0]&&m[0].v>=70){let e=m[0].p,a=e?.entity_name||e?.predicted_value?.entity_name||"Lead";i.push({id:`conv_${String(e?.id||"top")}`,type:"info",title:`Alta convers\xe3o prov\xe1vel: ${String(a)}`,description:`probabilidade ${Math.round(m[0].v)}% â€¢ priorizar contato/proposta`,actionable:!0,link:"/admin/prospeccao"})}return i.length?i.slice(0,6):e})(),as=[{name:"Social Media",value:30,color:"#3B82F6"},{name:"Tr\xe1fego",value:25,color:"#10B981"},{name:"Design",value:20,color:"#F59E0B"},{name:"V\xeddeo",value:15,color:"#EF4444"},{name:"Web",value:10,color:"#8B5CF6"}],at=e=>{switch(e){case"critical":return t.jsx(v.Z,{className:"w-5 h-5 text-red-600"});case"warning":return t.jsx(v.Z,{className:"w-5 h-5 text-yellow-600"});default:return t.jsx(v.Z,{className:"w-5 h-5 text-blue-600"})}},ar=e=>{switch(e){case"high":return"border-red-500 bg-red-50 dark:bg-red-900/10";case"medium":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/10";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/10"}},ai=e=>{eL(e),eD(!0)},al=e=>{eL(e),eU(!1),eW(""),eH(!0)},an=e=>{eL(e),eV(!0)},ao=async e=>{if(eK){m.Am.info("Verificando integra\xe7\xf5es...");return}m.Am.loading("Preparando email...");try{let a=`Valle 360 | ${e.company}`,s=e.script;try{let t=await e2({objective:"qualified_lead_outreach",lead:{name:e.name,company:e.company,position:e.position,interest:e.interest}});t?.subject&&(a=t.subject),t?.body&&(s=t.body)}catch{}let t=`<div style="font-family: Arial, sans-serif; line-height: 1.5;">${String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>")}</div>`,r=await fetch("/api/admin/outbound/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:e.email,toName:e.name,subject:a,html:t,text:s})}),i=await r.json().catch(()=>({}));if(!r.ok)throw Error(i?.error||"Falha ao preparar email");m.Am.dismiss(),i?.mailtoUrl?(window.open(i.mailtoUrl,"_blank"),m.Am.success("Email pronto! Abra seu app de email.")):m.Am.success("Email preparado com sucesso!"),(0,x.L)("ci_lead_send_email_success",{level:"info",data:{leadId:e.id}})}catch(e){m.Am.dismiss(),m.Am.error(`Erro ao enviar email: ${String(e?.message||e)}`),(0,x.L)("ci_lead_send_email_error",{level:"error",message:String(e?.message||e)})}},ac=async e=>{if(eK){m.Am.info("Verificando integra\xe7\xf5es...");return}if(!eG.whatsapp.configured){m.Am.error("WhatsApp n\xe3o configurado. Configure WHATSAPP_PHONE_NUMBER_ID e WHATSAPP_ACCESS_TOKEN na Vercel.");return}m.Am.loading("Enviando WhatsApp...");try{let a=await fetch("/api/admin/outbound/whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toPhone:e.phone,text:e.script})}),s=await a.json().catch(()=>({}));if(!a.ok)throw Error(s?.error||"Falha ao enviar WhatsApp");m.Am.dismiss(),m.Am.success("WhatsApp enviado com sucesso!"),(0,x.L)("ci_lead_send_whatsapp_success",{level:"info",data:{leadId:e.id}})}catch(e){m.Am.dismiss(),m.Am.error(`Erro ao enviar WhatsApp: ${String(e?.message||e)}`),(0,x.L)("ci_lead_send_whatsapp_error",{level:"error",message:String(e?.message||e)})}},ad=e=>{switch(e){case"hot":return"bg-red-500";case"warm":return"bg-primary";default:return"bg-blue-500"}},am=e=>{switch(e){case"hot":return"Quente";case"warm":return"Morno";default:return"Frio"}};return(0,t.jsxs)("div",{className:"space-y-6 pb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Centro de Intelig\xeancia de Gest\xe3o"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Dashboard executivo com insights e recomenda\xe7\xf5es automatizadas por IA"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(u.z,{variant:"outline",onClick:()=>eN(!0),children:[t.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Exportar Relat\xf3rio"]}),t.jsx(u.z,{className:"bg-primary hover:bg-[#1260b5]",onClick:e6,disabled:ea,children:ea?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Gerando..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Gerar An\xe1lise IA"]})})]})]}),t.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("nav",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>a("overview"),className:`pb-3 px-1 text-sm font-medium transition-colors border-b-2 ${"overview"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Vis\xe3o Geral"}),t.jsx("button",{onClick:()=>a("conversations"),className:`pb-3 px-1 text-sm font-medium transition-colors border-b-2 ${"conversations"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"An\xe1lise de Conversas"})]})}),"conversations"===e?t.jsx(ei,{}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ae.map((e,a)=>t.jsx(n.default,{href:["/admin/financeiro","/admin/clientes","/admin/performance","/admin/nps"][a],children:t.jsx(i.E.div,{whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},children:t.jsx(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-[#1672d6]/30 hover:shadow-lg transition-all",children:(0,t.jsxs)(h.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:e.color,children:e.icon}),(0,t.jsxs)(p.C,{className:"up"===e.trend?"bg-emerald-600":"down"===e.trend?"bg-red-600":"bg-gray-600",children:["up"===e.trend?t.jsx(w.Z,{className:"w-3 h-3 mr-1"}):t.jsx(k.Z,{className:"w-3 h-3 mr-1"}),e.change>0?"+":"",e.change,"%"]})]}),t.jsx("p",{className:"text-2xl font-bold text-[#001533] dark:text-white",children:e.value}),t.jsx("p",{className:"text-sm text-[#001533]/60 dark:text-white/60",children:e.label}),(0,t.jsxs)("div",{className:"mt-2 flex items-center text-[#1672d6] text-xs font-medium",children:["Ver detalhes ",t.jsx(C.Z,{className:"w-3 h-3 ml-1"})]})]})})})},a))}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsxs)(h.Zb,{className:"lg:col-span-2",children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(A.Z,{className:"w-5 h-5 text-purple-600"}),"Recomenda\xe7\xf5es de IA Priorizadas"]})}),t.jsx(h.aY,{className:"space-y-3",children:[{id:"1",priority:"high",title:"Aumentar pre\xe7o do pacote Premium",description:"An\xe1lise de mercado e satisfa\xe7\xe3o dos clientes indica que h\xe1 espa\xe7o para aumento de 15% sem impacto no churn.",impact:"+R$ 12.500/m\xeas",category:"Receita"},{id:"2",priority:"high",title:"Contratar Social Media J\xfanior",description:"Equipe de Social Media est\xe1 com carga de 95%. Nova contrata\xe7\xe3o pode aumentar capacidade em 30%.",impact:"+10 clientes potenciais",category:"Recursos Humanos"},{id:"3",priority:"medium",title:"Implementar upsell para Cliente B",description:"Cliente B tem crescimento de 45% em engajamento. Momento ideal para oferecer servi\xe7os adicionais.",impact:"+R$ 3.200/m\xeas",category:"Vendas"},{id:"4",priority:"medium",title:"Reuni\xe3o 1-on-1 com Maria Santos",description:"Performance excelente (110% das metas). Momento para discutir promo\xe7\xe3o e evitar perda de talento.",impact:"Reten\xe7\xe3o de talento",category:"Gest\xe3o de Pessoas"},{id:"5",priority:"low",title:"Automatizar relat\xf3rios mensais",description:"Equipe gasta 8h/m\xeas em relat\xf3rios manuais. Automa\xe7\xe3o pode economizar 80% desse tempo.",impact:"6.4h economizadas/m\xeas",category:"Efici\xeancia Operacional"}].map(e=>t.jsx("div",{className:`p-4 rounded-lg border-l-4 ${ar(e.priority)} transition-all hover:shadow-md`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),t.jsx(p.C,{variant:"outline",className:"text-xs",children:e.category})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["Impacto: ",e.impact]}),t.jsx("span",{className:"text-gray-500",children:"â€¢"}),(0,t.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:["high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"," Prioridade"]})]})]}),X.includes(e.id)?(0,t.jsxs)(p.C,{className:"ml-4 bg-emerald-600",children:[t.jsx(Z.Z,{className:"w-3 h-3 mr-1"}),"Executado"]}):(0,t.jsxs)(u.z,{size:"sm",className:"ml-4 bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>e9(e),children:[t.jsx(S.Z,{className:"w-4 h-4 mr-1"}),"Executar"]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(Q,{}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(v.Z,{className:"w-5 h-5 text-red-600"}),"Alertas Cr\xedticos"]})}),t.jsx(h.aY,{className:"space-y-3",children:aa.map(e=>t.jsx("div",{className:`p-3 rounded-lg ${"critical"===e.type?"bg-red-50 dark:bg-red-900/10 border border-red-200":"warning"===e.type?"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200":"bg-blue-50 dark:bg-blue-900/10 border border-blue-200"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[at(e.type),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h5",{className:"font-medium text-sm text-gray-900 dark:text-white mb-1",children:e.title}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description}),e.actionable&&t.jsx(u.z,{variant:"ghost",size:"sm",className:"p-0 h-auto mt-1 text-xs",onClick:()=>{e.link&&(window.location.href=e.link)},disabled:!e.link,children:"Ver detalhes â†’"})]})]})},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(P,{className:"w-5 h-5 text-blue-600"}),"Evolu\xe7\xe3o Financeira"]})}),t.jsx(h.aY,{children:t.jsx(el.h,{width:"100%",height:300,children:(0,t.jsxs)(en.w,{data:[{month:"Jul",receita:245e3,despesas:18e4,lucro:65e3},{month:"Ago",receita:258e3,despesas:185e3,lucro:73e3},{month:"Set",receita:267e3,despesas:19e4,lucro:77e3},{month:"Out",receita:275e3,despesas:192e3,lucro:83e3},{month:"Nov",receita:287e3,despesas:195e3,lucro:92e3}],children:[t.jsx(eo.q,{strokeDasharray:"3 3"}),t.jsx(ec.K,{dataKey:"month"}),t.jsx(ed.B,{}),t.jsx(em.u,{}),t.jsx(ex.D,{}),t.jsx(eh.x,{type:"monotone",dataKey:"receita",stroke:"#10B981",strokeWidth:2,name:"Receita"}),t.jsx(eh.x,{type:"monotone",dataKey:"despesas",stroke:"#EF4444",strokeWidth:2,name:"Despesas"}),t.jsx(eh.x,{type:"monotone",dataKey:"lucro",stroke:"#3B82F6",strokeWidth:2,name:"Lucro"})]})})})]}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(y.Z,{className:"w-5 h-5 text-purple-600"}),"Ranking de Performance da Equipe"]})}),t.jsx(h.aY,{children:t.jsx(el.h,{width:"100%",height:300,children:(0,t.jsxs)(ep.v,{data:[{name:"Maria Santos",score:110},{name:"Pedro Costa",score:105},{name:"Ana Lima",score:98},{name:"Carlos Souza",score:92},{name:"Julia Alves",score:88},{name:"Jo\xe3o Silva",score:65}],layout:"vertical",children:[t.jsx(eo.q,{strokeDasharray:"3 3"}),t.jsx(ec.K,{type:"number",domain:[0,120]}),t.jsx(ed.B,{dataKey:"name",type:"category",width:100}),t.jsx(em.u,{}),t.jsx(eu.$,{dataKey:"score",fill:"#3B82F6",name:"Performance Score"})]})})})]})]}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(O.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Distribui\xe7\xe3o de Receita por Departamento"]})}),t.jsx(h.aY,{children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(el.h,{width:"100%",height:300,children:(0,t.jsxs)(eg.u,{children:[t.jsx(ej.b,{data:as,cx:"50%",cy:"50%",labelLine:!1,label:e=>`${e.name} ${(100*(e.percent||0)).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:as.map((e,a)=>t.jsx(eb.b,{fill:e.color},`cell-${a}`))}),t.jsx(em.u,{})]})})})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-transparent",children:[t.jsx(h.Ol,{children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(A.Z,{className:"w-5 h-5 text-purple-600"}),"Insights de IA - Leads Qualificados",(0,t.jsxs)(p.C,{className:"bg-purple-500/10 text-purple-600 border border-purple-500/30 text-[10px]",children:[t.jsx(N.Z,{className:"w-2.5 h-2.5 mr-0.5"}),eX.length," Leads"]})]})})}),t.jsx(h.aY,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:eX.map(e=>(0,t.jsxs)(i.E.div,{whileHover:{y:-2},className:"p-4 rounded-xl border border-border bg-white dark:bg-[#0a0f1a] shadow-sm hover:shadow-md transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.position," @ ",e.company]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(p.C,{className:(0,ef.cn)("text-white text-[10px]",ad(e.status)),children:am(e.status)}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(_.Z,{className:"w-3 h-3 fill-current"}),e.score,"%"]})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.interest}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-4",children:[t.jsx(z.Z,{className:"w-3 h-3"}),"\xdaltimo contato: ",e.lastContact]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(u.z,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>ai(e),children:[t.jsx(M.Z,{className:"w-3 h-3 mr-1"}),"Ver"]}),(0,t.jsxs)(u.z,{size:"sm",variant:"outline",className:"flex-1 text-xs text-emerald-600 border-emerald-500/30 hover:bg-emerald-500/10",onClick:()=>al(e),children:[t.jsx($.Z,{className:"w-3 h-3 mr-1"}),"Ligar"]}),(0,t.jsxs)(u.z,{size:"sm",className:"flex-1 text-xs bg-purple-600 hover:bg-purple-700",onClick:()=>an(e),children:[t.jsx(R,{className:"w-3 h-3 mr-1"}),"Ver Roteiro"]})]})]},e.id))})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-[#1672d6]/20 overflow-hidden",children:[t.jsx(h.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(A.Z,{className:"w-5 h-5 text-[#1672d6]"}),"Insights Estrat\xe9gicos em 3D",(0,t.jsxs)(p.C,{className:"bg-[#1672d6]/10 text-[#1672d6] border-[#1672d6]/30 text-[10px]",children:[t.jsx(N.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Preditivo"]})]}),(0,t.jsxs)(u.z,{variant:"outline",size:"sm",children:["Ver Todos",t.jsx(C.Z,{className:"w-4 h-4 ml-1"})]})]})}),(0,t.jsxs)(h.aY,{children:[t.jsx("div",{className:"h-[400px] w-full",children:t.jsx(ev.ZP,{items:[{id:1,title:"Crescimento de Receita +22%",description:"Proje\xe7\xe3o baseada em contratos ativos",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400",category:"Financeiro"},{id:2,title:"3 Clientes com Risco de Churn",description:"An\xe1lise comportamental detectou alertas",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400",category:"Reten\xe7\xe3o"},{id:3,title:"5 Oportunidades de Upsell",description:"Clientes com alto engajamento",image:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=400",category:"Vendas"},{id:4,title:"8 Leads Qualificados",description:"Prontos para convers\xe3o este m\xeas",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400",category:"Comercial"},{id:5,title:"Performance da Equipe +15%",description:"Melhoria cont\xednua nos indicadores",image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400",category:"RH"},{id:6,title:"ROI M\xe9dio das Campanhas",description:"Retorno de 340% nos \xfaltimos 3 meses",image:"https://images.unsplash.com/photo-1533750349088-cd871a92f312?w=400",category:"Marketing"}],onItemClick:e=>console.log("Clicked:",e),hideInstructions:!0})}),t.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Arraste para explorar os insights â€¢ Clique para ver detalhes"})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(n.default,{href:"/admin/analytics/preditivo",children:t.jsx(i.E.div,{whileHover:{y:-4},children:t.jsx(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-emerald-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2.5 rounded-xl bg-emerald-500/10",children:t.jsx(w.Z,{className:"w-5 h-5 text-emerald-500"})}),t.jsx("span",{className:"text-xs text-emerald-500 font-medium",children:"Previs\xe3o"})]}),t.jsx("h4",{className:"font-bold text-lg mb-1",children:"+22% Receita"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Proje\xe7\xe3o para pr\xf3ximo trimestre baseada em contratos ativos"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-emerald-500 text-xs font-medium",children:["Ver an\xe1lise ",t.jsx(C.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),t.jsx(n.default,{href:"/admin/clientes?filter=churn_risk",children:t.jsx(i.E.div,{whileHover:{y:-4},children:t.jsx(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-amber-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2.5 rounded-xl bg-amber-500/10",children:t.jsx(v.Z,{className:"w-5 h-5 text-amber-500"})}),t.jsx("span",{className:"text-xs text-amber-500 font-medium",children:"Alerta IA"})]}),t.jsx("h4",{className:"font-bold text-lg mb-1",children:"3 Clientes Risco"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Probabilidade de churn detectada pela an\xe1lise comportamental"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-amber-500 text-xs font-medium",children:["Ver clientes ",t.jsx(C.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),t.jsx(n.default,{href:"/admin/clientes?filter=upsell",children:t.jsx(i.E.div,{whileHover:{y:-4},children:t.jsx(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-purple-500/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10",children:t.jsx(j.Z,{className:"w-5 h-5 text-purple-500"})}),t.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Oportunidade"})]}),t.jsx("h4",{className:"font-bold text-lg mb-1",children:"5 Upsells"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes com alto engajamento prontos para upgrade"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-purple-500 text-xs font-medium",children:["Ver oportunidades ",t.jsx(C.Z,{className:"w-3 h-3 ml-1"})]})]})})})}),t.jsx(n.default,{href:"/admin/comercial/leads",children:t.jsx(i.E.div,{whileHover:{y:-4},children:t.jsx(h.Zb,{className:"cursor-pointer border-2 border-transparent hover:border-[#1672d6]/30 hover:shadow-lg transition-all h-full",children:(0,t.jsxs)(h.aY,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2.5 rounded-xl bg-[#1672d6]/10",children:t.jsx(b.Z,{className:"w-5 h-5 text-[#1672d6]"})}),t.jsx("span",{className:"text-xs text-[#1672d6] font-medium",children:"SQL"})]}),t.jsx("h4",{className:"font-bold text-lg mb-1",children:"8 Leads Quentes"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Leads qualificados prontos para convers\xe3o este m\xeas"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center text-[#1672d6] text-xs font-medium",children:["Ver leads ",t.jsx(C.Z,{className:"w-3 h-3 ml-1"})]})]})})})})]}),(0,t.jsxs)(h.Zb,{className:"border-2 border-[#1672d6]/20 bg-gradient-to-br from-[#1672d6]/5 to-transparent",children:[t.jsx(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"w-5 h-5 text-[#1672d6]"}),"A\xe7\xf5es R\xe1pidas com IA"]})}),t.jsx(h.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e8("cobrar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-[#1672d6]/30 transition-all text-left",children:[t.jsx(T.Z,{className:"w-6 h-6 text-[#1672d6] mb-2"}),t.jsx("p",{className:"font-semibold text-sm",children:"Cobrar Clientes"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3 em atraso"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e8("elogiar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-emerald-500/30 transition-all text-left",children:[t.jsx(D.Z,{className:"w-6 h-6 text-emerald-500 mb-2"}),t.jsx("p",{className:"font-semibold text-sm",children:"Elogiar Equipe"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"5 destaques"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e8("agendar"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-purple-500/30 transition-all text-left",children:[t.jsx(q.Z,{className:"w-6 h-6 text-purple-500 mb-2"}),t.jsx("p",{className:"font-semibold text-sm",children:"Agendar Reuni\xf5es"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4 pendentes"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e8("relatorio"),className:"p-4 rounded-xl border-2 border-[#001533]/10 bg-white dark:bg-[#001533]/50 hover:border-primary/30 transition-all text-left",children:[t.jsx(L.Z,{className:"w-6 h-6 text-primary mb-2"}),t.jsx("p",{className:"font-semibold text-sm",children:"Gerar Relat\xf3rio"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensal"})]})]})})]}),t.jsx(l.M,{children:s&&W&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!J&&E(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-3 rounded-xl bg-[#1672d6]/10",children:t.jsx(S.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Confirmar Execu\xe7\xe3o"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta a\xe7\xe3o ser\xe1 executada automaticamente"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 mb-4",children:[t.jsx("h3",{className:"font-semibold text-foreground mb-1",children:W.title}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:W.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(p.C,{className:"bg-emerald-500/10 text-emerald-600 border border-emerald-500/30",children:["Impacto: ",W.impact]}),t.jsx(p.C,{variant:"outline",children:W.category})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ao confirmar, a IA ir\xe1 executar as a\xe7\xf5es necess\xe1rias automaticamente."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(u.z,{variant:"outline",className:"flex-1",onClick:()=>E(!1),disabled:J,children:"Cancelar"}),t.jsx(u.z,{className:"flex-1 bg-[#1672d6] hover:bg-[#1260b5]",onClick:e7,disabled:J,children:J?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Executando..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(Z.Z,{className:"w-4 h-4 mr-2"}),"Confirmar Execu\xe7\xe3o"]})})]})]})]})})}),t.jsx(l.M,{children:ey&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!eC&&eN(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border",children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Exportar Relat\xf3rio"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha o formato do arquivo"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e4("pdf"),disabled:eC,className:"p-6 rounded-xl border-2 border-red-500/30 bg-red-500/5 hover:bg-red-500/10 transition-all text-center",children:[t.jsx(o.Z,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),t.jsx("p",{className:"font-semibold text-red-600",children:"PDF"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Relat\xf3rio formatado"})]}),(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e4("excel"),disabled:eC,className:"p-6 rounded-xl border-2 border-emerald-500/30 bg-emerald-500/5 hover:bg-emerald-500/10 transition-all text-center",children:[t.jsx(c.Z,{className:"w-8 h-8 text-emerald-500 mx-auto mb-2"}),t.jsx("p",{className:"font-semibold text-emerald-600",children:"Excel"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Planilha edit\xe1vel"})]})]}),eC&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[#1672d6]",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-[#1672d6]/30 border-t-[#1672d6] rounded-full animate-spin"}),(0,t.jsxs)("span",{className:"text-sm",children:["Gerando ",ew.toUpperCase(),"..."]})]}),t.jsx(u.z,{variant:"outline",className:"w-full mt-4",onClick:()=>eN(!1),disabled:eC,children:"Cancelar"})]})]})})}),t.jsx(l.M,{children:eT&&eq&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eD(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl",children:[t.jsx("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:eq.name.charAt(0)}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:eq.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:eq.position})]})]}),t.jsx(u.z,{variant:"ghost",size:"icon",onClick:()=>eD(!1),children:t.jsx(I.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[t.jsx(V.Z,{className:"w-3 h-3"}),"Empresa"]}),t.jsx("p",{className:"font-medium text-foreground",children:eq.company})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[t.jsx(_.Z,{className:"w-3 h-3"}),"Score"]}),(0,t.jsxs)("p",{className:"font-medium text-foreground",children:[eq.score,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[t.jsx(F.Z,{className:"w-3 h-3"}),"Telefone"]}),t.jsx("p",{className:"font-medium text-foreground",children:eq.phone})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[t.jsx(T.Z,{className:"w-3 h-3"}),"Email"]}),t.jsx("p",{className:"font-medium text-foreground",children:eq.email})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-purple-600 mb-1",children:[t.jsx(A.Z,{className:"w-3 h-3"}),"Interesse Detectado pela IA"]}),t.jsx("p",{className:"font-medium text-foreground",children:eq.interest})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsxs)(u.z,{variant:"outline",className:"flex-1",onClick:()=>{eD(!1),al(eq)},children:[t.jsx($.Z,{className:"w-4 h-4 mr-2"}),"Ligar"]}),(0,t.jsxs)(u.z,{className:"flex-1 bg-purple-600 hover:bg-purple-700",onClick:()=>{eD(!1),an(eq)},children:[t.jsx(R,{className:"w-4 h-4 mr-2"}),"Ver Roteiro"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(u.z,{variant:"outline",className:"flex-1",onClick:()=>ao(eq),disabled:eK,title:"Abrir email via mailto",children:[t.jsx(T.Z,{className:"w-4 h-4 mr-2"}),"Enviar Email"]}),(0,t.jsxs)(u.z,{variant:"outline",className:"flex-1",onClick:()=>ac(eq),disabled:eK||!eG.whatsapp.configured,title:eG.whatsapp.configured?"":"WhatsApp n\xe3o configurado (WHATSAPP_PHONE_NUMBER_ID / WHATSAPP_ACCESS_TOKEN)",children:[t.jsx(H.Z,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]})]})})}),t.jsx(l.M,{children:eF&&eq&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>!eB&&eH(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:t.jsx($.Z,{className:"w-6 h-6 text-emerald-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Agendar Liga\xe7\xe3o"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Para ",eq.name]})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:eq.name.charAt(0)}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-foreground",children:eq.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:eq.phone})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:eq.company})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Escolha a data e hor\xe1rio"}),t.jsx("input",{type:"datetime-local",value:eY,onChange:e=>eW(e.target.value),className:"w-full p-3 rounded-xl border border-border bg-background text-foreground"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[t.jsx(A.Z,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Dica da IA:"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Melhores hor\xe1rios para ",eq.name,": 10h-12h ou 14h-16h"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(u.z,{variant:"outline",className:"flex-1",onClick:()=>eH(!1),disabled:eB,children:"Cancelar"}),t.jsx(u.z,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",onClick:()=>{if(!eY){m.Am.error("Selecione um hor\xe1rio para a liga\xe7\xe3o");return}eU(!0),setTimeout(()=>{eH(!1),eR({title:"\uD83D\uDCDE Liga\xe7\xe3o Agendada!",message:`Liga\xe7\xe3o para ${eq?.name} agendada com sucesso.`,actions:[`ðŸ“… Data: ${eY}`,`ðŸ“± Telefone: ${eq?.phone}`,`ðŸ¢ Empresa: ${eq?.company}`,"â° Lembrete ser\xe1 enviado 15 min antes"]}),eM(!0)},1500)},disabled:eB,children:eB?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Agendando..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(q.Z,{className:"w-4 h-4 mr-2"}),"Agendar Liga\xe7\xe3o"]})})]}),(0,t.jsxs)(u.z,{variant:"ghost",className:"w-full text-emerald-600",onClick:()=>window.open(`tel:${eq.phone}`),children:[t.jsx(F.Z,{className:"w-4 h-4 mr-2"}),"Ligar Agora"]})]})]})})}),t.jsx(l.M,{children:eI&&eq&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eV(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl max-h-[85vh] overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-500/20 to-indigo-500/20",children:t.jsx(R,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Roteiro de Abordagem"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Gerado pela IA para ",eq.name]})]})]}),t.jsx(u.z,{variant:"ghost",size:"icon",onClick:()=>eV(!1),children:t.jsx(I.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 overflow-auto max-h-[50vh]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsxs)(p.C,{className:(0,ef.cn)("text-white",ad(eq.status)),children:["Lead ",am(eq.status)]}),(0,t.jsxs)(p.C,{variant:"outline",children:["Score: ",eq.score,"%"]}),(0,t.jsxs)(p.C,{className:"bg-purple-500/10 text-purple-600 border border-purple-500/30",children:[t.jsx(N.Z,{className:"w-3 h-3 mr-1"}),"IA Personalizado"]})]}),t.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/5 to-indigo-500/5 border border-purple-500/20",children:t.jsx("p",{className:"text-foreground whitespace-pre-line leading-relaxed",children:eq.script})}),(0,t.jsxs)("div",{className:"mt-4 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-amber-600 mb-1",children:[t.jsx(v.Z,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Pontos de Aten\xe7\xe3o:"})]}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6 list-disc",children:[(0,t.jsxs)("li",{children:["Foque nos benef\xedcios espec\xedficos para ",eq.company]}),t.jsx("li",{children:"Mencione cases de sucesso do mesmo segmento"}),t.jsx("li",{children:"Prepare-se para obje\xe7\xf5es de pre\xe7o"})]})]})]}),t.jsx("div",{className:"p-6 border-t border-border bg-muted/30",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(u.z,{variant:"outline",className:"flex-1",onClick:()=>{eq&&(navigator.clipboard.writeText(eq.script),m.Am.success("Roteiro copiado para a \xe1rea de transfer\xeancia!"))},children:[t.jsx(B.Z,{className:"w-4 h-4 mr-2"}),"Copiar Roteiro"]}),(0,t.jsxs)(u.z,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",onClick:()=>{eV(!1),al(eq)},children:[t.jsx($.Z,{className:"w-4 h-4 mr-2"}),"Ligar Agora"]})]})})]})})}),t.jsx(l.M,{children:ez&&e$&&t.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>eM(!1),children:(0,t.jsxs)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-[#0a0f1a] rounded-2xl w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto",children:[t.jsx("div",{className:"p-6 border-b border-border sticky top-0 bg-white dark:bg-[#0a0f1a]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-[#1672d6]/20 to-purple-500/20",children:t.jsx(N.Z,{className:"w-6 h-6 text-[#1672d6]"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-foreground",children:e$.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerado pela IA"})]})]}),t.jsx(u.z,{variant:"ghost",size:"icon",onClick:()=>eM(!1),children:t.jsx(I.Z,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[t.jsx("p",{className:"text-muted-foreground",children:e$.message}),e$.link&&t.jsx("div",{className:"flex",children:(0,t.jsxs)(u.z,{className:"bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>window.open(String(e$.link),"_blank"),children:[t.jsx(U.Z,{className:"w-4 h-4 mr-2"}),"Abrir no Kanban"]})}),e$.insights&&e$.insights.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:"Insights Encontrados:"}),e$.insights.map((e,a)=>t.jsx("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(p.C,{className:(0,ef.cn)("shrink-0","critical"===e.priority||"high"===e.priority?"bg-red-500/10 text-red-600":"medium"===e.priority?"bg-yellow-500/10 text-yellow-600":"bg-green-500/10 text-green-600"),children:e.priority}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-foreground",children:e.title}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-[#1672d6] mt-2",children:["\uD83D\uDCA1 ",e.action]})]})]})},a))]}),e$.email&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[(0,t.jsxs)("p",{className:"font-medium text-foreground mb-2",children:["Assunto: ",e$.email.subject]}),t.jsx("div",{className:"text-sm text-muted-foreground prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e$.email.body}})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(u.z,{className:"flex-1 bg-[#1672d6]",children:[t.jsx(Y.Z,{className:"w-4 h-4 mr-2"}),"Enviar Email"]}),t.jsx(u.z,{variant:"outline",className:"flex-1",children:"Copiar"})]})]}),e$.actions&&(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:"A\xe7\xf5es Preparadas:"}),e$.actions.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[t.jsx(Z.Z,{className:"w-5 h-5 text-emerald-500"}),t.jsx("span",{className:"text-sm text-foreground",children:e})]},a))]}),e$.report&&t.jsx("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:t.jsx("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap overflow-auto max-h-60",children:JSON.stringify(e$.report,null,2)})}),t.jsx(u.z,{className:"w-full bg-[#1672d6] hover:bg-[#1260b5]",onClick:()=>eM(!1),children:"Fechar"})]})]})})})]})]})}},29752:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>n,SZ:()=>c,Zb:()=>l,aY:()=>d,ll:()=>o});var t=s(10326),r=s(17577),i=s(51223);let l=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-xl border-2 border-valle-silver-200 bg-white shadow-md",e),...a}));l.displayName="Card";let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight text-lg",e),...a}));o.displayName="CardTitle";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-foreground/70",e),...a}));c.displayName="CardDescription";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},83379:(e,a,s)=>{"use strict";s.d(a,{l:()=>i});var t=s(17577),r=s(2777);function i(){let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),l=async e=>{try{return await e.json()}catch{return null}},n=async()=>{try{let{data:e}=await r.O.auth.getSession(),a=e.session?.access_token;return a?{Authorization:`Bearer ${a}`}:{}}catch{return{}}},o=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:e,data:s})}),r=await l(t);if(!t.ok){let e=r?.details?` (${r.details})`:"";throw Error((r?.error||`Erro ao gerar insights [${t.status}]`)+e)}return r?.data||[]}catch(e){throw i(e.message),e}finally{a(!1)}},[]),c=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:"client_health",data:{clientId:e,...s}})}),r=await l(t);if(!t.ok){let e=r?.details?` (${r.details})`:"";throw Error((r?.error||`Erro ao analisar cliente [${t.status}]`)+e)}return r?.data}catch(e){throw i(e.message),e}finally{a(!1)}},[]),d=(0,t.useCallback)(async e=>{a(!0),i(null);try{let a=await n(),s=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:"financial_forecast",data:e})}),t=await l(s);if(!s.ok){let e=t?.details?` (${t.details})`:"";throw Error((t?.error||`Erro ao gerar previs\xe3o [${s.status}]`)+e)}return t?.data}catch(e){throw i(e.message),e}finally{a(!1)}},[]),m=(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({type:e,params:s})}),r=await l(t);if(!t.ok){let e=r?.details?` (${r.details})`:"";throw Error((r?.error||`Erro ao gerar conte\xfado [${t.status}]`)+e)}return r?.content}catch(e){throw i(e.message),e}finally{a(!1)}},[]),x=(0,t.useCallback)(async e=>{let a=await m("email",e);return{subject:a.subject||a.title||"",body:a.body||a.content||""}},[m]),h=(0,t.useCallback)(async e=>m("social",e),[m]),p=(0,t.useCallback)(async e=>m("job",e),[m]),u=(0,t.useCallback)(async e=>m("report",e),[m]);return{isLoading:e,error:s,generateInsights:o,analyzeClient:c,getForecast:d,generateContent:m,generateEmail:x,generateSocialPost:h,generateJobDescription:p,generateReport:u,askVal:(0,t.useCallback)(async(e,s)=>{a(!0),i(null);try{let a=await n(),t=await fetch("/api/ai/val",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({message:e,context:s})}),r=await l(t);if(!t.ok){let e=r?.details?` (${r.details})`:"";throw Error((r?.error||`Erro ao processar mensagem [${t.status}]`)+e)}return r?.response}catch(e){throw i(e.message),e}finally{a(!1)}},[]),analyzeText:(0,t.useCallback)(async e=>{a(!0),i(null);try{let a=await n(),s=await fetch("/api/sentiment/analyze",{method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({text:e})}),t=await l(s);if(!s.ok){let e=t?.details?` (${t.details})`:"";throw Error((t?.error||`Erro ao analisar texto [${s.status}]`)+e)}return t}catch(e){throw i(e.message),e}finally{a(!1)}},[])}}},10937:(e,a,s)=>{"use strict";async function t(e,a){try{await fetch("/api/telemetry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,level:a?.level||"info",message:a?.message,data:a?.data,path:a?.path,requestId:a?.requestId,ts:new Date().toISOString()})})}catch{}}s.d(a,{L:()=>t})},72611:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\User\Downloads\valle-360-main\valle-360-main\src\app\admin\centro-inteligencia\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[89276,54267,51789,78515,46226,28870,39215,16819,72418,86148,61288,36499,59813,792,779,65493,47936,40496,97528,18832,14574,92237,82796],()=>s(47135));module.exports=t})();