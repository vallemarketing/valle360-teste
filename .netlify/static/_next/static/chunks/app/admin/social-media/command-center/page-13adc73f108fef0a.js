(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5496],{9603:function(e,r,a){Promise.resolve().then(a.bind(a,19317))},96215:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},92451:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10407:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},78867:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},99397:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},44743:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},98728:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},58896:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},95805:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},62883:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},11239:function(e,r,a){"use strict";a.d(r,{Z:function(){return s}});let s=(0,a(79205).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},19317:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return M}});var s=a(57437),t=a(2265),o=a(26892),l=a(14438),i=a(51817),c=a(11239),n=a(82431),d=a(99397),m=a(82023),x=a(96215),p=a(98728),u=a(31047),y=a(57586),v=a(48736),h=a(95805),b=a(2207),g=a(44743),j=a(30401),f=a(49322),N=a(62883),C=a(78867),k=a(41217),w=a(58896),Z=a(53113),A=a(92451),E=a(10407);let S=[{id:"briefing",label:"Briefing",icon:v.Z},{id:"generation",label:"Gera\xe7\xe3o IA",icon:m.Z},{id:"review",label:"Review IA",icon:h.Z},{id:"editing",label:"Edi\xe7\xe3o",icon:b.Z},{id:"approval",label:"Aprova\xe7\xe3o",icon:g.Z}],D=[{value:"instagram_post",label:"Post Instagram",icon:"\uD83D\uDCF8"},{value:"linkedin_post",label:"Post LinkedIn",icon:"\uD83D\uDCBC"},{value:"carousel",label:"Carrossel",icon:"\uD83C\uDFA0"},{value:"reels",label:"Reels",icon:"\uD83C\uDFAC"},{value:"youtube_video",label:"V\xeddeo YouTube",icon:"▶️"},{value:"meta_ads_campaign",label:"Campanha Meta Ads",icon:"\uD83D\uDCE2"},{value:"full_campaign",label:"Campanha Completa",icon:"\uD83D\uDE80"}];function P(e){let{clients:r,connectedNetworks:a=[],onComplete:c}=e,[n,d]=(0,t.useState)("briefing"),[x,p]=(0,t.useState)(!1),[u,v]=(0,t.useState)(null),[b,P]=(0,t.useState)(""),[M,F]=(0,t.useState)("instagram_post"),[I,_]=(0,t.useState)(""),[T,G]=(0,t.useState)(""),[z,O]=(0,t.useState)(""),[q,H]=(0,t.useState)(null),[V,R]=(0,t.useState)([]),[B,L]=(0,t.useState)(null),[J,W]=(0,t.useState)(""),[X,Q]=(0,t.useState)(""),[U,Y]=(0,t.useState)(""),[K,$]=(0,t.useState)([]),[ee,er]=(0,t.useState)(""),[ea,es]=(0,t.useState)(!1),et=S.findIndex(e=>e.id===n),eo=(0,t.useCallback)(()=>{switch(n){case"briefing":return b&&I.trim().length>10;case"generation":return null!==q;case"review":return null!==B;case"editing":return J.trim().length>0;case"approval":return K.length>0&&(ea||ee);default:return!1}},[n,b,I,q,B,J,K,ea,ee]),el=()=>{et<S.length-1&&d(S[et+1].id)},ei=async()=>{p(!0),v(null),R([]);try{var e,r,a,s;R(e=>[...e,"\uD83D\uDD0D Analisando demanda..."]),await new Promise(e=>setTimeout(e,500)),R(e=>[...e,"\uD83D\uDCDA Carregando mem\xf3ria da marca..."]),await new Promise(e=>setTimeout(e,500)),R(e=>[...e,"\uD83E\uDD16 Montando equipe de agentes..."]);let t=await fetch("/api/admin/agency/orchestrate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:b,demand_type:M,topic:I,objective:T,additional_context:z,use_focus_group:!1})}),o=await t.json();if(!t.ok)throw Error(o.error||"Falha na gera\xe7\xe3o");R(e=>[...e,"✨ Conte\xfado gerado com sucesso!"]),H(o.outputs),W((null===(e=o.outputs)||void 0===e?void 0:e.copy)||""),Q((null===(a=o.outputs)||void 0===a?void 0:null===(r=a.hashtags)||void 0===r?void 0:r.join(" "))||""),Y((null===(s=o.outputs)||void 0===s?void 0:s.cta)||""),await new Promise(e=>setTimeout(e,500)),el()}catch(e){v(e.message||"Erro ao gerar conte\xfado"),l.Am.error(e.message||"Erro ao gerar conte\xfado")}finally{p(!1)}},ec=async()=>{p(!0),v(null);try{let e=await fetch("/api/admin/agency/focus-group",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:b,content:{copy:J,hashtags:X.split(/\s+/).filter(Boolean),cta:U,visualPrompt:null==q?void 0:q.visualPrompt}})}),r=await e.json();if(!e.ok)throw Error(r.error||"Falha no focus group");L({averageScore:r.averageScore,passed:r.passed,evaluations:r.evaluations||[]}),el()}catch(e){v(e.message||"Erro no focus group"),l.Am.error(e.message||"Erro no focus group")}finally{p(!1)}},en=async()=>{p(!0),v(null);try{await c({clientId:b,content:{copy:J,hashtags:X.split(/\s+/).filter(Boolean),cta:U,strategy:null==q?void 0:q.strategy,visualPrompt:null==q?void 0:q.visualPrompt},selectedNetworks:K,scheduledAt:ea?void 0:ee}),l.Am.success("Post enviado para aprova\xe7\xe3o!")}catch(e){v(e.message||"Erro ao enviar"),l.Am.error(e.message||"Erro ao enviar")}finally{p(!1)}};return(0,s.jsxs)("div",{className:"min-h-[600px]",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:S.map((e,r)=>{let a=e.icon,l=e.id===n,i=r<et;return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(o.E.div,{initial:!1,animate:{scale:l?1.1:1,backgroundColor:i?"var(--success-500)":l?"var(--primary-500)":"var(--neutral-200)"},className:"w-12 h-12 rounded-full flex items-center justify-center transition-colors",children:i?(0,s.jsx)(j.Z,{className:"w-5 h-5 text-white"}):(0,s.jsx)(a,{className:"w-5 h-5",style:{color:l?"white":"var(--text-tertiary)"}})}),(0,s.jsx)("span",{className:"mt-2 text-xs font-medium",style:{color:l?"var(--primary-600)":"var(--text-tertiary)"},children:e.label})]}),r<S.length-1&&(0,s.jsx)("div",{className:"flex-1 h-1 mx-2 rounded",style:{backgroundColor:r<et?"var(--success-500)":"var(--neutral-200)"}})]},e.id)})})}),u&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl border flex items-center gap-3",style:{backgroundColor:"var(--error-50)",borderColor:"var(--error-200)"},children:[(0,s.jsx)(f.Z,{className:"w-5 h-5",style:{color:"var(--error-500)"}}),(0,s.jsx)("span",{style:{color:"var(--error-700)"},children:u})]}),(0,s.jsx)(y.M,{mode:"wait",children:(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:["briefing"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Briefing do Conte\xfado"}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Defina as informa\xe7\xf5es b\xe1sicas para a IA gerar seu conte\xfado."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Cliente *"}),(0,s.jsxs)("select",{value:b,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:[(0,s.jsx)("option",{value:"",children:"Selecione um cliente"}),r.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Tipo de Conte\xfado *"}),(0,s.jsx)("select",{value:M,onChange:e=>F(e.target.value),className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},children:D.map(e=>(0,s.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"T\xf3pico / Tema *"}),(0,s.jsx)("input",{type:"text",value:I,onChange:e=>_(e.target.value),placeholder:"Ex: Lan\xe7amento do novo produto X, Dica de produtividade...",className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"M\xednimo 10 caracteres"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Objetivo (opcional)"}),(0,s.jsx)("input",{type:"text",value:T,onChange:e=>G(e.target.value),placeholder:"Ex: Aumentar engajamento, Gerar leads, Educar audi\xeancia...",className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Contexto Adicional (opcional)"}),(0,s.jsx)("textarea",{value:z,onChange:e=>O(e.target.value),placeholder:"Informa\xe7\xf5es extras que podem ajudar a IA...",rows:3,className:"w-full px-4 py-3 rounded-xl border text-sm resize-none",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]}),"generation"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Gera\xe7\xe3o com IA"}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Nossa equipe de agentes IA est\xe1 trabalhando no seu conte\xfado."})]}),x?(0,s.jsxs)("div",{className:"p-8 rounded-2xl border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)(o.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,s.jsx)(N.Z,{className:"w-12 h-12",style:{color:"var(--primary-500)"}})}),(0,s.jsx)("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Gerando conte\xfado..."})]}),(0,s.jsx)("div",{className:"mt-6 space-y-2",children:V.map((e,r)=>(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[(0,s.jsx)(j.Z,{className:"w-4 h-4",style:{color:"var(--success-500)"}}),e]},r))})]}):q?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--success-50)",borderColor:"var(--success-200)"},children:(0,s.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--success-700)"},children:"✅ Conte\xfado gerado com sucesso! Avance para o review."})}),q.copy&&(0,s.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(C.Z,{className:"w-4 h-4",style:{color:"var(--primary-500)"}}),(0,s.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Copy gerada"})]}),(0,s.jsxs)("p",{className:"text-sm whitespace-pre-wrap",style:{color:"var(--text-secondary)"},children:[q.copy.substring(0,300),q.copy.length>300&&"..."]})]})]}):(0,s.jsxs)("div",{className:"p-8 rounded-2xl border text-center",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(m.Z,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--primary-300)"}}),(0,s.jsx)("p",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Pronto para gerar?"}),(0,s.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:'Clique em "Gerar Conte\xfado" para iniciar a cria\xe7\xe3o com IA.'}),(0,s.jsxs)("button",{onClick:ei,disabled:x,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white",style:{backgroundColor:"var(--primary-500)"},children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),"Gerar Conte\xfado"]})]})]}),"review"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Review por Focus Group IA"}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"3 personas virtuais avaliam seu conte\xfado antes de publicar."})]}),x?(0,s.jsxs)("div",{className:"p-8 rounded-2xl border text-center",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(i.Z,{className:"w-12 h-12 mx-auto mb-4 animate-spin",style:{color:"var(--primary-500)"}}),(0,s.jsx)("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Avaliando com Focus Group..."})]}):B?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:B.passed?"var(--success-50)":"var(--warning-50)",borderColor:B.passed?"var(--success-200)":"var(--warning-200)"},children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:[B.averageScore.toFixed(1),"/10"]}),(0,s.jsx)("span",{className:"text-sm",style:{color:B.passed?"var(--success-700)":"var(--warning-700)"},children:B.passed?"Aprovado!":"Precisa de ajustes"})]})}),B.evaluations.map((e,r)=>(0,s.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.personaName}),(0,s.jsxs)("span",{className:"text-sm font-bold",style:{color:e.score>=7?"var(--success-600)":e.score>=5?"var(--warning-600)":"var(--error-600)"},children:[e.score,"/10"]})]}),e.suggestions.length>0&&(0,s.jsx)("ul",{className:"text-sm list-disc pl-4",style:{color:"var(--text-secondary)"},children:e.suggestions.slice(0,2).map((e,r)=>(0,s.jsx)("li",{children:e},r))})]},r))]}):(0,s.jsxs)("div",{className:"p-8 rounded-2xl border text-center",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(h.Z,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--primary-300)"}}),(0,s.jsx)("p",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Validar com Focus Group?"}),(0,s.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"3 personas virtuais avaliar\xe3o seu conte\xfado."}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsxs)("button",{onClick:ec,disabled:x,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white",style:{backgroundColor:"var(--primary-500)"},children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),"Executar Focus Group"]}),(0,s.jsx)("button",{onClick:()=>{L({averageScore:0,passed:!0,evaluations:[]}),el()},className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:"Pular"})]})]})]}),"editing"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Edi\xe7\xe3o Final"}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Fa\xe7a os ajustes finais no conte\xfado antes de enviar para aprova\xe7\xe3o."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[(0,s.jsx)(C.Z,{className:"w-4 h-4"}),"Legenda / Copy"]}),(0,s.jsx)("textarea",{value:J,onChange:e=>W(e.target.value),rows:6,className:"w-full px-4 py-3 rounded-xl border text-sm resize-none",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}}),(0,s.jsx)("div",{className:"flex justify-end mt-1",children:(0,s.jsxs)("span",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:[J.length," caracteres"]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[(0,s.jsx)(k.Z,{className:"w-4 h-4"}),"Hashtags"]}),(0,s.jsx)("input",{type:"text",value:X,onChange:e=>Q(e.target.value),placeholder:"#marketing #socialmedia #dica",className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),"Call-to-Action"]}),(0,s.jsx)("input",{type:"text",value:U,onChange:e=>Y(e.target.value),placeholder:"Ex: Comente abaixo sua opini\xe3o!",className:"w-full px-4 py-3 rounded-xl border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]}),(null==q?void 0:q.visualPrompt)&&(0,s.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4",style:{color:"var(--primary-500)"}}),(0,s.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Prompt Visual (para Design)"})]}),(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:q.visualPrompt})]})]}),"approval"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Enviar para Aprova\xe7\xe3o"}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Selecione as redes e defina quando publicar."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Redes Sociais *"}),a.length>0?(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.map(e=>{let r=K.includes(e.platform);return(0,s.jsxs)("button",{onClick:()=>{$(a=>r?a.filter(r=>r!==e.platform):[...a,e.platform])},className:"p-4 rounded-xl border text-left transition-all",style:{backgroundColor:r?"var(--primary-50)":"var(--bg-secondary)",borderColor:r?"var(--primary-300)":"var(--border-light)"},children:[(0,s.jsx)("div",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:e.platform}),(0,s.jsx)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:e.accountName})]},e.platform)})}):(0,s.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--warning-50)",borderColor:"var(--warning-200)"},children:(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--warning-700)"},children:"⚠️ Nenhuma rede social conectada. O cliente precisa conectar suas redes primeiro."})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Quando publicar? *"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 rounded-xl border cursor-pointer",style:{backgroundColor:ea?"var(--primary-50)":"var(--bg-secondary)",borderColor:ea?"var(--primary-300)":"var(--border-light)"},children:[(0,s.jsx)("input",{type:"radio",checked:ea,onChange:()=>es(!0),className:"w-4 h-4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Publicar ap\xf3s aprova\xe7\xe3o"}),(0,s.jsx)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"O post ser\xe1 publicado assim que aprovado"})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 rounded-xl border cursor-pointer",style:{backgroundColor:ea?"var(--bg-secondary)":"var(--primary-50)",borderColor:ea?"var(--border-light)":"var(--primary-300)"},children:[(0,s.jsx)("input",{type:"radio",checked:!ea,onChange:()=>es(!1),className:"w-4 h-4"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Agendar para data espec\xedfica"}),!ea&&(0,s.jsx)("input",{type:"datetime-local",value:ee,onChange:e=>er(e.target.value),className:"mt-2 px-3 py-2 rounded-lg border text-sm w-full",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}})]})]})]})]})]})]},n)}),(0,s.jsxs)("div",{className:"mt-8 flex items-center justify-between pt-6 border-t",style:{borderColor:"var(--border-light)"},children:[(0,s.jsxs)("button",{onClick:()=>{et>0&&d(S[et-1].id)},disabled:0===et||x,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium border disabled:opacity-50",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:[(0,s.jsx)(A.Z,{className:"w-4 h-4"}),"Voltar"]}),"approval"===n?(0,s.jsx)("button",{onClick:en,disabled:!eo()||x,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white disabled:opacity-50",style:{backgroundColor:"var(--success-500)"},children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{className:"w-4 h-4"}),"Enviar para Aprova\xe7\xe3o"]})}):"generation"!==n||q?(0,s.jsxs)("button",{onClick:el,disabled:!eo()||x,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white disabled:opacity-50",style:{backgroundColor:"var(--primary-500)"},children:["Avan\xe7ar",(0,s.jsx)(E.Z,{className:"w-4 h-4"})]}):(0,s.jsx)("button",{onClick:ei,disabled:!eo()||x,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white disabled:opacity-50",style:{backgroundColor:"var(--primary-500)"},children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}),"Gerando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),"Gerar Conte\xfado"]})})]})]})}function M(){let[e,r]=(0,t.useState)(!0),[a,y]=(0,t.useState)([]),[v,h]=(0,t.useState)([]),[b,g]=(0,t.useState)(!1),[j,f]=(0,t.useState)({postsToday:0,postsWeek:0,pendingApproval:0,scheduled:0});(0,t.useEffect)(()=>{N()},[]);let N=async()=>{r(!0);try{let e=await fetch("/api/social/clients",{cache:"no-store"}),r=await e.json();e.ok&&y((r.clients||[]).map(e=>({id:e.id,name:e.name||"Cliente"}))),f({postsToday:3,postsWeek:18,pendingApproval:5,scheduled:12}),h([{platform:"instagram",accountName:"@exemplo"},{platform:"facebook",accountName:"P\xe1gina Exemplo"},{platform:"linkedin",accountName:"Empresa Exemplo"}])}catch(e){console.error("Erro ao carregar dados:",e),l.Am.error("Erro ao carregar dados")}finally{r(!1)}},C=async e=>{try{var r;let a=await fetch("/api/admin/agency/kanban-task-draft",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e.clientId,title:"Post - ".concat((null===(r=e.content.copy)||void 0===r?void 0:r.substring(0,50))||"Novo conte\xfado"),description:e.content.copy,metadata:{hashtags:e.content.hashtags,cta:e.content.cta,visualPrompt:e.content.visualPrompt,selectedNetworks:e.selectedNetworks,scheduledAt:e.scheduledAt},area:"Social Media",targetColumn:"aprovacao_interna"})});if(!a.ok){let e=await a.json();throw Error(e.error||"Falha ao criar draft")}l.Am.success("Post enviado para aprova\xe7\xe3o!"),g(!1),N()}catch(e){throw e}};return e?(0,s.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(i.Z,{className:"w-8 h-8 animate-spin",style:{color:"var(--primary-500)"}}),(0,s.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Carregando Command Center..."})]})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:"var(--primary-50)"},children:(0,s.jsx)(c.Z,{className:"w-7 h-7",style:{color:"var(--primary-500)"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Social Command Center"}),(0,s.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Crie conte\xfado com IA e gerencie suas redes sociais"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-secondary)"},children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),"Atualizar"]}),(0,s.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-white",style:{backgroundColor:"var(--primary-500)"},children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Criar Conte\xfado"]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Posts Hoje",value:j.postsToday,icon:m.Z,color:"var(--primary-500)"},{label:"Posts Semana",value:j.postsWeek,icon:x.Z,color:"var(--success-500)"},{label:"Aguardando Aprova\xe7\xe3o",value:j.pendingApproval,icon:p.Z,color:"var(--warning-500)"},{label:"Agendados",value:j.scheduled,icon:u.Z,color:"var(--info-500)"}].map(e=>{let r=e.icon;return(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-5",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:e.label}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",style:{color:"var(--text-primary)"},children:e.value})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"".concat(e.color,"15")},children:(0,s.jsx)(r,{className:"w-6 h-6",style:{color:e.color}})})]})},e.label)})}),b?(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-6",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Criar Novo Conte\xfado"}),(0,s.jsx)("button",{onClick:()=>g(!1),className:"text-sm px-3 py-1 rounded-lg",style:{color:"var(--text-tertiary)"},children:"Cancelar"})]}),(0,s.jsx)(P,{clients:a,connectedNetworks:v,onComplete:C})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border p-6",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"A\xe7\xf5es R\xe1pidas"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>g(!0),className:"p-4 rounded-xl border text-left hover:border-[var(--primary-300)] transition-colors",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 mb-2",style:{color:"var(--primary-500)"}}),(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Gerar com IA"}),(0,s.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Criar conte\xfado do zero"})]}),(0,s.jsxs)("a",{href:"/admin/social-media/approvals",className:"p-4 rounded-xl border text-left hover:border-[var(--primary-300)] transition-colors",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 mb-2",style:{color:"var(--primary-500)"}}),(0,s.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Aprova\xe7\xf5es",j.pendingApproval>0&&(0,s.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-yellow-500 text-white text-xs rounded-full",children:j.pendingApproval})]}),(0,s.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Revisar conte\xfados IA"})]}),(0,s.jsxs)("a",{href:"/admin/social-media/gestao",className:"p-4 rounded-xl border text-left hover:border-[var(--primary-300)] transition-colors",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 mb-2",style:{color:"var(--success-500)"}}),(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Calend\xe1rio"}),(0,s.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Ver posts agendados"})]}),(0,s.jsxs)("a",{href:"/admin/social-media/upload",className:"p-4 rounded-xl border text-left hover:border-[var(--primary-300)] transition-colors",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(d.Z,{className:"w-6 h-6 mb-2",style:{color:"var(--warning-500)"}}),(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Upload Manual"}),(0,s.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Agendar post existente"})]}),(0,s.jsxs)("a",{href:"/admin/relatorios",className:"p-4 rounded-xl border text-left hover:border-[var(--primary-300)] transition-colors",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)(x.Z,{className:"w-6 h-6 mb-2",style:{color:"var(--info-500)"}}),(0,s.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Relat\xf3rios"}),(0,s.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-tertiary)"},children:"Ver m\xe9tricas e insights"})]})]})]}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-2xl border p-6",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"Atividade Recente"}),(0,s.jsx)("div",{className:"space-y-3",children:[{text:'Post "Dicas de Marketing" aprovado',time:"H\xe1 5 min",type:"success"},{text:"Novo post gerado para Cliente X",time:"H\xe1 15 min",type:"info"},{text:"Post agendado para amanh\xe3 \xe0s 10h",time:"H\xe1 1h",type:"warning"},{text:"Conte\xfado reprovado - ajustes necess\xe1rios",time:"H\xe1 2h",type:"error"}].map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"success"===e.type?"var(--success-500)":"error"===e.type?"var(--error-500)":"warning"===e.type?"var(--warning-500)":"var(--primary-500)"}}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm truncate",style:{color:"var(--text-primary)"},children:e.text})}),(0,s.jsx)("span",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:e.time})]},r))})]}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-2xl border p-6 lg:col-span-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",background:"linear-gradient(135deg, var(--bg-primary) 0%, var(--primary-50) 100%)"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--primary-100)"},children:(0,s.jsx)(m.Z,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold",style:{color:"var(--text-primary)"},children:"Sugest\xf5es da IA"}),(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Baseado nas tend\xeancias e performance dos seus clientes"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"\uD83D\uDCC8 Tend\xeancia detectada",description:'"IA no Marketing" est\xe1 em alta. Considere criar conte\xfado sobre isso.'},{title:"⏰ Melhor hor\xe1rio",description:"Posts \xe0s 18h t\xeam 40% mais engajamento para seus clientes."},{title:"\uD83C\uDFAF Conte\xfado sugerido",description:"Cliente X n\xe3o posta h\xe1 3 dias. Sugerimos um carrossel educativo."}].map((e,r)=>(0,s.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)"},children:[(0,s.jsx)("div",{className:"font-medium mb-1",style:{color:"var(--text-primary)"},children:e.title}),(0,s.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]},r))})]})]})]})}}},function(e){e.O(0,[2882,4438,4112,2971,2117,1744],function(){return e(e.s=9603)}),_N_E=e.O()}]);